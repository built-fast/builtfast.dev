name: 'API Keys'
description: |-

  Manage API access tokens for authentication. Tokens provide Bearer token
  authentication for all API requests.

  The plain text token is returned only once when created - store it securely
  as it cannot be retrieved again. Tokens can be revoked at any time.

  #### Usage

  Include the token in the `Authorization` header:

  ```
  Authorization: Bearer {your-api-token}
  ```
endpoints:
  -
    custom: []
    httpMethods:
      - GET
    uri: api/v1/vector/api-keys
    metadata:
      custom: []
      groupName: 'API Keys'
      groupDescription: |-

        Manage API access tokens for authentication. Tokens provide Bearer token
        authentication for all API requests.

        The plain text token is returned only once when created - store it securely
        as it cannot be retrieved again. Tokens can be revoked at any time.

        #### Usage

        Include the token in the `Authorization` header:

        ```
        Authorization: Bearer {your-api-token}
        ```
      subgroup: ''
      subgroupDescription: ''
      title: 'List API Keys'
      description: |-
        Retrieves a paginated list of API keys for the authenticated user.
        Token values are never returned - only metadata like name, creation date,
        and last used timestamp.
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer {YOUR_API_KEY}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters:
      per_page:
        custom: []
        name: per_page
        description: 'Number of items per page (max 100). Default: 15.'
        required: false
        example: 25
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      page:
        custom: []
        name: page
        description: 'Page number for pagination. Default: 1.'
        required: false
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanQueryParameters:
      per_page: 25
      page: 1
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
              "data": [
                  {
                      "id": 1,
                      "name": "Production API Key",
                      "last_used_at": "2025-05-27T10:30:00+00:00",
                      "expires_at": null,
                      "created_at": "2025-05-27T09:50:21+00:00"
                  }
              ],
              "links": {},
              "meta": {},
              "message": "API keys retrieved successfully",
              "http_status": 200
          }
        headers: []
        description: Success
      -
        custom: []
        status: 401
        content: '{"data": {}, "message": "Unauthenticated", "http_status": 401}'
        headers: []
        description: Unauthenticated
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - POST
    uri: api/v1/vector/api-keys
    metadata:
      custom: []
      groupName: 'API Keys'
      groupDescription: |-

        Manage API access tokens for authentication. Tokens provide Bearer token
        authentication for all API requests.

        The plain text token is returned only once when created - store it securely
        as it cannot be retrieved again. Tokens can be revoked at any time.

        #### Usage

        Include the token in the `Authorization` header:

        ```
        Authorization: Bearer {your-api-token}
        ```
      subgroup: ''
      subgroupDescription: ''
      title: 'Create API Key'
      description: |-
        Creates a new API key for the authenticated user. The plain text token is
        returned ONLY in this response - store it securely as it cannot be
        retrieved again.

        Use this token in the `Authorization` header for all API requests.

        Token names are automatically prefixed with `vector-` for identification.

        #### Abilities

        Abilities control what operations the token can perform. Available abilities:

        - `*` - Full access (default)
        - `vector:mcp` - Full MCP access (for AI assistants like Claude)
        - `vector:sites:read` - Read sites, environments, deployments, database operations
        - `vector:sites:write` - Manage sites, environments, deployments, database import/export
        - `vector:logs:read` - Read site logs
        - `vector:cdn:read` - Read CDN settings
        - `vector:cdn:write` - Manage CDN settings and cache
        - `vector:webhooks:read` - Read webhooks
        - `vector:webhooks:write` - Manage webhooks
        - `vector:secrets:read` - Read API keys and global secrets
        - `vector:secrets:write` - Manage API keys and global secrets
        - `vector:ssh-keys:read` - Read SSH keys
        - `vector:ssh-keys:write` - Manage SSH keys
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer {YOUR_API_KEY}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      name:
        custom: []
        name: name
        description: 'A descriptive name for this API key.'
        required: true
        example: 'Production API Key'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      abilities:
        custom: []
        name: abilities
        description: 'Optional array of abilities. Defaults to ["*"] for full access.'
        required: false
        example:
          - 'vector:sites:read'
          - 'vector:sites:write'
        type: 'string[]'
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanBodyParameters:
      name: 'Production API Key'
      abilities:
        - 'vector:sites:read'
        - 'vector:sites:write'
    fileParameters: []
    responses:
      -
        custom: []
        status: 201
        content: |-
          {
              "data": {
                  "id": 1,
                  "name": "vector-Production API Key",
                  "token": "1|a1b2c3d4e5f6789012345678901234567890123456789012345678901234abcd",
                  "abilities": ["*"],
                  "expires_at": null,
                  "created_at": "2025-05-27T09:50:21+00:00"
              },
              "message": "API key created successfully. Store this token securely - it will not be shown again.",
              "http_status": 201
          }
        headers: []
        description: Created
      -
        custom: []
        status: 401
        content: '{"data": {}, "message": "Unauthenticated", "http_status": 401}'
        headers: []
        description: Unauthenticated
      -
        custom: []
        status: 422
        content: |-
          {
              "data": {},
              "errors": {"name": ["The name field is required."]},
              "message": "Validation failed",
              "http_status": 422
          }
        headers: []
        description: 'Validation Error'
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - DELETE
    uri: 'api/v1/vector/api-keys/{tokenId}'
    metadata:
      custom: []
      groupName: 'API Keys'
      groupDescription: |-

        Manage API access tokens for authentication. Tokens provide Bearer token
        authentication for all API requests.

        The plain text token is returned only once when created - store it securely
        as it cannot be retrieved again. Tokens can be revoked at any time.

        #### Usage

        Include the token in the `Authorization` header:

        ```
        Authorization: Bearer {your-api-token}
        ```
      subgroup: ''
      subgroupDescription: ''
      title: 'Delete API Key'
      description: |-
        Deletes an API key. You cannot delete the token currently being used
        for authentication. This operation is irreversible.
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer {YOUR_API_KEY}'
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      tokenId:
        custom: []
        name: tokenId
        description: 'The API key ID.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanUrlParameters:
      tokenId: 1
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
              "data": {
                  "id": 1,
                  "name": "Production API Key",
                  "last_used_at": "2025-05-27T10:30:00+00:00",
                  "expires_at": null,
                  "created_at": "2025-05-27T09:50:21+00:00"
              },
              "message": "API key deleted successfully",
              "http_status": 200
          }
        headers: []
        description: Success
      -
        custom: []
        status: 401
        content: '{"data": {}, "message": "Unauthenticated", "http_status": 401}'
        headers: []
        description: Unauthenticated
      -
        custom: []
        status: 403
        content: '{"data": {}, "message": "Cannot delete the token currently in use", "http_status": 403}'
        headers: []
        description: 'Cannot Delete Current Token'
      -
        custom: []
        status: 404
        content: '{"data": {}, "message": "API key not found", "http_status": 404}'
        headers: []
        description: 'Not Found'
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
