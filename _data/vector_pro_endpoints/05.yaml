name: Restores
description: ''
endpoints:
  -
    custom: []
    httpMethods:
      - GET
    uri: api/v1/vector/restores
    metadata:
      custom: []
      groupName: Restores
      groupDescription: ''
      subgroup: ''
      subgroupDescription: |-
        Manage on-demand restores for Vector sites and environments.
        Restores use restic snapshots from a previously completed backup and are orchestrated
        via ECS tasks.

        #### Restore Status Lifecycle

        - `pending` - Restore record created, waiting for ECS task to start
        - `processing` - ECS task is running the restic restore
        - `completed` - Restore finished successfully
        - `failed` - Restore failed (see error_message for details)
      title: 'List Restores'
      description: |-
        Retrieves a paginated list of restores, optionally filtered by type, site, environment,
        or backup.
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer {YOUR_API_KEY}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters:
      type:
        custom: []
        name: type
        description: 'Filter by archivable type (site, environment).'
        required: false
        example: site
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      site_id:
        custom: []
        name: site_id
        description: 'Filter by site ID.'
        required: false
        example: 01jfgxk4nqrst5vwx9yz0abcde
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      environment_id:
        custom: []
        name: environment_id
        description: 'Filter by environment ID.'
        required: false
        example: 01jfgxk4nqrst5vwx9yz0abcde
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      backup_id:
        custom: []
        name: backup_id
        description: 'Filter by backup ID.'
        required: false
        example: 01jfgxk4nqrst5vwx9yz0abcde
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      per_page:
        custom: []
        name: per_page
        description: 'Number of items per page (max 100). Default: 15.'
        required: false
        example: 25
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      page:
        custom: []
        name: page
        description: 'Page number for pagination. Default: 1.'
        required: false
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanQueryParameters:
      type: site
      site_id: 01jfgxk4nqrst5vwx9yz0abcde
      environment_id: 01jfgxk4nqrst5vwx9yz0abcde
      backup_id: 01jfgxk4nqrst5vwx9yz0abcde
      per_page: 25
      page: 1
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 401
        content: '{"data":[],"message":"Unauthenticated","http_status":401}'
        headers:
          cache-control: 'no-cache, private'
          content-type: application/json
          x-vector-pro-revision: UNKNOWN
          access-control-allow-origin: 'https://go.builtfast.test'
          access-control-allow-credentials: 'true'
        description: null
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - GET
    uri: 'api/v1/vector/restores/{vectorRestore}'
    metadata:
      custom: []
      groupName: Restores
      groupDescription: ''
      subgroup: ''
      subgroupDescription: |-
        Manage on-demand restores for Vector sites and environments.
        Restores use restic snapshots from a previously completed backup and are orchestrated
        via ECS tasks.

        #### Restore Status Lifecycle

        - `pending` - Restore record created, waiting for ECS task to start
        - `processing` - ECS task is running the restic restore
        - `completed` - Restore finished successfully
        - `failed` - Restore failed (see error_message for details)
      title: 'Get Restore'
      description: 'Retrieves details of a specific restore.'
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer {YOUR_API_KEY}'
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      vectorRestore:
        custom: []
        name: vectorRestore
        description: 'The restore ID.'
        required: true
        example: 01jfgxk4nqrst5vwx9yz0abcdg
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanUrlParameters:
      vectorRestore: 01jfgxk4nqrst5vwx9yz0abcdg
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 401
        content: '{"data":[],"message":"Unauthenticated","http_status":401}'
        headers:
          cache-control: 'no-cache, private'
          content-type: application/json
          x-vector-pro-revision: UNKNOWN
          access-control-allow-origin: 'https://go.builtfast.test'
          access-control-allow-credentials: 'true'
        description: null
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - POST
    uri: api/v1/vector/restores
    metadata:
      custom: []
      groupName: Restores
      groupDescription: ''
      subgroup: ''
      subgroupDescription: |-
        Manage on-demand restores for Vector sites and environments.
        Restores use restic snapshots from a previously completed backup and are orchestrated
        via ECS tasks.

        #### Restore Status Lifecycle

        - `pending` - Restore record created, waiting for ECS task to start
        - `processing` - ECS task is running the restic restore
        - `completed` - Restore finished successfully
        - `failed` - Restore failed (see error_message for details)
      title: 'Create Restore'
      description: |-
        Creates a new restore from a previously completed backup. The archivable (site or
        environment) is inferred from the backup. The restore is created with a `pending`
        status and an async job is dispatched to orchestrate the restic restore via an ECS task.
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer {YOUR_API_KEY}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      backup_id:
        custom: []
        name: backup_id
        description: 'The ID of a completed backup to restore from. Must be a valid ULID.'
        required: true
        example: 01JFGXK4NQRST5VWX9YZ0ABCDI
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      scope:
        custom: []
        name: scope
        description: 'The restore scope (full, database, files). Default: full.'
        required: false
        example: full
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      search_replace:
        custom: []
        name: search_replace
        description: 'Optional search and replace pairs.'
        required: false
        example:
          -
            from: old-domain.com
            to: new-domain.com
        type: 'string[]'
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        deprecated: false
      drop_tables:
        custom: []
        name: drop_tables
        description: 'Whether to drop existing tables before restore. Default: false.'
        required: false
        example: false
        type: boolean
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      disable_foreign_keys:
        custom: []
        name: disable_foreign_keys
        description: 'Whether to disable foreign key checks during restore. Default: false.'
        required: false
        example: false
        type: boolean
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      'search_replace[].from':
        custom: []
        name: 'search_replace[].from'
        description: 'Must not be greater than 255 characters.'
        required: true
        example: 'n'
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      'search_replace[].to':
        custom: []
        name: 'search_replace[].to'
        description: 'Must not be greater than 255 characters.'
        required: true
        example: g
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
    cleanBodyParameters:
      backup_id: 01JFGXK4NQRST5VWX9YZ0ABCDI
      scope: full
      search_replace:
        -
          from: old-domain.com
          to: new-domain.com
      drop_tables: false
      disable_foreign_keys: false
    fileParameters: []
    responses: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
