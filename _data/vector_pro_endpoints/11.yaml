name: 'Site SSH Keys'
description: |-

  Manage SSH keys installed on specific dev sites. These keys are actually
  deployed to the site's container and grant SSH access.

  When a new dev site is created, account-level default SSH keys are
  automatically copied to the site. Use these endpoints to manage keys
  on existing sites.
endpoints:
  -
    custom: []
    httpMethods:
      - GET
    uri: 'api/v1/vector/sites/{site}/ssh-keys'
    metadata:
      custom: []
      groupName: 'Site SSH Keys'
      groupDescription: |-

        Manage SSH keys installed on specific dev sites. These keys are actually
        deployed to the site's container and grant SSH access.

        When a new dev site is created, account-level default SSH keys are
        automatically copied to the site. Use these endpoints to manage keys
        on existing sites.
      subgroup: ''
      subgroupDescription: ''
      title: 'List Site SSH Keys'
      description: 'Retrieves all SSH keys installed on a specific dev site.'
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer {YOUR_API_KEY}'
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      site:
        custom: []
        name: site
        description: 'The site ID.'
        required: true
        example: 01JFGXK4NQRST5VWX9YZ0ABCDI
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanUrlParameters:
      site: 01JFGXK4NQRST5VWX9YZ0ABCDI
    queryParameters:
      per_page:
        custom: []
        name: per_page
        description: 'Number of items per page (max 100). Default: 15.'
        required: false
        example: 25
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      page:
        custom: []
        name: page
        description: 'Page number for pagination. Default: 1.'
        required: false
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanQueryParameters:
      per_page: 25
      page: 1
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
              "data": [
                  {
                      "id": "01JFGXK4NQRST5VWX9YZ0ABCDI",
                      "account_id": 1,
                      "vector_site_id": "01JFGXK4NQRST5VWX9YZ0ABCDJ",
                      "name": "developer key",
                      "fingerprint": "SHA256:abc123def456...",
                      "public_key_preview": "ssh-rsa AAAAB3NzaC1yc2EA...user@host",
                      "is_account_default": false,
                      "created_at": "2026-01-15T10:00:00+00:00",
                      "updated_at": "2026-01-15T10:00:00+00:00"
                  }
              ],
              "links": {},
              "meta": {},
              "message": "SSH keys retrieved successfully",
              "http_status": 200
          }
        headers: []
        description: Success
      -
        custom: []
        status: 401
        content: '{"data": {}, "message": "Unauthenticated", "http_status": 401}'
        headers: []
        description: Unauthenticated
      -
        custom: []
        status: 403
        content: '{"data": {}, "message": "Unauthorized", "http_status": 403}'
        headers: []
        description: Unauthorized
      -
        custom: []
        status: 404
        content: '{"data": {}, "message": "Site not found", "http_status": 404}'
        headers: []
        description: 'Site Not Found'
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - POST
    uri: 'api/v1/vector/sites/{site}/ssh-keys'
    metadata:
      custom: []
      groupName: 'Site SSH Keys'
      groupDescription: |-

        Manage SSH keys installed on specific dev sites. These keys are actually
        deployed to the site's container and grant SSH access.

        When a new dev site is created, account-level default SSH keys are
        automatically copied to the site. Use these endpoints to manage keys
        on existing sites.
      subgroup: ''
      subgroupDescription: ''
      title: 'Add SSH Key to Site'
      description: |-
        Adds a new SSH key to a specific dev site. The key will be deployed to the
        site's container and grant SSH access.
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer {YOUR_API_KEY}'
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      site:
        custom: []
        name: site
        description: 'The site ID.'
        required: true
        example: 01JFGXK4NQRST5VWX9YZ0ABCDI
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanUrlParameters:
      site: 01JFGXK4NQRST5VWX9YZ0ABCDI
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      name:
        custom: []
        name: name
        description: 'A friendly name for the SSH key.'
        required: true
        example: 'developer key'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      public_key:
        custom: []
        name: public_key
        description: 'The SSH public key in OpenSSH format.'
        required: true
        example: 'ssh-rsa AAAAB3NzaC1yc2EA... user@host'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanBodyParameters:
      name: 'developer key'
      public_key: 'ssh-rsa AAAAB3NzaC1yc2EA... user@host'
    fileParameters: []
    responses:
      -
        custom: []
        status: 201
        content: |-
          {
              "data": {
                  "id": "01JFGXK4NQRST5VWX9YZ0ABCDI",
                  "account_id": 1,
                  "vector_site_id": "01JFGXK4NQRST5VWX9YZ0ABCDJ",
                  "name": "developer key",
                  "fingerprint": "SHA256:abc123def456...",
                  "public_key_preview": "ssh-rsa AAAAB3NzaC1yc2EA...user@host",
                  "is_account_default": false,
                  "created_at": "2026-01-15T10:00:00+00:00",
                  "updated_at": "2026-01-15T10:00:00+00:00"
              },
              "message": "SSH key added to site successfully",
              "http_status": 201
          }
        headers: []
        description: Success
      -
        custom: []
        status: 401
        content: '{"data": {}, "message": "Unauthenticated", "http_status": 401}'
        headers: []
        description: Unauthenticated
      -
        custom: []
        status: 403
        content: '{"data": {}, "message": "Unauthorized", "http_status": 403}'
        headers: []
        description: Unauthorized
      -
        custom: []
        status: 404
        content: '{"data": {}, "message": "Site not found", "http_status": 404}'
        headers: []
        description: 'Site Not Found'
      -
        custom: []
        status: 422
        content: |-
          {
              "data": {},
              "errors": {"public_key": ["Unable to parse SSH public key. Ensure it is in valid OpenSSH format."]},
              "message": "Validation failed",
              "http_status": 422
          }
        headers: []
        description: 'Invalid Key'
      -
        custom: []
        status: 422
        content: |-
          {
              "data": {},
              "errors": {"public_key": ["This SSH key is already installed on this site."]},
              "message": "Validation failed",
              "http_status": 422
          }
        headers: []
        description: 'Duplicate Key'
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - DELETE
    uri: 'api/v1/vector/sites/{site}/ssh-keys/{key}'
    metadata:
      custom: []
      groupName: 'Site SSH Keys'
      groupDescription: |-

        Manage SSH keys installed on specific dev sites. These keys are actually
        deployed to the site's container and grant SSH access.

        When a new dev site is created, account-level default SSH keys are
        automatically copied to the site. Use these endpoints to manage keys
        on existing sites.
      subgroup: ''
      subgroupDescription: ''
      title: 'Remove SSH Key from Site'
      description: |-
        Removes an SSH key from a specific dev site. The key will be removed from
        the site's container and SSH access will be revoked.
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer {YOUR_API_KEY}'
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      site:
        custom: []
        name: site
        description: 'The site ID.'
        required: true
        example: 01JFGXK4NQRST5VWX9YZ0ABCDI
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      key:
        custom: []
        name: key
        description: 'The SSH key ID.'
        required: true
        example: 01JFGXK4NQRST5VWX9YZ0ABCDK
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanUrlParameters:
      site: 01JFGXK4NQRST5VWX9YZ0ABCDI
      key: 01JFGXK4NQRST5VWX9YZ0ABCDK
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
              "data": {
                  "id": "01JFGXK4NQRST5VWX9YZ0ABCDK",
                  "account_id": 1,
                  "vector_site_id": "01JFGXK4NQRST5VWX9YZ0ABCDJ",
                  "name": "developer key",
                  "fingerprint": "SHA256:abc123def456...",
                  "public_key_preview": "ssh-rsa AAAAB3NzaC1yc2EA...user@host",
                  "is_account_default": false,
                  "created_at": "2026-01-15T10:00:00+00:00",
                  "updated_at": "2026-01-15T10:00:00+00:00"
              },
              "message": "SSH key removed from site successfully",
              "http_status": 200
          }
        headers: []
        description: Success
      -
        custom: []
        status: 401
        content: '{"data": {}, "message": "Unauthenticated", "http_status": 401}'
        headers: []
        description: Unauthenticated
      -
        custom: []
        status: 403
        content: '{"data": {}, "message": "Unauthorized", "http_status": 403}'
        headers: []
        description: Unauthorized
      -
        custom: []
        status: 404
        content: '{"data": {}, "message": "SSH key not found on this site", "http_status": 404}'
        headers: []
        description: 'Key Not Found'
      -
        custom: []
        status: 404
        content: '{"data": {}, "message": "Site not found", "http_status": 404}'
        headers: []
        description: 'Site Not Found'
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
