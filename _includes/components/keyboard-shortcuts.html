{% comment %}
  Keyboard Shortcuts Modal

  Shows all available keyboard shortcuts organized by category.
  Triggered by g? or from the command palette.

  Dependencies:
  - Alpine.js
  - /assets/js/command-palette.js (for store)
  - /assets/css/_command-palette.css
{% endcomment %}

<!-- Keyboard Shortcuts Modal -->
<template x-if="$store.commandPalette.shortcutsOpen">
  <div
    x-data="{ init() { document.body.style.overflow = 'hidden'; }, destroy() { document.body.style.overflow = ''; } }"
    @keydown.escape.window="$store.commandPalette.hideShortcuts()"
  >
    <!-- Backdrop -->
    <div
      class="shortcuts-modal-backdrop"
      @click="$store.commandPalette.hideShortcuts()"
      aria-hidden="true"
    ></div>

    <!-- Modal -->
    <div
      class="shortcuts-modal"
      role="dialog"
      aria-modal="true"
      aria-labelledby="shortcuts-title"
    >
      <!-- Header -->
      <header class="shortcuts-modal-header">
        <h2 id="shortcuts-title" class="shortcuts-modal-title">Keyboard Shortcuts</h2>
        <button
          type="button"
          class="shortcuts-modal-close"
          @click="$store.commandPalette.hideShortcuts()"
          aria-label="Close shortcuts"
        >
          <svg class="icon-sm" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M18 6 6 18"/>
            <path d="m6 6 12 12"/>
          </svg>
        </button>
      </header>

      <!-- Body -->
      <div class="shortcuts-modal-body">
        <!-- General -->
        <section class="shortcuts-section">
          <h3 class="shortcuts-section-title">General</h3>
          <div class="shortcuts-grid">
            <div class="shortcuts-item">
              <span class="shortcuts-item-label">Open command palette</span>
              <div class="shortcuts-item-keys">
                <span class="shortcuts-key">&#8984;</span>
                <span class="shortcuts-key">K</span>
              </div>
            </div>
            <div class="shortcuts-item">
              <span class="shortcuts-item-label">Search</span>
              <div class="shortcuts-item-keys">
                <span class="shortcuts-key">/</span>
              </div>
            </div>
            <div class="shortcuts-item">
              <span class="shortcuts-item-label">Show shortcuts</span>
              <div class="shortcuts-item-keys">
                <span class="shortcuts-key">g</span>
                <span class="shortcuts-key">?</span>
              </div>
            </div>
          </div>
        </section>

        <!-- Navigation -->
        <section class="shortcuts-section">
          <h3 class="shortcuts-section-title">Navigation</h3>
          <div class="shortcuts-grid">
            <div class="shortcuts-item">
              <span class="shortcuts-item-label">Home</span>
              <div class="shortcuts-item-keys">
                <span class="shortcuts-key">g</span>
                <span class="shortcuts-key">h</span>
              </div>
            </div>
            <div class="shortcuts-item">
              <span class="shortcuts-item-label">Documentation</span>
              <div class="shortcuts-item-keys">
                <span class="shortcuts-key">g</span>
                <span class="shortcuts-key">d</span>
              </div>
            </div>
            <div class="shortcuts-item">
              <span class="shortcuts-item-label">API Reference</span>
              <div class="shortcuts-item-keys">
                <span class="shortcuts-key">g</span>
                <span class="shortcuts-key">a</span>
              </div>
            </div>
            <div class="shortcuts-item">
              <span class="shortcuts-item-label">Blog</span>
              <div class="shortcuts-item-keys">
                <span class="shortcuts-key">g</span>
                <span class="shortcuts-key">b</span>
              </div>
            </div>
            <div class="shortcuts-item">
              <span class="shortcuts-item-label">Open Source</span>
              <div class="shortcuts-item-keys">
                <span class="shortcuts-key">g</span>
                <span class="shortcuts-key">o</span>
              </div>
            </div>
            <div class="shortcuts-item">
              <span class="shortcuts-item-label">Team</span>
              <div class="shortcuts-item-keys">
                <span class="shortcuts-key">g</span>
                <span class="shortcuts-key">t</span>
              </div>
            </div>
            <div class="shortcuts-item">
              <span class="shortcuts-item-label">Contact</span>
              <div class="shortcuts-item-keys">
                <span class="shortcuts-key">g</span>
                <span class="shortcuts-key">c</span>
              </div>
            </div>
            <div class="shortcuts-item">
              <span class="shortcuts-item-label">Security</span>
              <div class="shortcuts-item-keys">
                <span class="shortcuts-key">g</span>
                <span class="shortcuts-key">s</span>
              </div>
            </div>
          </div>
        </section>

        <!-- Palette Navigation -->
        <section class="shortcuts-section">
          <h3 class="shortcuts-section-title">In Command Palette</h3>
          <div class="shortcuts-grid">
            <div class="shortcuts-item">
              <span class="shortcuts-item-label">Navigate</span>
              <div class="shortcuts-item-keys">
                <span class="shortcuts-key">↑</span>
                <span class="shortcuts-key">↓</span>
              </div>
            </div>
            <div class="shortcuts-item">
              <span class="shortcuts-item-label">Select item</span>
              <div class="shortcuts-item-keys">
                <span class="shortcuts-key">Enter</span>
              </div>
            </div>
            <div class="shortcuts-item">
              <span class="shortcuts-item-label">Close</span>
              <div class="shortcuts-item-keys">
                <span class="shortcuts-key">Esc</span>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>
</template>
