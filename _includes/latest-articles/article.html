{% assign post = include.post %}
{% assign post_title = post.title | smartify %}
{% assign post_url = post.url | relative_url %}
{% assign post_date = post.date | date: "%b %-d, %Y" %}
{% assign body_paragraph_count = post.content | split: "</p>" | size | minus: 1 %}
{% assign plain_excerpt = post.excerpt | strip_html | normalize_whitespace %}
{% assign plain_body = post.content | strip_html | normalize_whitespace %}

<article class="py-5 border-b border-slate-100 dark:border-slate-800">
  <div class="flex items-start">
    <div>
      <div class="text-xs text-slate-500 uppercase mb-1"><span class="text-cyan-500">â€”</span> {{ post_date }}</div>
      <h3 class="text-lg font-[650] mb-1">
        <a class="inline-flex relative hover:text-cyan-500 duration-150 ease-out after:absolute after:bottom-0 after:left-0 after:h-0.5 after:w-0 after:bg-cyan-500 hover:after:w-full after:duration-150 after:ease-in-out" href="{{ post_url }}">{{ post_title }}</a>
      </h3>
      <div class="flex">
        <div class="grow text-sm text-slate-500 dark:text-slate-400">
          {% if body_paragraph_count > 1 or plain_excerpt != plain_body %}
            {{ post.excerpt }}
          {% else %}
            {{ post.content }}
          {% endif %}
        </div>
        <a class="hidden lg:flex shrink-0 text-cyan-500 items-center justify-center w-12 group" href="{{ post_url }}" tabindex="-1">
          <div class="fill-current group-hover:translate-x-2 duration-150 ease-in-out" xmlns="http://www.w3.org/2000/svg" width="14" height="12">
            {% include icons/move-right.svg %}
          </div>
        </a>
      </div>
    </div>
  </div>
</article>
