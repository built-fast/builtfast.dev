openapi: 3.1.0
info:
  title: 'Vector Pro'
  description: "A public API for interacting with Vector Pro by BuiltFast.\n\nFor more information, visit [builtfast.com/vector](https://builtfast.com/vector)."
  version: 1.0.0
  contact:
    name: 'BuiltFast Support'
    url: 'https://builtfast.com/support'
    email: support@builtfast.com
  termsOfService: 'https://builtfast.com/terms'
servers:
  -
    url: 'https://api.builtfast.com'
tags:
  -
    name: Sites
    description: "\nManage serverless WordPress sites deployed on Vector infrastructure. Sites are\nthe primary resource representing customer applications, each with associated\nenvironments (staging/production), deployments, and CDN configurations.\n\nSites are created with a `pending` status and transition to `active` once provisioning\ncompletes. You can suspend sites to reduce costs during low-traffic periods.\n\n#### Site Status Lifecycle\n\n- `pending` - Site creation initiated, provisioning in progress\n- `active` - Site is fully operational and serving traffic\n- `suspended` - Site is paused to reduce costs (can be unsuspended)\n- `terminating` - Site deletion in progress\n- `terminated` - Site has been fully removed"
  -
    name: Environments
    description: "\nManage deployment environments for sites. Each site can have multiple environments\nwith their own domains, PHP versions, and secrets. Environment names use a slug format\n(lowercase letters, numbers, and hyphens).\n\nEnvironments are created with a `pending` status and transition to `active` once\ncontainer provisioning completes. Each environment gets a unique subdomain under\nyour registered domain.\n\n#### Environment Status Lifecycle\n\n- `pending` - Environment creation initiated, provisioning in progress\n- `active` - Environment is fully operational\n- `suspended` - Environment is paused\n- `terminating` - Environment deletion in progress\n- `terminated` - Environment has been fully removed\n\n#### Production Environment\n\nEach site can have at most one production environment (`is_production: true`).\nThe production environment receives CDN integration via Bunny.net."
  -
    name: Account
    description: "\nManage your Vector Pro account settings including API keys, SSH keys, and global secrets."
  -
    name: Events
    description: "\nView event logs for Vector Pro resources. Events are logged automatically when\nactions occur (site creation, deployments, etc.) and are retained for 90 days.\n\nEvent logs provide an audit trail of all activity in your account.\n\n#### Actor Tracking\n\nEach event includes an `actor` object when the action was triggered via the API:\n- `ip` - The IP address of the request\n- `token_name` - The name of the API token used\n\nThe `actor` field is omitted for events triggered by system processes (scheduled tasks,\nqueue workers processing internal jobs, etc.) where no user context exists.\n\n#### Event Naming Convention\n\nEvents follow a consistent dot-notation pattern:\n- Simple actions: `{entity}.{action}` (e.g., `site.created`, `site.updated`)\n- Lifecycle operations: `{entity}.{operation}.{phase}` (e.g., `site.provisioning.started`)\n\n#### Available Event Types\n\n##### Site Events\n\n| Event | Description |\n|-------|-------------|\n| `site.created` | Site record has been created |\n| `site.updated` | Site settings have been modified |\n| `site.cloned` | Site has been cloned from another site |\n| `site.provisioning.started` | Container provisioning has started |\n| `site.provisioning.completed` | Site is fully provisioned and running |\n| `site.provisioning.failed` | Site provisioning failed |\n| `site.suspension.started` | Site suspension has started |\n| `site.suspension.completed` | Site has been suspended |\n| `site.unsuspension.started` | Site unsuspension has started |\n| `site.unsuspension.completed` | Site has been unsuspended |\n| `site.termination.started` | Site termination has started |\n| `site.termination.completed` | Site has been terminated |\n| `site.sftp.password.reset` | SFTP password has been reset |\n| `site.database.password.reset` | Database password has been reset |\n| `site.sshkey.added` | SSH key has been added to site |\n| `site.sshkey.removed` | SSH key has been removed from site |\n| `site.database.import.started` | Database import has started |\n| `site.database.import.completed` | Database import completed successfully |\n| `site.database.import.failed` | Database import failed |\n| `site.database.export.started` | Database export has started |\n| `site.database.export.completed` | Database export completed successfully |\n| `site.database.export.failed` | Database export failed |\n\n##### SSH Key Events\n\n| Event | Description |\n|-------|-------------|\n| `sshkey.created` | SSH key has been created |\n| `sshkey.deleted` | SSH key has been deleted |\n\n##### Environment Events\n\n| Event | Description |\n|-------|-------------|\n| `environment.created` | Production environment has been created |\n| `environment.updated` | Environment settings have been modified |\n| `environment.provisioning.started` | Environment provisioning has started |\n| `environment.provisioning.completed` | Environment is fully provisioned |\n| `environment.provisioning.failed` | Environment provisioning failed |\n| `environment.suspension.started` | Environment suspension has started |\n| `environment.suspension.completed` | Environment has been suspended |\n| `environment.unsuspension.started` | Environment unsuspension has started |\n| `environment.unsuspension.completed` | Environment has been unsuspended |\n| `environment.termination.started` | Environment termination has started |\n| `environment.termination.completed` | Environment has been terminated |\n| `environment.database.password.reset` | Database password has been reset |\n\n##### Deployment Events\n\n| Event | Description |\n|-------|-------------|\n| `deployment.started` | Deployment to production has started |\n| `deployment.completed` | Deployment completed successfully |\n| `deployment.failed` | Deployment failed |\n| `deployment.rollback.started` | Deployment rollback has started |\n| `deployment.rollback.completed` | Deployment rollback completed |\n| `deployment.rollback.failed` | Deployment rollback failed |\n\n##### CDN Events\n\n| Event | Description |\n|-------|-------------|\n| `cdn.setup.started` | CDN configuration has started |\n| `cdn.setup.completed` | CDN setup completed successfully |\n| `cdn.setup.failed` | CDN setup failed |\n\n##### DNS Events\n\n| Event | Description |\n|-------|-------------|\n| `dns.record.created` | DNS record has been created |\n| `dns.record.deleted` | DNS record has been deleted |\n\n##### WAF Events\n\n| Event | Description |\n|-------|-------------|\n| `waf.ratelimit.created` | Rate limit rule has been created |\n| `waf.ratelimit.updated` | Rate limit rule has been updated |\n| `waf.ratelimit.deleted` | Rate limit rule has been deleted |\n| `waf.blockedip.created` | IP block has been created |\n| `waf.blockedip.deleted` | IP block has been removed |\n| `waf.blockedreferrer.created` | Referrer block has been created |\n| `waf.blockedreferrer.deleted` | Referrer block has been removed |\n| `waf.allowedreferrer.created` | Allowed referrer has been added |\n| `waf.allowedreferrer.deleted` | Allowed referrer has been removed |\n\n##### Secret Events\n\n| Event | Description |\n|-------|-------------|\n| `secret.created` | Secret has been created |\n| `secret.updated` | Secret has been updated |\n| `secret.deleted` | Secret has been deleted |\n\n##### Domain Events\n\n| Event | Description |\n|-------|-------------|\n| `domain.created` | Domain has been registered |\n| `domain.deleted` | Domain has been deleted |\n\n##### API Key Events\n\n| Event | Description |\n|-------|-------------|\n| `apikey.created` | API key has been created |\n| `apikey.deleted` | API key has been deleted |\n\n##### Webhook Events\n\n| Event | Description |\n|-------|-------------|\n| `webhook.created` | Webhook endpoint has been registered |\n| `webhook.updated` | Webhook configuration has been modified |\n| `webhook.deleted` | Webhook endpoint has been removed |\n\n##### Cache Events\n\n| Event | Description |\n|-------|-------------|\n| `cache.purged` | Cache has been purged |"
  -
    name: 'PHP Versions'
    description: "\nGet available PHP versions for Vector environments."
  -
    name: Webhooks
    description: "\nManage webhooks that receive site event notifications. Webhooks are called when\nevents occur on your sites (deployments, status changes, etc.).\n\nSupports both HTTP webhooks and Slack webhooks for notifications.\n\n#### Webhook Signature Verification\n\nHTTP webhook payloads include an `X-Vector-Signature` header for verifying\nauthenticity. The header format is:\n\n```\nX-Vector-Signature: t=1234567890,v1=abc123...\n```\n\nTo verify a webhook:\n\n1. Parse the timestamp (`t`) and signature (`v1`) from the header\n2. Construct the signed message: `{timestamp}.{raw_request_body}`\n3. Compute HMAC-SHA256 using your webhook secret as the key\n4. Compare with the provided signature using constant-time comparison\n5. Validate timestamp is within tolerance (recommended: 5 minutes)\n\nExample verification (PHP):\n\n```php\n$header = $request->header('X-Vector-Signature');\npreg_match('/t=(\\d+),v1=([a-f0-9]+)/', $header, $matches);\n$timestamp = $matches[1];\n$signature = $matches[2];\n\n$message = $timestamp . '.' . $request->getContent();\n$expected = hash_hmac('sha256', $message, $webhookSecret);\n\nif (!hash_equals($expected, $signature)) {\n    throw new Exception('Invalid signature');\n}\n\nif (abs(time() - (int)$timestamp) > 300) {\n    throw new Exception('Timestamp too old');\n}\n```"
components:
  securitySchemes:
    default:
      type: http
      scheme: bearer
      description: 'You can retrieve your API key from your Vector dashboard.'
security:
  -
    default: []
paths:
  /api/v1/vector/sites:
    get:
      summary: 'List Sites'
      operationId: listSites
      description: "Retrieves a paginated list of all sites for the authenticated account.\nResults include each site's environments and their associated domains."
      parameters:
        -
          in: query
          name: per_page
          description: 'Number of items per page (max 100). Default: 15.'
          example: 25
          required: false
          schema:
            type: integer
            description: 'Number of items per page (max 100). Default: 15.'
            example: 25
        -
          in: query
          name: page
          description: 'Page number for pagination. Default: 1.'
          example: 1
          required: false
          schema:
            type: integer
            description: 'Page number for pagination. Default: 1.'
            example: 1
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    -
                      id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      your_customer_id: cust_12345
                      status: active
                      tags:
                        - wordpress
                        - production
                      dev_domain: site-abc123.dev.example.com
                      dev_db_host: dev-cluster.abc123.us-east-1.rds.amazonaws.com
                      dev_db_name: db_01jfgxk4nqrst5vwx9yz0abcde
                      environments:
                        -
                          id: 01JFGXK4NQRST5VWX9YZ0ABCDG
                          name: production
                          is_production: true
                          status: active
                          php_version: '8.3'
                          platform_domain: wispy-dust.vectorpages.com
                          custom_domain: ourshop.com
                          created_at: '2025-05-27T09:50:21+00:00'
                          updated_at: '2025-05-27T09:50:21+00:00'
                      created_at: '2025-05-27T09:50:21+00:00'
                      updated_at: '2025-05-27T09:50:21+00:00'
                  links: {  }
                  meta: {  }
                  message: 'Sites retrieved successfully'
                  http_status: 200
                properties:
                  data:
                    type: array
                    example:
                      -
                        id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                        your_customer_id: cust_12345
                        status: active
                        tags:
                          - wordpress
                          - production
                        dev_domain: site-abc123.dev.example.com
                        dev_db_host: dev-cluster.abc123.us-east-1.rds.amazonaws.com
                        dev_db_name: db_01jfgxk4nqrst5vwx9yz0abcde
                        environments:
                          -
                            id: 01JFGXK4NQRST5VWX9YZ0ABCDG
                            name: production
                            is_production: true
                            status: active
                            php_version: '8.3'
                            platform_domain: wispy-dust.vectorpages.com
                            custom_domain: ourshop.com
                            created_at: '2025-05-27T09:50:21+00:00'
                            updated_at: '2025-05-27T09:50:21+00:00'
                        created_at: '2025-05-27T09:50:21+00:00'
                        updated_at: '2025-05-27T09:50:21+00:00'
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                        your_customer_id:
                          type: string
                          example: cust_12345
                        status:
                          type: string
                          example: active
                        tags:
                          type: array
                          example:
                            - wordpress
                            - production
                          items:
                            type: string
                        dev_domain:
                          type: string
                          example: site-abc123.dev.example.com
                        dev_db_host:
                          type: string
                          example: dev-cluster.abc123.us-east-1.rds.amazonaws.com
                        dev_db_name:
                          type: string
                          example: db_01jfgxk4nqrst5vwx9yz0abcde
                        environments:
                          type: array
                          example:
                            -
                              id: 01JFGXK4NQRST5VWX9YZ0ABCDG
                              name: production
                              is_production: true
                              status: active
                              php_version: '8.3'
                              platform_domain: wispy-dust.vectorpages.com
                              custom_domain: ourshop.com
                              created_at: '2025-05-27T09:50:21+00:00'
                              updated_at: '2025-05-27T09:50:21+00:00'
                          items:
                            type: object
                            properties:
                              id:
                                type: string
                                example: 01JFGXK4NQRST5VWX9YZ0ABCDG
                              name:
                                type: string
                                example: production
                              is_production:
                                type: boolean
                                example: true
                              status:
                                type: string
                                example: active
                              php_version:
                                type: string
                                example: '8.3'
                              platform_domain:
                                type: string
                                example: wispy-dust.vectorpages.com
                              custom_domain:
                                type: string
                                example: ourshop.com
                              created_at:
                                type: string
                                example: '2025-05-27T09:50:21+00:00'
                              updated_at:
                                type: string
                                example: '2025-05-27T09:50:21+00:00'
                        created_at:
                          type: string
                          example: '2025-05-27T09:50:21+00:00'
                        updated_at:
                          type: string
                          example: '2025-05-27T09:50:21+00:00'
                  links:
                    type: object
                    properties: {  }
                  meta:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Sites retrieved successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
      tags:
        - Sites
    post:
      summary: 'Create Site'
      operationId: createSite
      description: "Creates a new site for the authenticated account. The site is created with a\n`pending` status and will transition to `active` once provisioning completes.\n\nA development container is automatically provisioned for the site, accessible\nvia the `dev_domain` in the response."
      parameters: []
      responses:
        201:
          description: Created
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                    your_customer_id: cust_12345
                    status: pending
                    dev_php_version: '8.3'
                    tags:
                      - wordpress
                      - production
                    dev_domain: my-site.vectorpages.com
                    dev_db_host: dev-cluster.abc123.us-east-1.rds.amazonaws.com
                    dev_db_name: db_01jfgxk4nqrst5vwx9yz0abcde
                    dev_sftp:
                      hostname: ssh.vectorpages.com
                      port: 22
                      username: my-site
                      password: 'aBcD1234!@#$EfGh5678'
                    dev_db_username: db_01jfgxk4nqrst5vwx9yz0abcde
                    dev_db_password: 'aBcD1234!@#$EfGh5678'
                    environments: []
                    created_at: '2025-05-27T09:50:21+00:00'
                    updated_at: '2025-05-27T09:50:21+00:00'
                  message: 'Vector site creation initiated'
                  http_status: 201
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      your_customer_id:
                        type: string
                        example: cust_12345
                      status:
                        type: string
                        example: pending
                      dev_php_version:
                        type: string
                        example: '8.3'
                      tags:
                        type: array
                        example:
                          - wordpress
                          - production
                        items:
                          type: string
                      dev_domain:
                        type: string
                        example: my-site.vectorpages.com
                      dev_db_host:
                        type: string
                        example: dev-cluster.abc123.us-east-1.rds.amazonaws.com
                      dev_db_name:
                        type: string
                        example: db_01jfgxk4nqrst5vwx9yz0abcde
                      dev_sftp:
                        type: object
                        properties:
                          hostname:
                            type: string
                            example: ssh.vectorpages.com
                          port:
                            type: integer
                            example: 22
                          username:
                            type: string
                            example: my-site
                          password:
                            type: string
                            example: 'aBcD1234!@#$EfGh5678'
                      dev_db_username:
                        type: string
                        example: db_01jfgxk4nqrst5vwx9yz0abcde
                      dev_db_password:
                        type: string
                        example: 'aBcD1234!@#$EfGh5678'
                      environments:
                        type: array
                        example: []
                      created_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                      updated_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                  message:
                    type: string
                    example: 'Vector site creation initiated'
                  http_status:
                    type: integer
                    example: 201
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        422:
          description: ''
          content:
            application/json:
              schema:
                oneOf:
                  -
                    description: 'Validation Error'
                    type: object
                    example:
                      data: {  }
                      errors:
                        your_customer_id:
                          - 'The partner customer id field is required.'
                      message: 'Validation failed'
                      http_status: 422
                    properties:
                      data:
                        type: object
                        properties: {  }
                      errors:
                        type: object
                        properties:
                          your_customer_id:
                            type: array
                            example:
                              - 'The partner customer id field is required.'
                            items:
                              type: string
                      message:
                        type: string
                        example: 'Validation failed'
                      http_status:
                        type: integer
                        example: 422
                  -
                    description: 'No Cluster Available'
                    type: object
                    example:
                      data: {  }
                      errors:
                        cluster:
                          - 'No Vector cluster is configured for your account.'
                      message: 'No Vector cluster available for this account'
                      http_status: 422
                    properties:
                      data:
                        type: object
                        properties: {  }
                      errors:
                        type: object
                        properties:
                          cluster:
                            type: array
                            example:
                              - 'No Vector cluster is configured for your account.'
                            items:
                              type: string
                      message:
                        type: string
                        example: 'No Vector cluster available for this account'
                      http_status:
                        type: integer
                        example: 422
      tags:
        - Sites
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                your_customer_id:
                  type: string
                  description: 'Your internal customer identifier. Used to correlate sites with your billing or CRM system.'
                  example: cust_12345
                dev_php_version:
                  type: string
                  description: 'The PHP version for the development container. Must be one of: 7.2, 7.3, 7.4, 8.0, 8.1, 8.2, 8.3, 8.4, 8.5.'
                  example: '8.3'
                tags:
                  type: array
                  description: 'Optional array of tags for categorizing the site. Each tag must be slug format (lowercase letters, numbers, hyphens), max 100 characters, and unique.'
                  example:
                    - wordpress
                    - production
                  items:
                    type: string
              required:
                - your_customer_id
                - dev_php_version
  '/api/v1/vector/sites/{site}':
    get:
      summary: 'Get Site'
      operationId: getSite
      description: 'Retrieves details of a specific site including its environments and domains.'
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                    your_customer_id: cust_12345
                    status: active
                    tags:
                      - wordpress
                      - production
                    dev_domain: site-abc123.dev.example.com
                    dev_db_host: dev-cluster.abc123.us-east-1.rds.amazonaws.com
                    dev_db_name: db_01jfgxk4nqrst5vwx9yz0abcde
                    environments:
                      -
                        id: 01JFGXK4NQRST5VWX9YZ0ABCDG
                        name: production
                        is_production: true
                        status: active
                        php_version: '8.3'
                        platform_domain: wispy-dust.vectorpages.com
                        custom_domain: ourshop.com
                        created_at: '2025-05-27T09:50:21+00:00'
                        updated_at: '2025-05-27T09:50:21+00:00'
                    created_at: '2025-05-27T09:50:21+00:00'
                    updated_at: '2025-05-27T09:50:21+00:00'
                  message: 'Site retrieved successfully'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      your_customer_id:
                        type: string
                        example: cust_12345
                      status:
                        type: string
                        example: active
                      tags:
                        type: array
                        example:
                          - wordpress
                          - production
                        items:
                          type: string
                      dev_domain:
                        type: string
                        example: site-abc123.dev.example.com
                      dev_db_host:
                        type: string
                        example: dev-cluster.abc123.us-east-1.rds.amazonaws.com
                      dev_db_name:
                        type: string
                        example: db_01jfgxk4nqrst5vwx9yz0abcde
                      environments:
                        type: array
                        example:
                          -
                            id: 01JFGXK4NQRST5VWX9YZ0ABCDG
                            name: production
                            is_production: true
                            status: active
                            php_version: '8.3'
                            platform_domain: wispy-dust.vectorpages.com
                            custom_domain: ourshop.com
                            created_at: '2025-05-27T09:50:21+00:00'
                            updated_at: '2025-05-27T09:50:21+00:00'
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              example: 01JFGXK4NQRST5VWX9YZ0ABCDG
                            name:
                              type: string
                              example: production
                            is_production:
                              type: boolean
                              example: true
                            status:
                              type: string
                              example: active
                            php_version:
                              type: string
                              example: '8.3'
                            platform_domain:
                              type: string
                              example: wispy-dust.vectorpages.com
                            custom_domain:
                              type: string
                              example: ourshop.com
                            created_at:
                              type: string
                              example: '2025-05-27T09:50:21+00:00'
                            updated_at:
                              type: string
                              example: '2025-05-27T09:50:21+00:00'
                      created_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                      updated_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                  message:
                    type: string
                    example: 'Site retrieved successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Site not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Site not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Sites
    put:
      summary: 'Update Site'
      operationId: updateSite
      description: "Updates an existing site's metadata. Only the fields provided will be updated."
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                    your_customer_id: cust_67890
                    status: active
                    tags:
                      - wordpress
                      - staging
                    dev_domain: site-abc123.dev.example.com
                    dev_db_host: dev-cluster.abc123.us-east-1.rds.amazonaws.com
                    dev_db_name: db_01jfgxk4nqrst5vwx9yz0abcde
                    environments: []
                    created_at: '2025-05-27T09:50:21+00:00'
                    updated_at: '2025-05-27T10:30:45+00:00'
                  message: 'Vector site updated successfully'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      your_customer_id:
                        type: string
                        example: cust_67890
                      status:
                        type: string
                        example: active
                      tags:
                        type: array
                        example:
                          - wordpress
                          - staging
                        items:
                          type: string
                      dev_domain:
                        type: string
                        example: site-abc123.dev.example.com
                      dev_db_host:
                        type: string
                        example: dev-cluster.abc123.us-east-1.rds.amazonaws.com
                      dev_db_name:
                        type: string
                        example: db_01jfgxk4nqrst5vwx9yz0abcde
                      environments:
                        type: array
                        example: []
                      created_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                      updated_at:
                        type: string
                        example: '2025-05-27T10:30:45+00:00'
                  message:
                    type: string
                    example: 'Vector site updated successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Site not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Site not found'
                  http_status:
                    type: integer
                    example: 404
        422:
          description: 'Validation Error'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  errors:
                    tags:
                      - 'Tags must be an array of strings.'
                  message: 'Validation failed'
                  http_status: 422
                properties:
                  data:
                    type: object
                    properties: {  }
                  errors:
                    type: object
                    properties:
                      tags:
                        type: array
                        example:
                          - 'Tags must be an array of strings.'
                        items:
                          type: string
                  message:
                    type: string
                    example: 'Validation failed'
                  http_status:
                    type: integer
                    example: 422
      tags:
        - Sites
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                your_customer_id:
                  type: string
                  description: 'Your internal customer identifier.'
                  example: cust_67890
                tags:
                  type: array
                  description: 'Array of tags for categorizing the site. Each tag must be slug format (lowercase letters, numbers, hyphens), max 100 characters, and unique. Pass `null` to clear tags.'
                  example:
                    - wordpress
                    - staging
                  items:
                    type: string
    delete:
      summary: 'Delete Site'
      operationId: deleteSite
      description: "Initiates deletion of a site. This terminates the site's development container\nand CDN resources. The site status transitions to `terminating` and eventually\n`terminated`.\n\n**Important:** All environments must be terminated before the site can be deleted.\nUse the environment delete endpoint to terminate each environment first.\n\nThis operation is irreversible. All site data and configurations will be\npermanently removed."
      parameters: []
      responses:
        202:
          description: Accepted
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                    your_customer_id: cust_12345
                    status: terminating
                    tags: []
                    dev_domain: site-abc123.dev.example.com
                    dev_db_host: dev-cluster.abc123.us-east-1.rds.amazonaws.com
                    dev_db_name: db_01jfgxk4nqrst5vwx9yz0abcde
                    environments: []
                    created_at: '2025-05-27T09:50:21+00:00'
                    updated_at: '2025-05-27T10:30:45+00:00'
                  message: 'Vector site deletion initiated'
                  http_status: 202
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      your_customer_id:
                        type: string
                        example: cust_12345
                      status:
                        type: string
                        example: terminating
                      tags:
                        type: array
                        example: []
                      dev_domain:
                        type: string
                        example: site-abc123.dev.example.com
                      dev_db_host:
                        type: string
                        example: dev-cluster.abc123.us-east-1.rds.amazonaws.com
                      dev_db_name:
                        type: string
                        example: db_01jfgxk4nqrst5vwx9yz0abcde
                      environments:
                        type: array
                        example: []
                      created_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                      updated_at:
                        type: string
                        example: '2025-05-27T10:30:45+00:00'
                  message:
                    type: string
                    example: 'Vector site deletion initiated'
                  http_status:
                    type: integer
                    example: 202
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Site not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Site not found'
                  http_status:
                    type: integer
                    example: 404
        422:
          description: 'Active Environments'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  errors:
                    site:
                      - 'Cannot delete site that has active environments. Please terminate all environments first.'
                  message: 'Validation failed'
                  http_status: 422
                properties:
                  data:
                    type: object
                    properties: {  }
                  errors:
                    type: object
                    properties:
                      site:
                        type: array
                        example:
                          - 'Cannot delete site that has active environments. Please terminate all environments first.'
                        items:
                          type: string
                  message:
                    type: string
                    example: 'Validation failed'
                  http_status:
                    type: integer
                    example: 422
      tags:
        - Sites
    parameters:
      -
        in: path
        name: site
        description: 'The site ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
  '/api/v1/vector/sites/{site}/suspend':
    put:
      summary: 'Suspend Site'
      operationId: suspendSite
      description: "Suspends a site's development container by scaling the ECS service to zero.\nThis reduces costs during low-traffic periods while preserving container\nresources for quick resumption.\n\nThe site must be in `active` status to be suspended. Suspended sites can be\nresumed using the unsuspend endpoint."
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                    account_id: 1
                    your_customer_id: cust_12345
                    status: suspended
                    tags: []
                    dev_domain: site-abc123.dev.example.com
                    environments: []
                    created_at: '2025-05-27T09:50:21+00:00'
                    updated_at: '2025-05-27T10:30:45+00:00'
                  message: 'Vector site suspension initiated'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      account_id:
                        type: integer
                        example: 1
                      your_customer_id:
                        type: string
                        example: cust_12345
                      status:
                        type: string
                        example: suspended
                      tags:
                        type: array
                        example: []
                      dev_domain:
                        type: string
                        example: site-abc123.dev.example.com
                      environments:
                        type: array
                        example: []
                      created_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                      updated_at:
                        type: string
                        example: '2025-05-27T10:30:45+00:00'
                  message:
                    type: string
                    example: 'Vector site suspension initiated'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Site not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Site not found'
                  http_status:
                    type: integer
                    example: 404
        422:
          description: 'Invalid State'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  errors:
                    status:
                      - "Site cannot be suspended from current state 'pending'. Site must be 'active' to be suspended."
                  message: "Site cannot be suspended from current state 'pending'. Site must be 'active' to be suspended."
                  http_status: 422
                properties:
                  data:
                    type: object
                    properties: {  }
                  errors:
                    type: object
                    properties:
                      status:
                        type: array
                        example:
                          - "Site cannot be suspended from current state 'pending'. Site must be 'active' to be suspended."
                        items:
                          type: string
                  message:
                    type: string
                    example: "Site cannot be suspended from current state 'pending'. Site must be 'active' to be suspended."
                  http_status:
                    type: integer
                    example: 422
      tags:
        - Sites
    parameters:
      -
        in: path
        name: site
        description: 'The site ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
  '/api/v1/vector/sites/{site}/unsuspend':
    put:
      summary: 'Unsuspend Site'
      operationId: unsuspendSite
      description: "Resumes a previously suspended site's development container by scaling the\nECS service back to one. The site must be in `suspended` status to be unsuspended.\n\nAfter unsuspension, the site transitions back to `active` status and resumes\nserving traffic."
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                    account_id: 1
                    your_customer_id: cust_12345
                    status: active
                    tags: []
                    dev_domain: site-abc123.dev.example.com
                    environments: []
                    created_at: '2025-05-27T09:50:21+00:00'
                    updated_at: '2025-05-27T10:30:45+00:00'
                  message: 'Vector site unsuspension initiated'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      account_id:
                        type: integer
                        example: 1
                      your_customer_id:
                        type: string
                        example: cust_12345
                      status:
                        type: string
                        example: active
                      tags:
                        type: array
                        example: []
                      dev_domain:
                        type: string
                        example: site-abc123.dev.example.com
                      environments:
                        type: array
                        example: []
                      created_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                      updated_at:
                        type: string
                        example: '2025-05-27T10:30:45+00:00'
                  message:
                    type: string
                    example: 'Vector site unsuspension initiated'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Site not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Site not found'
                  http_status:
                    type: integer
                    example: 404
        422:
          description: 'Invalid State'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  errors:
                    status:
                      - "Site cannot be unsuspended from current state 'active'. Site must be 'suspended' to be unsuspended."
                  message: "Site cannot be unsuspended from current state 'active'. Site must be 'suspended' to be unsuspended."
                  http_status: 422
                properties:
                  data:
                    type: object
                    properties: {  }
                  errors:
                    type: object
                    properties:
                      status:
                        type: array
                        example:
                          - "Site cannot be unsuspended from current state 'active'. Site must be 'suspended' to be unsuspended."
                        items:
                          type: string
                  message:
                    type: string
                    example: "Site cannot be unsuspended from current state 'active'. Site must be 'suspended' to be unsuspended."
                  http_status:
                    type: integer
                    example: 422
      tags:
        - Sites
    parameters:
      -
        in: path
        name: site
        description: 'The site ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
  '/api/v1/vector/sites/{site}/clone':
    post:
      summary: 'Clone Site'
      operationId: cloneSite
      description: "Creates a new site by cloning an existing site's development container,\nincluding files and database. Only the development container is cloned;\nproduction and staging environments are not copied. The new site is created\nwith fresh, empty environments.\n\nThis workflow is useful for testing larger redesigns or refactors in\nisolation while still allowing maintenance of the original site. The cloned\nsite operates independently, so changes to one do not affect the other.\n\nThe new site inherits attributes from the source site unless overridden in\nthe request. The cloned site is created with a `pending` status and will\ntransition to `active` once the clone operation completes."
      parameters: []
      responses:
        201:
          description: Created
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDF
                    your_customer_id: cust_12345
                    status: pending
                    tags:
                      - wordpress
                      - clone
                    dev_domain: site-xyz789.dev.example.com
                    dev_db_username: db_01jfgxk4nqrst5vwx9yz0abcdf
                    dev_db_password: 'aBcD1234!@#$EfGh5678'
                    environments: []
                    created_at: '2025-05-27T09:50:21+00:00'
                    updated_at: '2025-05-27T09:50:21+00:00'
                  message: 'Vector site clone initiated'
                  http_status: 201
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDF
                      your_customer_id:
                        type: string
                        example: cust_12345
                      status:
                        type: string
                        example: pending
                      tags:
                        type: array
                        example:
                          - wordpress
                          - clone
                        items:
                          type: string
                      dev_domain:
                        type: string
                        example: site-xyz789.dev.example.com
                      dev_db_username:
                        type: string
                        example: db_01jfgxk4nqrst5vwx9yz0abcdf
                      dev_db_password:
                        type: string
                        example: 'aBcD1234!@#$EfGh5678'
                      environments:
                        type: array
                        example: []
                      created_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                      updated_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                  message:
                    type: string
                    example: 'Vector site clone initiated'
                  http_status:
                    type: integer
                    example: 201
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Site not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Site not found'
                  http_status:
                    type: integer
                    example: 404
        422:
          description: ''
          content:
            application/json:
              schema:
                oneOf:
                  -
                    description: 'Validation Error - Site Not Active'
                    type: object
                    example:
                      data: {  }
                      errors:
                        site:
                          - 'Source site must be in active state to clone.'
                      message: 'Validation failed'
                      http_status: 422
                    properties:
                      data:
                        type: object
                        properties: {  }
                      errors:
                        type: object
                        properties:
                          site:
                            type: array
                            example:
                              - 'Source site must be in active state to clone.'
                            items:
                              type: string
                      message:
                        type: string
                        example: 'Validation failed'
                      http_status:
                        type: integer
                        example: 422
                  -
                    description: 'Validation Error - No Dev Container'
                    type: object
                    example:
                      data: {  }
                      errors:
                        site:
                          - 'Source site must have a dev container to clone.'
                      message: 'Validation failed'
                      http_status: 422
                    properties:
                      data:
                        type: object
                        properties: {  }
                      errors:
                        type: object
                        properties:
                          site:
                            type: array
                            example:
                              - 'Source site must have a dev container to clone.'
                            items:
                              type: string
                      message:
                        type: string
                        example: 'Validation failed'
                      http_status:
                        type: integer
                        example: 422
      tags:
        - Sites
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                your_customer_id:
                  type:
                    - string
                    - 'null'
                  description: 'Optional customer identifier. Inherits from source if not provided.'
                  example: cust_67890
                dev_php_version:
                  type:
                    - string
                    - 'null'
                  description: 'Optional PHP version. Inherits from source if not provided.'
                  example: '8.3'
                tags:
                  type: array
                  description: 'Optional tags. Inherits from source if not provided.'
                  example:
                    - wordpress
                    - clone
                  items:
                    type: string
    parameters:
      -
        in: path
        name: site
        description: 'The source site ID to clone from.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
  '/api/v1/vector/sites/{site}/sftp/reset-password':
    post:
      summary: 'Reset Password'
      operationId: sitesSFTPResetPassword
      description: "Generates a new SFTP password for the site's development container.\nThe old password is immediately invalidated.\n\n> [!WARNING]\n> The new password is returned ONLY in this response. Store it securelyit cannot be retrieved again.\n\nSFTP connection details:\n- hostname: ssh.{partner-domain} (e.g., ssh.vectorpages.com)\n- port: 22\n- username: site subdomain (e.g., my-site)\n- password: the generated password"
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                    your_customer_id: null
                    status: active
                    dev_php_version: '8.3'
                    tags: []
                    dev_domain: my-site.vectorpages.com
                    dev_sftp:
                      hostname: ssh.vectorpages.com
                      port: 22
                      username: my-site
                      password: 'aBcD1234!@#$EfGh5678'
                    environments: []
                    created_at: '2024-01-01T00:00:00.000000Z'
                    updated_at: '2024-01-01T00:00:00.000000Z'
                  message: 'SFTP password reset successfully. Store the new password securely - it will not be shown again.'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      your_customer_id:
                        type: string
                        example: null
                      status:
                        type: string
                        example: active
                      dev_php_version:
                        type: string
                        example: '8.3'
                      tags:
                        type: array
                        example: []
                      dev_domain:
                        type: string
                        example: my-site.vectorpages.com
                      dev_sftp:
                        type: object
                        properties:
                          hostname:
                            type: string
                            example: ssh.vectorpages.com
                          port:
                            type: integer
                            example: 22
                          username:
                            type: string
                            example: my-site
                          password:
                            type: string
                            example: 'aBcD1234!@#$EfGh5678'
                      environments:
                        type: array
                        example: []
                      created_at:
                        type: string
                        example: '2024-01-01T00:00:00.000000Z'
                      updated_at:
                        type: string
                        example: '2024-01-01T00:00:00.000000Z'
                  message:
                    type: string
                    example: 'SFTP password reset successfully. Store the new password securely - it will not be shown again.'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Site not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Site not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Sites
    parameters:
      -
        in: path
        name: site
        description: 'The site ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
  '/api/v1/vector/sites/{site}/db/reset-password':
    post:
      summary: 'Reset Password'
      operationId: sitesDatabasesResetPassword
      description: "Generates a new database password for the site's development container.\nThe old password is immediately invalidated.\n\n> [!WARNING]\n> The new password is returned ONLY in this response. Store it securelyit cannot be retrieved again."
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                    your_customer_id: null
                    status: active
                    dev_php_version: '8.3'
                    tags: []
                    dev_domain: site-abc123.vectorpages.com
                    dev_db_username: db_01jfgxk4nqrst5vwx9yz0abcde
                    dev_db_password: 'aBcD1234!@#$EfGh5678'
                    environments: []
                    created_at: '2024-01-01T00:00:00.000000Z'
                    updated_at: '2024-01-01T00:00:00.000000Z'
                  message: 'Database password reset successfully. Store the new password securely - it will not be shown again.'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      your_customer_id:
                        type: string
                        example: null
                      status:
                        type: string
                        example: active
                      dev_php_version:
                        type: string
                        example: '8.3'
                      tags:
                        type: array
                        example: []
                      dev_domain:
                        type: string
                        example: site-abc123.vectorpages.com
                      dev_db_username:
                        type: string
                        example: db_01jfgxk4nqrst5vwx9yz0abcde
                      dev_db_password:
                        type: string
                        example: 'aBcD1234!@#$EfGh5678'
                      environments:
                        type: array
                        example: []
                      created_at:
                        type: string
                        example: '2024-01-01T00:00:00.000000Z'
                      updated_at:
                        type: string
                        example: '2024-01-01T00:00:00.000000Z'
                  message:
                    type: string
                    example: 'Database password reset successfully. Store the new password securely - it will not be shown again.'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Site not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Site not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Sites
    parameters:
      -
        in: path
        name: site
        description: 'The site ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
  '/api/v1/vector/sites/{site}/wp/reconfig':
    post:
      summary: 'Regenerate wp-config.php'
      operationId: sitesWordPressRegenerateWpConfig.php
      description: "Regenerates the wp-config.php file for the site's development container\nwith current database credentials, WP_HOME/WP_SITEURL, and HMAC secret."
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                    your_customer_id: null
                    status: active
                    dev_php_version: '8.3'
                    tags: []
                    dev_domain: my-site.vectorpages.com
                    environments: []
                    created_at: '2024-01-01T00:00:00.000000Z'
                    updated_at: '2024-01-01T00:00:00.000000Z'
                  message: 'WordPress configuration regenerated successfully'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      your_customer_id:
                        type: string
                        example: null
                      status:
                        type: string
                        example: active
                      dev_php_version:
                        type: string
                        example: '8.3'
                      tags:
                        type: array
                        example: []
                      dev_domain:
                        type: string
                        example: my-site.vectorpages.com
                      environments:
                        type: array
                        example: []
                      created_at:
                        type: string
                        example: '2024-01-01T00:00:00.000000Z'
                      updated_at:
                        type: string
                        example: '2024-01-01T00:00:00.000000Z'
                  message:
                    type: string
                    example: 'WordPress configuration regenerated successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        422:
          description: 'Not Active'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  errors:
                    status:
                      - "Site must be active to regenerate wp-config. Current state: 'pending'."
                  message: "Site must be active to regenerate wp-config. Current state: 'pending'."
                  http_status: 422
                properties:
                  data:
                    type: object
                    properties: {  }
                  errors:
                    type: object
                    properties:
                      status:
                        type: array
                        example:
                          - "Site must be active to regenerate wp-config. Current state: 'pending'."
                        items:
                          type: string
                  message:
                    type: string
                    example: "Site must be active to regenerate wp-config. Current state: 'pending'."
                  http_status:
                    type: integer
                    example: 422
      tags:
        - Sites
    parameters:
      -
        in: path
        name: site
        description: 'The site ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
  '/api/v1/vector/sites/{site}/db/import':
    post:
      summary: 'Import Directly'
      operationId: sitesDatabasesImportDirectly
      description: "Import SQL content directly from the request body. For files under 50MB.\nThe request body should contain raw SQL content with Content-Type: application/sql.\n\nThis is a synchronous operation that blocks until the import completes."
      parameters:
        -
          in: query
          name: drop_tables
          description: 'Drop all existing tables before import. Default: false.'
          example: true
          required: false
          schema:
            type:
              - boolean
              - 'null'
            description: 'Drop all existing tables before import. Default: false.'
            example: true
        -
          in: query
          name: disable_foreign_keys
          description: 'Disable foreign key checks during import. Default: true.'
          example: true
          required: false
          schema:
            type:
              - boolean
              - 'null'
            description: 'Disable foreign key checks during import. Default: true.'
            example: true
        -
          in: query
          name: search_replace_from
          description: 'The domain/string to search for after import. Required with `search_replace_to`.'
          example: oldsite.com
          required: false
          schema:
            type:
              - string
              - 'null'
            description: 'The domain/string to search for after import. Required with `search_replace_to`.'
            example: oldsite.com
        -
          in: query
          name: search_replace_to
          description: 'The domain/string to replace with after import. Required with `search_replace_from`.'
          example: dev.newsite.builtfast.dev
          required: false
          schema:
            type:
              - string
              - 'null'
            description: 'The domain/string to replace with after import. Required with `search_replace_from`.'
            example: dev.newsite.builtfast.dev
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    success: true
                    duration_ms: 1234
                  message: 'Database imported successfully'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      success:
                        type: boolean
                        example: true
                      duration_ms:
                        type: integer
                        example: 1234
                  message:
                    type: string
                    example: 'Database imported successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Site Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Site not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Site not found'
                  http_status:
                    type: integer
                    example: 404
        422:
          description: 'Empty Body'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  errors:
                    content:
                      - 'SQL content is required in the request body'
                  message: 'Request body is empty'
                  http_status: 422
                properties:
                  data:
                    type: object
                    properties: {  }
                  errors:
                    type: object
                    properties:
                      content:
                        type: array
                        example:
                          - 'SQL content is required in the request body'
                        items:
                          type: string
                  message:
                    type: string
                    example: 'Request body is empty'
                  http_status:
                    type: integer
                    example: 422
        500:
          description: 'Import Failed'
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    success: false
                    duration_ms: 567
                    error: 'Access denied for user'
                  message: 'Database import failed'
                  http_status: 500
                properties:
                  data:
                    type: object
                    properties:
                      success:
                        type: boolean
                        example: false
                      duration_ms:
                        type: integer
                        example: 567
                      error:
                        type: string
                        example: 'Access denied for user'
                  message:
                    type: string
                    example: 'Database import failed'
                  http_status:
                    type: integer
                    example: 500
      tags:
        - Sites
    parameters:
      -
        in: path
        name: site
        description: 'The site ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
  '/api/v1/vector/sites/{site}/db/imports':
    post:
      summary: 'Create Import Session'
      operationId: sitesDatabasesCreateImportSession
      description: "Create a database import session for large files (>50MB). Returns a presigned\nS3 upload URL that can be used to upload the SQL file directly to storage.\n\nAfter uploading, call the \"Run Import\" endpoint to execute the import."
      parameters: []
      responses:
        201:
          description: Created
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDF
                    vector_site_id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                    status: pending
                    filename: backup-2025-01-23.sql
                    content_length: 104857600
                    checksum:
                      provided_md5: d41d8cd98f00b204e9800998ecf8427e
                      s3_etag: null
                    options:
                      drop_tables: true
                      disable_foreign_keys: true
                      search_replace:
                        from: oldsite.com
                        to: dev.newsite.builtfast.dev
                    upload_url: 'https://s3.amazonaws.com/bucket/imports/...'
                    upload_expires_at: '2025-01-23T11:00:00+00:00'
                    duration_ms: null
                    error_message: null
                    created_at: '2025-01-23T10:00:00+00:00'
                    started_at: null
                    completed_at: null
                  message: 'Import session created successfully'
                  http_status: 201
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDF
                      vector_site_id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      status:
                        type: string
                        example: pending
                      filename:
                        type: string
                        example: backup-2025-01-23.sql
                      content_length:
                        type: integer
                        example: 104857600
                      checksum:
                        type: object
                        properties:
                          provided_md5:
                            type: string
                            example: d41d8cd98f00b204e9800998ecf8427e
                          s3_etag:
                            type: string
                            example: null
                      options:
                        type: object
                        properties:
                          drop_tables:
                            type: boolean
                            example: true
                          disable_foreign_keys:
                            type: boolean
                            example: true
                          search_replace:
                            type: object
                            properties:
                              from:
                                type: string
                                example: oldsite.com
                              to:
                                type: string
                                example: dev.newsite.builtfast.dev
                      upload_url:
                        type: string
                        example: 'https://s3.amazonaws.com/bucket/imports/...'
                      upload_expires_at:
                        type: string
                        example: '2025-01-23T11:00:00+00:00'
                      duration_ms:
                        type: string
                        example: null
                      error_message:
                        type: string
                        example: null
                      created_at:
                        type: string
                        example: '2025-01-23T10:00:00+00:00'
                      started_at:
                        type: string
                        example: null
                      completed_at:
                        type: string
                        example: null
                  message:
                    type: string
                    example: 'Import session created successfully'
                  http_status:
                    type: integer
                    example: 201
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Site Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Site not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Site not found'
                  http_status:
                    type: integer
                    example: 404
        422:
          description: 'Validation Error'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  errors:
                    content_length:
                      - 'The content length must not exceed 10GB.'
                  message: 'Validation failed'
                  http_status: 422
                properties:
                  data:
                    type: object
                    properties: {  }
                  errors:
                    type: object
                    properties:
                      content_length:
                        type: array
                        example:
                          - 'The content length must not exceed 10GB.'
                        items:
                          type: string
                  message:
                    type: string
                    example: 'Validation failed'
                  http_status:
                    type: integer
                    example: 422
      tags:
        - Sites
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                filename:
                  type:
                    - string
                    - 'null'
                  description: 'Optional filename for reference.'
                  example: backup-2025-01-23.sql
                content_length:
                  type:
                    - integer
                    - 'null'
                  description: 'Optional file size in bytes for validation.'
                  example: 104857600
                content_md5:
                  type:
                    - string
                    - 'null'
                  description: 'Optional MD5 checksum (32 hex chars) for integrity verification.'
                  example: d41d8cd98f00b204e9800998ecf8427e
                options:
                  type:
                    - object
                    - 'null'
                  description: 'Optional import options.'
                  example: []
                  properties:
                    drop_tables:
                      type:
                        - boolean
                        - 'null'
                      description: 'Drop all existing tables before import. Default: false.'
                      example: true
                    disable_foreign_keys:
                      type:
                        - boolean
                        - 'null'
                      description: 'Disable foreign key checks during import. Default: true.'
                      example: true
                    search_replace:
                      type:
                        - object
                        - 'null'
                      description: 'Optional search-replace configuration to run after import. Both `from` and `to` are required together.'
                      example: []
                      properties:
                        from:
                          type:
                            - string
                            - 'null'
                          description: 'The domain/string to search for. Required with `to`.'
                          example: oldsite.com
                        to:
                          type:
                            - string
                            - 'null'
                          description: 'The domain/string to replace with. Required with `from`.'
                          example: dev.newsite.builtfast.dev
    parameters:
      -
        in: path
        name: site
        description: 'The site ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
  '/api/v1/vector/sites/{site}/db/imports/{import}/run':
    post:
      summary: 'Run Import'
      operationId: sitesDatabasesRunImport
      description: "Execute a database import from S3 after the file has been uploaded via the\npresigned URL. Dispatches an async job to perform the import.\n\nThe import must be in `pending` or `uploaded` status and not expired."
      parameters: []
      responses:
        202:
          description: Accepted
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDF
                    vector_site_id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                    status: uploaded
                    filename: backup-2025-01-23.sql
                    content_length: 104857600
                    checksum:
                      provided_md5: d41d8cd98f00b204e9800998ecf8427e
                      s3_etag: null
                    options:
                      drop_tables: true
                      disable_foreign_keys: true
                      search_replace:
                        from: oldsite.com
                        to: dev.newsite.builtfast.dev
                    duration_ms: null
                    error_message: null
                    created_at: '2025-01-23T10:00:00+00:00'
                    uploaded_at: '2025-01-23T10:00:30+00:00'
                    started_at: null
                    completed_at: null
                  message: 'Database import started'
                  http_status: 202
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDF
                      vector_site_id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      status:
                        type: string
                        example: uploaded
                      filename:
                        type: string
                        example: backup-2025-01-23.sql
                      content_length:
                        type: integer
                        example: 104857600
                      checksum:
                        type: object
                        properties:
                          provided_md5:
                            type: string
                            example: d41d8cd98f00b204e9800998ecf8427e
                          s3_etag:
                            type: string
                            example: null
                      options:
                        type: object
                        properties:
                          drop_tables:
                            type: boolean
                            example: true
                          disable_foreign_keys:
                            type: boolean
                            example: true
                          search_replace:
                            type: object
                            properties:
                              from:
                                type: string
                                example: oldsite.com
                              to:
                                type: string
                                example: dev.newsite.builtfast.dev
                      duration_ms:
                        type: string
                        example: null
                      error_message:
                        type: string
                        example: null
                      created_at:
                        type: string
                        example: '2025-01-23T10:00:00+00:00'
                      uploaded_at:
                        type: string
                        example: '2025-01-23T10:00:30+00:00'
                      started_at:
                        type: string
                        example: null
                      completed_at:
                        type: string
                        example: null
                  message:
                    type: string
                    example: 'Database import started'
                  http_status:
                    type: integer
                    example: 202
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Import not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Import not found'
                  http_status:
                    type: integer
                    example: 404
        422:
          description: ''
          content:
            application/json:
              schema:
                oneOf:
                  -
                    description: 'Not Ready'
                    type: object
                    example:
                      data: {  }
                      errors:
                        status:
                          - 'Import must be in pending or uploaded status'
                      message: 'Import is not ready to run'
                      http_status: 422
                    properties:
                      data:
                        type: object
                        properties: {  }
                      errors:
                        type: object
                        properties:
                          status:
                            type: array
                            example:
                              - 'Import must be in pending or uploaded status'
                            items:
                              type: string
                      message:
                        type: string
                        example: 'Import is not ready to run'
                      http_status:
                        type: integer
                        example: 422
                  -
                    description: Expired
                    type: object
                    example:
                      data: {  }
                      errors:
                        expires_at:
                          - 'Please create a new import session'
                      message: 'Import session has expired'
                      http_status: 422
                    properties:
                      data:
                        type: object
                        properties: {  }
                      errors:
                        type: object
                        properties:
                          expires_at:
                            type: array
                            example:
                              - 'Please create a new import session'
                            items:
                              type: string
                      message:
                        type: string
                        example: 'Import session has expired'
                      http_status:
                        type: integer
                        example: 422
      tags:
        - Sites
    parameters:
      -
        in: path
        name: site
        description: 'The site ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
      -
        in: path
        name: import
        description: 'The import ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcdf
        required: true
        schema:
          type: string
  '/api/v1/vector/sites/{site}/db/export':
    post:
      summary: 'Create Export'
      operationId: sitesDatabasesCreateExport
      description: "Start a database export operation. Dispatches an async job to create\nthe export and upload it to S3. Poll the status endpoint to check progress\nand retrieve the download URL when complete."
      parameters: []
      responses:
        202:
          description: Accepted
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDG
                    vector_site_id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                    status: pending
                    format: sql
                    size_bytes: null
                    duration_ms: null
                    error_message: null
                    download_expires_at: null
                    created_at: '2025-01-23T10:00:00+00:00'
                    started_at: null
                    completed_at: null
                  message: 'Database export started'
                  http_status: 202
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDG
                      vector_site_id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      status:
                        type: string
                        example: pending
                      format:
                        type: string
                        example: sql
                      size_bytes:
                        type: string
                        example: null
                      duration_ms:
                        type: string
                        example: null
                      error_message:
                        type: string
                        example: null
                      download_expires_at:
                        type: string
                        example: null
                      created_at:
                        type: string
                        example: '2025-01-23T10:00:00+00:00'
                      started_at:
                        type: string
                        example: null
                      completed_at:
                        type: string
                        example: null
                  message:
                    type: string
                    example: 'Database export started'
                  http_status:
                    type: integer
                    example: 202
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Site Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Site not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Site not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Sites
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                format:
                  type:
                    - string
                    - 'null'
                  description: 'Export format. Currently only "sql" is supported. Default: sql.'
                  example: sql
    parameters:
      -
        in: path
        name: site
        description: 'The site ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
  '/api/v1/vector/sites/{site}/db/imports/{import}':
    get:
      summary: 'Get Import Status'
      operationId: sitesDatabasesGetImportStatus
      description: "Get the current status of a database import operation. If the import is still\npending and not expired, includes a fresh presigned upload URL."
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDF
                    vector_site_id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                    status: completed
                    filename: backup-2025-01-23.sql
                    content_length: 104857600
                    checksum:
                      provided_md5: d41d8cd98f00b204e9800998ecf8427e
                      s3_etag: d41d8cd98f00b204e9800998ecf8427e
                    options:
                      drop_tables: true
                      disable_foreign_keys: true
                      search_replace: null
                    duration_ms: 45000
                    error_message: null
                    created_at: '2025-01-23T10:00:00+00:00'
                    started_at: '2025-01-23T10:01:00+00:00'
                    completed_at: '2025-01-23T10:01:45+00:00'
                  message: 'Import retrieved successfully'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDF
                      vector_site_id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      status:
                        type: string
                        example: completed
                      filename:
                        type: string
                        example: backup-2025-01-23.sql
                      content_length:
                        type: integer
                        example: 104857600
                      checksum:
                        type: object
                        properties:
                          provided_md5:
                            type: string
                            example: d41d8cd98f00b204e9800998ecf8427e
                          s3_etag:
                            type: string
                            example: d41d8cd98f00b204e9800998ecf8427e
                      options:
                        type: object
                        properties:
                          drop_tables:
                            type: boolean
                            example: true
                          disable_foreign_keys:
                            type: boolean
                            example: true
                          search_replace:
                            type: string
                            example: null
                      duration_ms:
                        type: integer
                        example: 45000
                      error_message:
                        type: string
                        example: null
                      created_at:
                        type: string
                        example: '2025-01-23T10:00:00+00:00'
                      started_at:
                        type: string
                        example: '2025-01-23T10:01:00+00:00'
                      completed_at:
                        type: string
                        example: '2025-01-23T10:01:45+00:00'
                  message:
                    type: string
                    example: 'Import retrieved successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Import not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Import not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Sites
    parameters:
      -
        in: path
        name: site
        description: 'The site ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
      -
        in: path
        name: import
        description: 'The import ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcdf
        required: true
        schema:
          type: string
  '/api/v1/vector/sites/{site}/db/exports/{export}':
    get:
      summary: 'Get Export Status'
      operationId: sitesDatabasesGetExportStatus
      description: "Get the current status of a database export operation. If complete and not\nexpired, includes a presigned download URL valid for 1 hour."
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                oneOf:
                  -
                    description: Completed
                    type: object
                    example:
                      data:
                        id: 01JFGXK4NQRST5VWX9YZ0ABCDG
                        vector_site_id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                        status: completed
                        format: sql
                        size_bytes: 52428800
                        duration_ms: 30000
                        error_message: null
                        download_url: 'https://s3.amazonaws.com/bucket/exports/...'
                        download_expires_at: '2025-01-23T11:00:00+00:00'
                        created_at: '2025-01-23T10:00:00+00:00'
                        started_at: '2025-01-23T10:00:01+00:00'
                        completed_at: '2025-01-23T10:00:31+00:00'
                      message: 'Export retrieved successfully'
                      http_status: 200
                    properties:
                      data:
                        type: object
                        properties:
                          id:
                            type: string
                            example: 01JFGXK4NQRST5VWX9YZ0ABCDG
                          vector_site_id:
                            type: string
                            example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                          status:
                            type: string
                            example: completed
                          format:
                            type: string
                            example: sql
                          size_bytes:
                            type: integer
                            example: 52428800
                          duration_ms:
                            type: integer
                            example: 30000
                          error_message:
                            type: string
                            example: null
                          download_url:
                            type: string
                            example: 'https://s3.amazonaws.com/bucket/exports/...'
                          download_expires_at:
                            type: string
                            example: '2025-01-23T11:00:00+00:00'
                          created_at:
                            type: string
                            example: '2025-01-23T10:00:00+00:00'
                          started_at:
                            type: string
                            example: '2025-01-23T10:00:01+00:00'
                          completed_at:
                            type: string
                            example: '2025-01-23T10:00:31+00:00'
                      message:
                        type: string
                        example: 'Export retrieved successfully'
                      http_status:
                        type: integer
                        example: 200
                  -
                    description: Processing
                    type: object
                    example:
                      data:
                        id: 01JFGXK4NQRST5VWX9YZ0ABCDG
                        vector_site_id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                        status: processing
                        format: sql
                        size_bytes: null
                        duration_ms: null
                        error_message: null
                        download_expires_at: null
                        created_at: '2025-01-23T10:00:00+00:00'
                        started_at: '2025-01-23T10:00:01+00:00'
                        completed_at: null
                      message: 'Export retrieved successfully'
                      http_status: 200
                    properties:
                      data:
                        type: object
                        properties:
                          id:
                            type: string
                            example: 01JFGXK4NQRST5VWX9YZ0ABCDG
                          vector_site_id:
                            type: string
                            example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                          status:
                            type: string
                            example: processing
                          format:
                            type: string
                            example: sql
                          size_bytes:
                            type: string
                            example: null
                          duration_ms:
                            type: string
                            example: null
                          error_message:
                            type: string
                            example: null
                          download_expires_at:
                            type: string
                            example: null
                          created_at:
                            type: string
                            example: '2025-01-23T10:00:00+00:00'
                          started_at:
                            type: string
                            example: '2025-01-23T10:00:01+00:00'
                          completed_at:
                            type: string
                            example: null
                      message:
                        type: string
                        example: 'Export retrieved successfully'
                      http_status:
                        type: integer
                        example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Export not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Export not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Sites
    parameters:
      -
        in: path
        name: site
        description: 'The site ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
      -
        in: path
        name: export
        description: 'The export ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcdg
        required: true
        schema:
          type: string
  '/api/v1/vector/sites/{site}/logs':
    get:
      summary: 'Get Logs'
      operationId: sitesLogsGetLogs
      description: "Retrieves logs for the specified Vector site. Logs are returned in reverse\nchronological order (newest first).\n\nUse the `environment`, `deployment_id`, and `level` filters to narrow down results.\nUse cursor-based pagination for large result sets.\n\nRate limited to 60 queries per hour per account. Query time window is limited to 24 hours."
      parameters:
        -
          in: query
          name: start_time
          description: 'Start time for log query. RFC3339 format or relative (e.g., "now-1h"). Default: now-1h.'
          example: now-24h
          required: false
          schema:
            type:
              - string
              - 'null'
            description: 'Start time for log query. RFC3339 format or relative (e.g., "now-1h"). Default: now-1h.'
            example: now-24h
        -
          in: query
          name: end_time
          description: 'End time for log query. RFC3339 format or relative. Default: now.'
          example: now
          required: false
          schema:
            type:
              - string
              - 'null'
            description: 'End time for log query. RFC3339 format or relative. Default: now.'
            example: now
        -
          in: query
          name: limit
          description: 'Maximum number of log entries to return (1-1000). Default: 100.'
          example: 500
          required: false
          schema:
            type:
              - integer
              - 'null'
            description: 'Maximum number of log entries to return (1-1000). Default: 100.'
            example: 500
        -
          in: query
          name: environment
          description: 'Filter by environment name (e.g., production, staging).'
          example: production
          required: false
          schema:
            type:
              - string
              - 'null'
            description: 'Filter by environment name (e.g., production, staging).'
            example: production
        -
          in: query
          name: deployment_id
          description: 'Filter by deployment ID.'
          example: 01jfgxk4nqrst5vwx9yz0abcdh
          required: false
          schema:
            type:
              - string
              - 'null'
            description: 'Filter by deployment ID.'
            example: 01jfgxk4nqrst5vwx9yz0abcdh
        -
          in: query
          name: level
          description: 'Filter by log level (e.g., error, warning, info).'
          example: error
          required: false
          schema:
            type:
              - string
              - 'null'
            description: 'Filter by log level (e.g., error, warning, info).'
            example: error
        -
          in: query
          name: cursor
          description: 'Pagination cursor from previous response.'
          example: abc123xyz
          required: false
          schema:
            type:
              - string
              - 'null'
            description: 'Pagination cursor from previous response.'
            example: abc123xyz
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    logs:
                      tables:
                        -
                          name: '0'
                          columns:
                            -
                              name: _time
                              type: datetime
                            -
                              name: message
                              type: string
                            -
                              name: level
                              type: string
                          rows:
                            -
                              - '2025-05-27T09:50:21Z'
                              - 'Request completed'
                              - info
                      status:
                        rowsExamined: 1000
                        rowsMatched: 50
                    cursor: abc123xyz
                    has_more: true
                  message: 'Logs retrieved successfully'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      logs:
                        type: object
                        properties:
                          tables:
                            type: array
                            example:
                              -
                                name: '0'
                                columns:
                                  -
                                    name: _time
                                    type: datetime
                                  -
                                    name: message
                                    type: string
                                  -
                                    name: level
                                    type: string
                                rows:
                                  -
                                    - '2025-05-27T09:50:21Z'
                                    - 'Request completed'
                                    - info
                            items:
                              type: object
                              properties:
                                name:
                                  type: string
                                  example: '0'
                                columns:
                                  type: array
                                  example:
                                    -
                                      name: _time
                                      type: datetime
                                    -
                                      name: message
                                      type: string
                                    -
                                      name: level
                                      type: string
                                  items:
                                    type: object
                                    properties:
                                      name: { type: string, example: _time }
                                      type: { type: string, example: datetime }
                                rows:
                                  type: array
                                  example:
                                    -
                                      - '2025-05-27T09:50:21Z'
                                      - 'Request completed'
                                      - info
                                  items:
                                    type: array
                          status:
                            type: object
                            properties:
                              rowsExamined:
                                type: integer
                                example: 1000
                              rowsMatched:
                                type: integer
                                example: 50
                      cursor:
                        type: string
                        example: abc123xyz
                      has_more:
                        type: boolean
                        example: true
                  message:
                    type: string
                    example: 'Logs retrieved successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Site Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Site not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Site not found'
                  http_status:
                    type: integer
                    example: 404
        422:
          description: 'Time Window Exceeded'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  errors:
                    time_window:
                      - 'The query time window cannot exceed 24 hours.'
                  message: 'Validation failed'
                  http_status: 422
                properties:
                  data:
                    type: object
                    properties: {  }
                  errors:
                    type: object
                    properties:
                      time_window:
                        type: array
                        example:
                          - 'The query time window cannot exceed 24 hours.'
                        items:
                          type: string
                  message:
                    type: string
                    example: 'Validation failed'
                  http_status:
                    type: integer
                    example: 422
        429:
          description: 'Rate Limit Exceeded'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Too many log queries. Rate limit: 60 per hour.'
                  http_status: 429
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Too many log queries. Rate limit: 60 per hour.'
                  http_status:
                    type: integer
                    example: 429
      tags:
        - Sites
    parameters:
      -
        in: path
        name: site
        description: 'The site ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
  '/api/v1/vector/sites/{site}/waf/allowed-referrers':
    get:
      summary: 'List Allowed Referrers'
      operationId: 'sitesWAF:ReferrersListAllowedReferrers'
      description: 'Retrieves all allowed referrer hostnames for a site.'
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    -
                      hostname: example.com
                    -
                      hostname: '*.example.com'
                  message: 'Allowed referrers retrieved successfully'
                  http_status: 200
                properties:
                  data:
                    type: array
                    example:
                      -
                        hostname: example.com
                      -
                        hostname: '*.example.com'
                    items:
                      type: object
                      properties:
                        hostname:
                          type: string
                          example: example.com
                  message:
                    type: string
                    example: 'Allowed referrers retrieved successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Site Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Site not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Site not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Sites
    post:
      summary: 'Add Allowed Referrer'
      operationId: 'sitesWAF:ReferrersAddAllowedReferrer'
      description: "Adds a hostname to the allowed referrers list.\nWildcards are supported (e.g., *.example.com)."
      parameters: []
      responses:
        201:
          description: Created
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    hostname: example.com
                  message: 'Allowed referrer added successfully'
                  http_status: 201
                properties:
                  data:
                    type: object
                    properties:
                      hostname:
                        type: string
                        example: example.com
                  message:
                    type: string
                    example: 'Allowed referrer added successfully'
                  http_status:
                    type: integer
                    example: 201
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Site Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Site not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Site not found'
                  http_status:
                    type: integer
                    example: 404
        422:
          description: 'Validation Error'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  errors:
                    hostname:
                      - 'The hostname field is required.'
                  message: 'Validation failed'
                  http_status: 422
                properties:
                  data:
                    type: object
                    properties: {  }
                  errors:
                    type: object
                    properties:
                      hostname:
                        type: array
                        example:
                          - 'The hostname field is required.'
                        items:
                          type: string
                  message:
                    type: string
                    example: 'Validation failed'
                  http_status:
                    type: integer
                    example: 422
      tags:
        - Sites
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                hostname:
                  type: string
                  description: 'The hostname to allow.'
                  example: example.com
              required:
                - hostname
    parameters:
      -
        in: path
        name: site
        description: 'The site ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
  '/api/v1/vector/sites/{site}/waf/blocked-referrers':
    get:
      summary: 'List Blocked Referrers'
      operationId: 'sitesWAF:ReferrersListBlockedReferrers'
      description: 'Retrieves all blocked referrer hostnames for a site.'
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    -
                      hostname: spam.com
                    -
                      hostname: '*.malicious.net'
                  message: 'Blocked referrers retrieved successfully'
                  http_status: 200
                properties:
                  data:
                    type: array
                    example:
                      -
                        hostname: spam.com
                      -
                        hostname: '*.malicious.net'
                    items:
                      type: object
                      properties:
                        hostname:
                          type: string
                          example: spam.com
                  message:
                    type: string
                    example: 'Blocked referrers retrieved successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Site Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Site not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Site not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Sites
    post:
      summary: 'Add Blocked Referrer'
      operationId: 'sitesWAF:ReferrersAddBlockedReferrer'
      description: "Adds a hostname to the blocked referrers list.\nWildcards are supported (e.g., *.spam.com)."
      parameters: []
      responses:
        201:
          description: Created
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    hostname: spam.com
                  message: 'Blocked referrer added successfully'
                  http_status: 201
                properties:
                  data:
                    type: object
                    properties:
                      hostname:
                        type: string
                        example: spam.com
                  message:
                    type: string
                    example: 'Blocked referrer added successfully'
                  http_status:
                    type: integer
                    example: 201
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Site Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Site not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Site not found'
                  http_status:
                    type: integer
                    example: 404
        422:
          description: 'Validation Error'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  errors:
                    hostname:
                      - 'The hostname field is required.'
                  message: 'Validation failed'
                  http_status: 422
                properties:
                  data:
                    type: object
                    properties: {  }
                  errors:
                    type: object
                    properties:
                      hostname:
                        type: array
                        example:
                          - 'The hostname field is required.'
                        items:
                          type: string
                  message:
                    type: string
                    example: 'Validation failed'
                  http_status:
                    type: integer
                    example: 422
      tags:
        - Sites
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                hostname:
                  type: string
                  description: 'The hostname to block.'
                  example: spam.com
              required:
                - hostname
    parameters:
      -
        in: path
        name: site
        description: 'The site ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
  '/api/v1/vector/sites/{site}/waf/blocked-ips':
    get:
      summary: 'List Blocked IPs'
      operationId: 'sitesWAF:BlockedIPsListBlockedIPs'
      description: 'Retrieves all blocked IP addresses for a site.'
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    -
                      ip: 192.168.1.100
                    -
                      ip: 10.0.0.0
                  message: 'Blocked IPs retrieved successfully'
                  http_status: 200
                properties:
                  data:
                    type: array
                    example:
                      -
                        ip: 192.168.1.100
                      -
                        ip: 10.0.0.0
                    items:
                      type: object
                      properties:
                        ip:
                          type: string
                          example: 192.168.1.100
                  message:
                    type: string
                    example: 'Blocked IPs retrieved successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Site Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Site not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Site not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Sites
    post:
      summary: 'Add Blocked IP'
      operationId: 'sitesWAF:BlockedIPsAddBlockedIP'
      description: "Adds an IP address to the blocked list.\nSupports both IPv4 and IPv6 addresses."
      parameters: []
      responses:
        201:
          description: Created
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    ip: 192.168.1.100
                  message: 'Blocked IP added successfully'
                  http_status: 201
                properties:
                  data:
                    type: object
                    properties:
                      ip:
                        type: string
                        example: 192.168.1.100
                  message:
                    type: string
                    example: 'Blocked IP added successfully'
                  http_status:
                    type: integer
                    example: 201
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Site Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Site not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Site not found'
                  http_status:
                    type: integer
                    example: 404
        422:
          description: 'Validation Error'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  errors:
                    ip:
                      - 'The ip field is required.'
                  message: 'Validation failed'
                  http_status: 422
                properties:
                  data:
                    type: object
                    properties: {  }
                  errors:
                    type: object
                    properties:
                      ip:
                        type: array
                        example:
                          - 'The ip field is required.'
                        items:
                          type: string
                  message:
                    type: string
                    example: 'Validation failed'
                  http_status:
                    type: integer
                    example: 422
      tags:
        - Sites
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                ip:
                  type: string
                  description: 'The IP address to block.'
                  example: 192.168.1.100
              required:
                - ip
    parameters:
      -
        in: path
        name: site
        description: 'The site ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
  '/api/v1/vector/sites/{site}/waf/rate-limits':
    get:
      summary: 'List Rate Limits'
      operationId: 'sitesWAF:RateLimitsListRateLimits'
      description: 'Retrieves all rate limit rules configured for a site.'
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    -
                      id: 12345
                      name: 'API Rate Limit'
                      description: 'Limit API requests to 100/second'
                      shield_zone_id: 67890
                      configuration:
                        request_count: 100
                        timeframe: 1
                        block_time: 60
                        value: '/api/*'
                        action: rate-limit
                        operator: begins-with
                        variables:
                          - request-uri
                        transformations:
                          - lowercase
                  message: 'Rate limits retrieved successfully'
                  http_status: 200
                properties:
                  data:
                    type: array
                    example:
                      -
                        id: 12345
                        name: 'API Rate Limit'
                        description: 'Limit API requests to 100/second'
                        shield_zone_id: 67890
                        configuration:
                          request_count: 100
                          timeframe: 1
                          block_time: 60
                          value: '/api/*'
                          action: rate-limit
                          operator: begins-with
                          variables:
                            - request-uri
                          transformations:
                            - lowercase
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          example: 12345
                        name:
                          type: string
                          example: 'API Rate Limit'
                        description:
                          type: string
                          example: 'Limit API requests to 100/second'
                        shield_zone_id:
                          type: integer
                          example: 67890
                        configuration:
                          type: object
                          properties:
                            request_count:
                              type: integer
                              example: 100
                            timeframe:
                              type: integer
                              example: 1
                            block_time:
                              type: integer
                              example: 60
                            value:
                              type: string
                              example: '/api/*'
                            action:
                              type: string
                              example: rate-limit
                            operator:
                              type: string
                              example: begins-with
                            variables:
                              type: array
                              example:
                                - request-uri
                              items:
                                type: string
                            transformations:
                              type: array
                              example:
                                - lowercase
                              items:
                                type: string
                  message:
                    type: string
                    example: 'Rate limits retrieved successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Site Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Site not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Site not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Sites
    post:
      summary: 'Create Rate Limit'
      operationId: 'sitesWAF:RateLimitsCreateRateLimit'
      description: 'Creates a new rate limit rule for a site. Maximum 25 rate limit rules per zone.'
      parameters: []
      responses:
        201:
          description: Created
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 12345
                    name: 'API Rate Limit'
                    description: 'Limit API requests to prevent abuse'
                    shield_zone_id: 67890
                    configuration:
                      request_count: 100
                      timeframe: 1
                      block_time: 60
                      value: '/api/*'
                      action: rate-limit
                      operator: begins-with
                      variables:
                        - request-uri
                      transformations:
                        - lowercase
                        - url-decode
                  message: 'Rate limit created successfully'
                  http_status: 201
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 12345
                      name:
                        type: string
                        example: 'API Rate Limit'
                      description:
                        type: string
                        example: 'Limit API requests to prevent abuse'
                      shield_zone_id:
                        type: integer
                        example: 67890
                      configuration:
                        type: object
                        properties:
                          request_count:
                            type: integer
                            example: 100
                          timeframe:
                            type: integer
                            example: 1
                          block_time:
                            type: integer
                            example: 60
                          value:
                            type: string
                            example: '/api/*'
                          action:
                            type: string
                            example: rate-limit
                          operator:
                            type: string
                            example: begins-with
                          variables:
                            type: array
                            example:
                              - request-uri
                            items:
                              type: string
                          transformations:
                            type: array
                            example:
                              - lowercase
                              - url-decode
                            items:
                              type: string
                  message:
                    type: string
                    example: 'Rate limit created successfully'
                  http_status:
                    type: integer
                    example: 201
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Site Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Site not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Site not found'
                  http_status:
                    type: integer
                    example: 404
        422:
          description: ''
          content:
            application/json:
              schema:
                oneOf:
                  -
                    description: 'Validation Error'
                    type: object
                    example:
                      data: {  }
                      errors:
                        timeframe:
                          - 'The timeframe field must be a valid enum value.'
                        block_time:
                          - 'The block duration field must be a valid enum value.'
                      message: 'Validation failed'
                      http_status: 422
                    properties:
                      data:
                        type: object
                        properties: {  }
                      errors:
                        type: object
                        properties:
                          timeframe:
                            type: array
                            example:
                              - 'The timeframe field must be a valid enum value.'
                            items:
                              type: string
                          block_time:
                            type: array
                            example:
                              - 'The block duration field must be a valid enum value.'
                            items:
                              type: string
                      message:
                        type: string
                        example: 'Validation failed'
                      http_status:
                        type: integer
                        example: 422
                  -
                    description: 'Limit Reached'
                    type: object
                    example:
                      data: {  }
                      message: 'Rate limit rule limit reached (25 rules per zone)'
                      http_status: 422
                    properties:
                      data:
                        type: object
                        properties: {  }
                      message:
                        type: string
                        example: 'Rate limit rule limit reached (25 rules per zone)'
                      http_status:
                        type: integer
                        example: 422
      tags:
        - Sites
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: 'The rule name (max 255 characters).'
                  example: 'API Rate Limit'
                description:
                  type:
                    - string
                    - 'null'
                  description: 'The rule description (max 1000 characters).'
                  example: 'Limit API requests to prevent abuse'
                request_count:
                  type: integer
                  description: 'Number of requests allowed within the timeframe. Must be between 1 and 1,000,000.'
                  example: 100
                timeframe:
                  type: integer
                  description: 'Time window for counting requests. Must be exactly 1 (per second) or 10 (per 10 seconds).'
                  example: 1
                block_time:
                  type: integer
                  description: 'Duration to block clients who exceed the limit, in seconds. Must be one of: 30, 60, 300, 900, 1800, 3600.'
                  example: 60
                value:
                  type:
                    - string
                    - 'null'
                  description: 'URL path or pattern to match against. Max 2048 characters.'
                  example: '/api/*'
                operator:
                  type:
                    - string
                    - 'null'
                  description: 'Match operator for comparing against the value. Must be one of: begins-with, ends-with, contains, contains-word, str-match, eq, ge, gt, le, lt, within, regex, str-eq, detect-sqli, detect-xss.'
                  example: begins-with
                transformations:
                  type: array
                  description: 'Transformations to apply to variable values before matching. Each must be one of: cmdline, compress-whitespace, css-decode, hex-encode, html-entity-decode, js-decode, length, lowercase, md5, normalize-path, normalise-path, normalize-path-win, normalise-path-win, remove-comments, remove-nulls, remove-whitespace, replace-comments, sha1, url-decode, url-decode-uni, utf8-to-unicode.'
                  example:
                    - lowercase
                    - url-decode
                  items:
                    type: string
                variables:
                  type: array
                  description: 'Request variables to inspect when matching. Each must be one of: request-uri, request-uri-raw, args, args-combined-size, args-get, args-get-names, args-post, args-post-names, files-names, geo, remote-addr, query-string, request-basename, request-body, request-cookies-names, request-cookies, request-filename, request-headers-names, request-headers, request-line, request-method, request-protocol, response-body, response-headers, response-status.'
                  example:
                    - request-uri
                  items:
                    type: string
              required:
                - name
                - request_count
                - timeframe
                - block_time
    parameters:
      -
        in: path
        name: site
        description: 'The site ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
  '/api/v1/vector/sites/{site}/waf/rate-limits/{rule}':
    get:
      summary: 'Get Rate Limit'
      operationId: 'sitesWAF:RateLimitsGetRateLimit'
      description: 'Retrieves a specific rate limit rule by ID.'
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 12345
                    name: 'API Rate Limit'
                    description: 'Limit API requests to 100/second'
                    shield_zone_id: 67890
                    configuration:
                      request_count: 100
                      timeframe: 1
                      block_time: 60
                      value: '/api/*'
                      action: rate-limit
                      operator: begins-with
                      variables:
                        - request-uri
                      transformations:
                        - lowercase
                  message: 'Rate limit retrieved successfully'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 12345
                      name:
                        type: string
                        example: 'API Rate Limit'
                      description:
                        type: string
                        example: 'Limit API requests to 100/second'
                      shield_zone_id:
                        type: integer
                        example: 67890
                      configuration:
                        type: object
                        properties:
                          request_count:
                            type: integer
                            example: 100
                          timeframe:
                            type: integer
                            example: 1
                          block_time:
                            type: integer
                            example: 60
                          value:
                            type: string
                            example: '/api/*'
                          action:
                            type: string
                            example: rate-limit
                          operator:
                            type: string
                            example: begins-with
                          variables:
                            type: array
                            example:
                              - request-uri
                            items:
                              type: string
                          transformations:
                            type: array
                            example:
                              - lowercase
                            items:
                              type: string
                  message:
                    type: string
                    example: 'Rate limit retrieved successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: ''
          content:
            application/json:
              schema:
                oneOf:
                  -
                    description: 'Not Found'
                    type: object
                    example:
                      data: {  }
                      message: 'Rate limit not found'
                      http_status: 404
                    properties:
                      data:
                        type: object
                        properties: {  }
                      message:
                        type: string
                        example: 'Rate limit not found'
                      http_status:
                        type: integer
                        example: 404
                  -
                    description: 'Site Not Found'
                    type: object
                    example:
                      data: {  }
                      message: 'Site not found'
                      http_status: 404
                    properties:
                      data:
                        type: object
                        properties: {  }
                      message:
                        type: string
                        example: 'Site not found'
                      http_status:
                        type: integer
                        example: 404
      tags:
        - Sites
    put:
      summary: 'Update Rate Limit'
      operationId: 'sitesWAF:RateLimitsUpdateRateLimit'
      description: "Updates an existing rate limit rule. All fields are optional - only include fields you want\nto change. Omitted fields retain their current values."
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 12345
                    name: 'Updated Rate Limit'
                    description: 'Updated description for the rule'
                    shield_zone_id: 67890
                    configuration:
                      request_count: 200
                      timeframe: 10
                      block_time: 300
                      value: '/api/v2/*'
                      action: rate-limit
                      operator: regex
                      variables:
                        - request-uri
                        - query-string
                      transformations:
                        - lowercase
                  message: 'Rate limit updated successfully'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 12345
                      name:
                        type: string
                        example: 'Updated Rate Limit'
                      description:
                        type: string
                        example: 'Updated description for the rule'
                      shield_zone_id:
                        type: integer
                        example: 67890
                      configuration:
                        type: object
                        properties:
                          request_count:
                            type: integer
                            example: 200
                          timeframe:
                            type: integer
                            example: 10
                          block_time:
                            type: integer
                            example: 300
                          value:
                            type: string
                            example: '/api/v2/*'
                          action:
                            type: string
                            example: rate-limit
                          operator:
                            type: string
                            example: regex
                          variables:
                            type: array
                            example:
                              - request-uri
                              - query-string
                            items:
                              type: string
                          transformations:
                            type: array
                            example:
                              - lowercase
                            items:
                              type: string
                  message:
                    type: string
                    example: 'Rate limit updated successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: ''
          content:
            application/json:
              schema:
                oneOf:
                  -
                    description: 'Not Found'
                    type: object
                    example:
                      data: {  }
                      message: 'Rate limit not found'
                      http_status: 404
                    properties:
                      data:
                        type: object
                        properties: {  }
                      message:
                        type: string
                        example: 'Rate limit not found'
                      http_status:
                        type: integer
                        example: 404
                  -
                    description: 'Site Not Found'
                    type: object
                    example:
                      data: {  }
                      message: 'Site not found'
                      http_status: 404
                    properties:
                      data:
                        type: object
                        properties: {  }
                      message:
                        type: string
                        example: 'Site not found'
                      http_status:
                        type: integer
                        example: 404
        422:
          description: 'Validation Error'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  errors:
                    operator:
                      - 'The match operator field must be a valid enum value.'
                  message: 'Validation failed'
                  http_status: 422
                properties:
                  data:
                    type: object
                    properties: {  }
                  errors:
                    type: object
                    properties:
                      operator:
                        type: array
                        example:
                          - 'The match operator field must be a valid enum value.'
                        items:
                          type: string
                  message:
                    type: string
                    example: 'Validation failed'
                  http_status:
                    type: integer
                    example: 422
      tags:
        - Sites
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: 'The rule name (max 255 characters).'
                  example: 'Updated Rate Limit'
                description:
                  type:
                    - string
                    - 'null'
                  description: 'The rule description (max 1000 characters).'
                  example: 'Updated description for the rule'
                request_count:
                  type: integer
                  description: 'Number of requests allowed within the timeframe. Must be between 1 and 1,000,000.'
                  example: 200
                timeframe:
                  type: integer
                  description: 'Time window for counting requests. Must be exactly 1 (per second) or 10 (per 10 seconds).'
                  example: 10
                block_time:
                  type: integer
                  description: 'Duration to block clients who exceed the limit, in seconds. Must be one of: 30, 60, 300, 900, 1800, 3600.'
                  example: 300
                value:
                  type:
                    - string
                    - 'null'
                  description: 'URL path or pattern to match against. Max 2048 characters.'
                  example: '/api/v2/*'
                operator:
                  type:
                    - string
                    - 'null'
                  description: 'Match operator for comparing against the value. Must be one of: begins-with, ends-with, contains, contains-word, str-match, eq, ge, gt, le, lt, within, regex, str-eq, detect-sqli, detect-xss.'
                  example: regex
                transformations:
                  type: array
                  description: 'Transformations to apply to variable values before matching. Each must be one of: cmdline, compress-whitespace, css-decode, hex-encode, html-entity-decode, js-decode, length, lowercase, md5, normalize-path, normalise-path, normalize-path-win, normalise-path-win, remove-comments, remove-nulls, remove-whitespace, replace-comments, sha1, url-decode, url-decode-uni, utf8-to-unicode.'
                  example:
                    - lowercase
                  items:
                    type: string
                variables:
                  type: array
                  description: 'Request variables to inspect when matching. Each must be one of: request-uri, request-uri-raw, args, args-combined-size, args-get, args-get-names, args-post, args-post-names, files-names, geo, remote-addr, query-string, request-basename, request-body, request-cookies-names, request-cookies, request-filename, request-headers-names, request-headers, request-line, request-method, request-protocol, response-body, response-headers, response-status.'
                  example:
                    - request-uri
                    - query-string
                  items:
                    type: string
    delete:
      summary: 'Delete Rate Limit'
      operationId: 'sitesWAF:RateLimitsDeleteRateLimit'
      description: 'Permanently deletes a rate limit rule. This action cannot be undone.'
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Rate limit deleted successfully'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Rate limit deleted successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: ''
          content:
            application/json:
              schema:
                oneOf:
                  -
                    description: 'Not Found'
                    type: object
                    example:
                      data: {  }
                      message: 'Rate limit not found'
                      http_status: 404
                    properties:
                      data:
                        type: object
                        properties: {  }
                      message:
                        type: string
                        example: 'Rate limit not found'
                      http_status:
                        type: integer
                        example: 404
                  -
                    description: 'Site Not Found'
                    type: object
                    example:
                      data: {  }
                      message: 'Site not found'
                      http_status: 404
                    properties:
                      data:
                        type: object
                        properties: {  }
                      message:
                        type: string
                        example: 'Site not found'
                      http_status:
                        type: integer
                        example: 404
      tags:
        - Sites
    parameters:
      -
        in: path
        name: site
        description: 'The site ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
      -
        in: path
        name: rule
        description: ''
        example: architecto
        required: true
        schema:
          type: string
      -
        in: path
        name: ruleId
        description: 'The rate limit rule ID.'
        example: 12345
        required: true
        schema:
          type: integer
  '/api/v1/vector/sites/{site}/waf/allowed-referrers/{hostname}':
    delete:
      summary: 'Remove Allowed Referrer'
      operationId: 'sitesWAF:ReferrersRemoveAllowedReferrer'
      description: 'Removes a hostname from the allowed referrers list.'
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    hostname: example.com
                  message: 'Allowed referrer removed successfully'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      hostname:
                        type: string
                        example: example.com
                  message:
                    type: string
                    example: 'Allowed referrer removed successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: ''
          content:
            application/json:
              schema:
                oneOf:
                  -
                    description: 'Not Found'
                    type: object
                    example:
                      data: {  }
                      message: 'Allowed referrer not found'
                      http_status: 404
                    properties:
                      data:
                        type: object
                        properties: {  }
                      message:
                        type: string
                        example: 'Allowed referrer not found'
                      http_status:
                        type: integer
                        example: 404
                  -
                    description: 'Site Not Found'
                    type: object
                    example:
                      data: {  }
                      message: 'Site not found'
                      http_status: 404
                    properties:
                      data:
                        type: object
                        properties: {  }
                      message:
                        type: string
                        example: 'Site not found'
                      http_status:
                        type: integer
                        example: 404
      tags:
        - Sites
    parameters:
      -
        in: path
        name: site
        description: 'The site ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
      -
        in: path
        name: hostname
        description: 'The hostname to remove.'
        example: example.com
        required: true
        schema:
          type: string
  '/api/v1/vector/sites/{site}/waf/blocked-referrers/{hostname}':
    delete:
      summary: 'Remove Blocked Referrer'
      operationId: 'sitesWAF:ReferrersRemoveBlockedReferrer'
      description: 'Removes a hostname from the blocked referrers list.'
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    hostname: spam.com
                  message: 'Blocked referrer removed successfully'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      hostname:
                        type: string
                        example: spam.com
                  message:
                    type: string
                    example: 'Blocked referrer removed successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: ''
          content:
            application/json:
              schema:
                oneOf:
                  -
                    description: 'Not Found'
                    type: object
                    example:
                      data: {  }
                      message: 'Blocked referrer not found'
                      http_status: 404
                    properties:
                      data:
                        type: object
                        properties: {  }
                      message:
                        type: string
                        example: 'Blocked referrer not found'
                      http_status:
                        type: integer
                        example: 404
                  -
                    description: 'Site Not Found'
                    type: object
                    example:
                      data: {  }
                      message: 'Site not found'
                      http_status: 404
                    properties:
                      data:
                        type: object
                        properties: {  }
                      message:
                        type: string
                        example: 'Site not found'
                      http_status:
                        type: integer
                        example: 404
      tags:
        - Sites
    parameters:
      -
        in: path
        name: site
        description: 'The site ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
      -
        in: path
        name: hostname
        description: 'The hostname to remove.'
        example: spam.com
        required: true
        schema:
          type: string
  '/api/v1/vector/sites/{site}/waf/blocked-ips/{ip}':
    delete:
      summary: 'Remove Blocked IP'
      operationId: 'sitesWAF:BlockedIPsRemoveBlockedIP'
      description: 'Removes an IP address from the blocked list.'
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    ip: 192.168.1.100
                  message: 'Blocked IP removed successfully'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      ip:
                        type: string
                        example: 192.168.1.100
                  message:
                    type: string
                    example: 'Blocked IP removed successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: ''
          content:
            application/json:
              schema:
                oneOf:
                  -
                    description: 'Not Found'
                    type: object
                    example:
                      data: {  }
                      message: 'Blocked IP not found'
                      http_status: 404
                    properties:
                      data:
                        type: object
                        properties: {  }
                      message:
                        type: string
                        example: 'Blocked IP not found'
                      http_status:
                        type: integer
                        example: 404
                  -
                    description: 'Site Not Found'
                    type: object
                    example:
                      data: {  }
                      message: 'Site not found'
                      http_status: 404
                    properties:
                      data:
                        type: object
                        properties: {  }
                      message:
                        type: string
                        example: 'Site not found'
                      http_status:
                        type: integer
                        example: 404
      tags:
        - Sites
    parameters:
      -
        in: path
        name: site
        description: 'The site ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
      -
        in: path
        name: ip
        description: 'The IP address to remove.'
        example: 192.168.1.100
        required: true
        schema:
          type: string
  '/api/v1/vector/sites/{site}/purge-cache':
    post:
      summary: 'Purge Cache'
      operationId: sitesCDNPurgeCache
      description: "Purges the CDN cache for a site.\nCan purge the entire cache, by cache tag, or a specific URL."
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                oneOf:
                  -
                    description: 'Full Purge'
                    type: object
                    example:
                      data: {  }
                      message: 'Cache purged successfully'
                      http_status: 200
                    properties:
                      data:
                        type: object
                        properties: {  }
                      message:
                        type: string
                        example: 'Cache purged successfully'
                      http_status:
                        type: integer
                        example: 200
                  -
                    description: 'Tag Purge'
                    type: object
                    example:
                      data:
                        cache_tag: images
                      message: 'Cache purged successfully for tag: images'
                      http_status: 200
                    properties:
                      data:
                        type: object
                        properties:
                          cache_tag:
                            type: string
                            example: images
                      message:
                        type: string
                        example: 'Cache purged successfully for tag: images'
                      http_status:
                        type: integer
                        example: 200
                  -
                    description: 'URL Purge'
                    type: object
                    example:
                      data:
                        url: 'https://cdn.example.com/style.css'
                      message: 'URL purged successfully'
                      http_status: 200
                    properties:
                      data:
                        type: object
                        properties:
                          url:
                            type: string
                            example: 'https://cdn.example.com/style.css'
                      message:
                        type: string
                        example: 'URL purged successfully'
                      http_status:
                        type: integer
                        example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Site Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Site not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Site not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Sites
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                cache_tag:
                  type:
                    - string
                    - 'null'
                  description: 'Purge only content with this cache tag.'
                  example: images
                url:
                  type:
                    - string
                    - 'null'
                  description: 'Purge a specific URL.'
                  example: 'https://cdn.example.com/style.css'
    parameters:
      -
        in: path
        name: site
        description: 'The site ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
  '/api/v1/vector/sites/{site}/ssh-keys':
    get:
      summary: 'List SSH Keys'
      operationId: sitesSSHKeysListSSHKeys
      description: 'Retrieves all SSH keys installed on a specific dev site.'
      parameters:
        -
          in: query
          name: per_page
          description: 'Number of items per page (max 100). Default: 15.'
          example: 25
          required: false
          schema:
            type: integer
            description: 'Number of items per page (max 100). Default: 15.'
            example: 25
        -
          in: query
          name: page
          description: 'Page number for pagination. Default: 1.'
          example: 1
          required: false
          schema:
            type: integer
            description: 'Page number for pagination. Default: 1.'
            example: 1
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    -
                      id: 01JFGXK4NQRST5VWX9YZ0ABCDI
                      account_id: 1
                      vector_site_id: 01JFGXK4NQRST5VWX9YZ0ABCDJ
                      name: 'developer key'
                      fingerprint: 'SHA256:abc123def456...'
                      public_key_preview: 'ssh-rsa AAAAB3NzaC1yc2EA...user@host'
                      is_account_default: false
                      created_at: '2026-01-15T10:00:00+00:00'
                      updated_at: '2026-01-15T10:00:00+00:00'
                  links: {  }
                  meta: {  }
                  message: 'SSH keys retrieved successfully'
                  http_status: 200
                properties:
                  data:
                    type: array
                    example:
                      -
                        id: 01JFGXK4NQRST5VWX9YZ0ABCDI
                        account_id: 1
                        vector_site_id: 01JFGXK4NQRST5VWX9YZ0ABCDJ
                        name: 'developer key'
                        fingerprint: 'SHA256:abc123def456...'
                        public_key_preview: 'ssh-rsa AAAAB3NzaC1yc2EA...user@host'
                        is_account_default: false
                        created_at: '2026-01-15T10:00:00+00:00'
                        updated_at: '2026-01-15T10:00:00+00:00'
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          example: 01JFGXK4NQRST5VWX9YZ0ABCDI
                        account_id:
                          type: integer
                          example: 1
                        vector_site_id:
                          type: string
                          example: 01JFGXK4NQRST5VWX9YZ0ABCDJ
                        name:
                          type: string
                          example: 'developer key'
                        fingerprint:
                          type: string
                          example: 'SHA256:abc123def456...'
                        public_key_preview:
                          type: string
                          example: 'ssh-rsa AAAAB3NzaC1yc2EA...user@host'
                        is_account_default:
                          type: boolean
                          example: false
                        created_at:
                          type: string
                          example: '2026-01-15T10:00:00+00:00'
                        updated_at:
                          type: string
                          example: '2026-01-15T10:00:00+00:00'
                  links:
                    type: object
                    properties: {  }
                  meta:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'SSH keys retrieved successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Site Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Site not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Site not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Sites
    post:
      summary: 'Add SSH Key'
      operationId: sitesSSHKeysAddSSHKey
      description: "Adds a new SSH key to a specific dev site. The key will be deployed to the\nsite's container and grant SSH access."
      parameters: []
      responses:
        201:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDI
                    account_id: 1
                    vector_site_id: 01JFGXK4NQRST5VWX9YZ0ABCDJ
                    name: 'developer key'
                    fingerprint: 'SHA256:abc123def456...'
                    public_key_preview: 'ssh-rsa AAAAB3NzaC1yc2EA...user@host'
                    is_account_default: false
                    created_at: '2026-01-15T10:00:00+00:00'
                    updated_at: '2026-01-15T10:00:00+00:00'
                  message: 'SSH key added to site successfully'
                  http_status: 201
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDI
                      account_id:
                        type: integer
                        example: 1
                      vector_site_id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDJ
                      name:
                        type: string
                        example: 'developer key'
                      fingerprint:
                        type: string
                        example: 'SHA256:abc123def456...'
                      public_key_preview:
                        type: string
                        example: 'ssh-rsa AAAAB3NzaC1yc2EA...user@host'
                      is_account_default:
                        type: boolean
                        example: false
                      created_at:
                        type: string
                        example: '2026-01-15T10:00:00+00:00'
                      updated_at:
                        type: string
                        example: '2026-01-15T10:00:00+00:00'
                  message:
                    type: string
                    example: 'SSH key added to site successfully'
                  http_status:
                    type: integer
                    example: 201
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Site Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Site not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Site not found'
                  http_status:
                    type: integer
                    example: 404
        422:
          description: ''
          content:
            application/json:
              schema:
                oneOf:
                  -
                    description: 'Invalid Key'
                    type: object
                    example:
                      data: {  }
                      errors:
                        public_key:
                          - 'Unable to parse SSH public key. Ensure it is in valid OpenSSH format.'
                      message: 'Validation failed'
                      http_status: 422
                    properties:
                      data:
                        type: object
                        properties: {  }
                      errors:
                        type: object
                        properties:
                          public_key:
                            type: array
                            example:
                              - 'Unable to parse SSH public key. Ensure it is in valid OpenSSH format.'
                            items:
                              type: string
                      message:
                        type: string
                        example: 'Validation failed'
                      http_status:
                        type: integer
                        example: 422
                  -
                    description: 'Duplicate Key'
                    type: object
                    example:
                      data: {  }
                      errors:
                        public_key:
                          - 'This SSH key is already installed on this site.'
                      message: 'Validation failed'
                      http_status: 422
                    properties:
                      data:
                        type: object
                        properties: {  }
                      errors:
                        type: object
                        properties:
                          public_key:
                            type: array
                            example:
                              - 'This SSH key is already installed on this site.'
                            items:
                              type: string
                      message:
                        type: string
                        example: 'Validation failed'
                      http_status:
                        type: integer
                        example: 422
      tags:
        - Sites
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: 'A friendly name for the SSH key.'
                  example: 'developer key'
                public_key:
                  type: string
                  description: 'The SSH public key in OpenSSH format.'
                  example: 'ssh-rsa AAAAB3NzaC1yc2EA... user@host'
              required:
                - name
                - public_key
    parameters:
      -
        in: path
        name: site
        description: 'The site ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcdi
        required: true
        schema:
          type: string
  '/api/v1/vector/sites/{site}/ssh-keys/{key}':
    delete:
      summary: 'Remove SSH Key'
      operationId: sitesSSHKeysRemoveSSHKey
      description: "Removes an SSH key from a specific dev site. The key will be removed from\nthe site's container and SSH access will be revoked."
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDK
                    account_id: 1
                    vector_site_id: 01JFGXK4NQRST5VWX9YZ0ABCDJ
                    name: 'developer key'
                    fingerprint: 'SHA256:abc123def456...'
                    public_key_preview: 'ssh-rsa AAAAB3NzaC1yc2EA...user@host'
                    is_account_default: false
                    created_at: '2026-01-15T10:00:00+00:00'
                    updated_at: '2026-01-15T10:00:00+00:00'
                  message: 'SSH key removed from site successfully'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDK
                      account_id:
                        type: integer
                        example: 1
                      vector_site_id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDJ
                      name:
                        type: string
                        example: 'developer key'
                      fingerprint:
                        type: string
                        example: 'SHA256:abc123def456...'
                      public_key_preview:
                        type: string
                        example: 'ssh-rsa AAAAB3NzaC1yc2EA...user@host'
                      is_account_default:
                        type: boolean
                        example: false
                      created_at:
                        type: string
                        example: '2026-01-15T10:00:00+00:00'
                      updated_at:
                        type: string
                        example: '2026-01-15T10:00:00+00:00'
                  message:
                    type: string
                    example: 'SSH key removed from site successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: ''
          content:
            application/json:
              schema:
                oneOf:
                  -
                    description: 'Key Not Found'
                    type: object
                    example:
                      data: {  }
                      message: 'SSH key not found on this site'
                      http_status: 404
                    properties:
                      data:
                        type: object
                        properties: {  }
                      message:
                        type: string
                        example: 'SSH key not found on this site'
                      http_status:
                        type: integer
                        example: 404
                  -
                    description: 'Site Not Found'
                    type: object
                    example:
                      data: {  }
                      message: 'Site not found'
                      http_status: 404
                    properties:
                      data:
                        type: object
                        properties: {  }
                      message:
                        type: string
                        example: 'Site not found'
                      http_status:
                        type: integer
                        example: 404
      tags:
        - Sites
    parameters:
      -
        in: path
        name: site
        description: 'The site ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcdi
        required: true
        schema:
          type: string
      -
        in: path
        name: key
        description: 'The SSH key ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcdk
        required: true
        schema:
          type: string
  /api/v1/vector/environments:
    get:
      summary: 'List Environments'
      operationId: listEnvironments
      description: "Retrieves a paginated list of environments. Filter by site using the optional\n`site` parameter, or list all environments for the authenticated account."
      parameters:
        -
          in: query
          name: site
          description: 'Filter by site ID or subdomain.'
          example: 01jfgxk4nqrst5vwx9yz0abcde
          required: false
          schema:
            type: string
            description: 'Filter by site ID or subdomain.'
            example: 01jfgxk4nqrst5vwx9yz0abcde
        -
          in: query
          name: per_page
          description: 'Number of items per page (max 100). Default: 15.'
          example: 25
          required: false
          schema:
            type: integer
            description: 'Number of items per page (max 100). Default: 15.'
            example: 25
        -
          in: query
          name: page
          description: 'Page number for pagination. Default: 1.'
          example: 1
          required: false
          schema:
            type: integer
            description: 'Page number for pagination. Default: 1.'
            example: 1
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    -
                      id: 01JFGXK4NQRST5VWX9YZ0ABCDG
                      vector_site_id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      your_customer_id: customer-123
                      name: production
                      is_production: true
                      status: active
                      provisioning_step: complete
                      failure_reason: null
                      php_version: '8.3'
                      tags:
                        - live
                        - primary
                      platform_domain: wispy-dust.vectorpages.com
                      custom_domain: ourshop.com
                      subdomain: wispy-dust
                      database_host: prod-cluster.xyz789.us-east-1.rds.amazonaws.com
                      database_name: db_01jfgxk4nqrst5vwx9yz0abcde
                      created_at: '2025-05-27T09:50:21+00:00'
                      updated_at: '2025-05-27T09:50:21+00:00'
                  links: {  }
                  meta: {  }
                  message: 'Environments retrieved successfully'
                  http_status: 200
                properties:
                  data:
                    type: array
                    example:
                      -
                        id: 01JFGXK4NQRST5VWX9YZ0ABCDG
                        vector_site_id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                        your_customer_id: customer-123
                        name: production
                        is_production: true
                        status: active
                        provisioning_step: complete
                        failure_reason: null
                        php_version: '8.3'
                        tags:
                          - live
                          - primary
                        platform_domain: wispy-dust.vectorpages.com
                        custom_domain: ourshop.com
                        subdomain: wispy-dust
                        database_host: prod-cluster.xyz789.us-east-1.rds.amazonaws.com
                        database_name: db_01jfgxk4nqrst5vwx9yz0abcde
                        created_at: '2025-05-27T09:50:21+00:00'
                        updated_at: '2025-05-27T09:50:21+00:00'
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          example: 01JFGXK4NQRST5VWX9YZ0ABCDG
                        vector_site_id:
                          type: string
                          example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                        your_customer_id:
                          type: string
                          example: customer-123
                        name:
                          type: string
                          example: production
                        is_production:
                          type: boolean
                          example: true
                        status:
                          type: string
                          example: active
                        provisioning_step:
                          type: string
                          example: complete
                        failure_reason:
                          type: string
                          example: null
                        php_version:
                          type: string
                          example: '8.3'
                        tags:
                          type: array
                          example:
                            - live
                            - primary
                          items:
                            type: string
                        platform_domain:
                          type: string
                          example: wispy-dust.vectorpages.com
                        custom_domain:
                          type: string
                          example: ourshop.com
                        subdomain:
                          type: string
                          example: wispy-dust
                        database_host:
                          type: string
                          example: prod-cluster.xyz789.us-east-1.rds.amazonaws.com
                        database_name:
                          type: string
                          example: db_01jfgxk4nqrst5vwx9yz0abcde
                        created_at:
                          type: string
                          example: '2025-05-27T09:50:21+00:00'
                        updated_at:
                          type: string
                          example: '2025-05-27T09:50:21+00:00'
                  links:
                    type: object
                    properties: {  }
                  meta:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Environments retrieved successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Site Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Site not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Site not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Environments
  '/api/v1/vector/environments/{env}':
    get:
      summary: 'Get Environment'
      operationId: getEnvironment
      description: 'Retrieves details of a specific environment.'
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDG
                    vector_site_id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                    your_customer_id: customer-123
                    name: production
                    is_production: true
                    status: active
                    provisioning_step: complete
                    failure_reason: null
                    php_version: '8.3'
                    tags:
                      - live
                      - primary
                    platform_domain: wispy-dust.vectorpages.com
                    custom_domain: ourshop.com
                    subdomain: wispy-dust
                    database_host: prod-cluster.xyz789.us-east-1.rds.amazonaws.com
                    database_name: db_01jfgxk4nqrst5vwx9yz0abcde
                    created_at: '2025-05-27T09:50:21+00:00'
                    updated_at: '2025-05-27T09:50:21+00:00'
                  message: 'Environment retrieved successfully'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDG
                      vector_site_id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      your_customer_id:
                        type: string
                        example: customer-123
                      name:
                        type: string
                        example: production
                      is_production:
                        type: boolean
                        example: true
                      status:
                        type: string
                        example: active
                      provisioning_step:
                        type: string
                        example: complete
                      failure_reason:
                        type: string
                        example: null
                      php_version:
                        type: string
                        example: '8.3'
                      tags:
                        type: array
                        example:
                          - live
                          - primary
                        items:
                          type: string
                      platform_domain:
                        type: string
                        example: wispy-dust.vectorpages.com
                      custom_domain:
                        type: string
                        example: ourshop.com
                      subdomain:
                        type: string
                        example: wispy-dust
                      database_host:
                        type: string
                        example: prod-cluster.xyz789.us-east-1.rds.amazonaws.com
                      database_name:
                        type: string
                        example: db_01jfgxk4nqrst5vwx9yz0abcde
                      created_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                      updated_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                  message:
                    type: string
                    example: 'Environment retrieved successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Environment not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Environment not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Environments
    put:
      summary: 'Update Environment'
      operationId: updateEnvironment
      description: 'Updates an existing environment. Only the fields provided will be updated.'
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDG
                    vector_site_id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                    your_customer_id: customer-123
                    name: production
                    is_production: true
                    status: active
                    provisioning_step: complete
                    failure_reason: null
                    php_version: '8.4'
                    tags:
                      - live
                      - updated
                    platform_domain: wispy-dust--prod.vectorpages.com
                    custom_domain: newshop.com
                    subdomain: wispy-dust
                    database_host: prod-cluster.xyz789.us-east-1.rds.amazonaws.com
                    database_name: db_01jfgxk4nqrst5vwx9yz0abcde
                    created_at: '2025-05-27T09:50:21+00:00'
                    updated_at: '2025-05-27T10:30:45+00:00'
                  message: 'Environment updated successfully'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDG
                      vector_site_id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      your_customer_id:
                        type: string
                        example: customer-123
                      name:
                        type: string
                        example: production
                      is_production:
                        type: boolean
                        example: true
                      status:
                        type: string
                        example: active
                      provisioning_step:
                        type: string
                        example: complete
                      failure_reason:
                        type: string
                        example: null
                      php_version:
                        type: string
                        example: '8.4'
                      tags:
                        type: array
                        example:
                          - live
                          - updated
                        items:
                          type: string
                      platform_domain:
                        type: string
                        example: wispy-dust--prod.vectorpages.com
                      custom_domain:
                        type: string
                        example: newshop.com
                      subdomain:
                        type: string
                        example: wispy-dust
                      database_host:
                        type: string
                        example: prod-cluster.xyz789.us-east-1.rds.amazonaws.com
                      database_name:
                        type: string
                        example: db_01jfgxk4nqrst5vwx9yz0abcde
                      created_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                      updated_at:
                        type: string
                        example: '2025-05-27T10:30:45+00:00'
                  message:
                    type: string
                    example: 'Environment updated successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Environment not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Environment not found'
                  http_status:
                    type: integer
                    example: 404
        422:
          description: ''
          content:
            application/json:
              schema:
                oneOf:
                  -
                    description: 'Validation Error'
                    type: object
                    example:
                      data: {  }
                      errors:
                        name:
                          - 'An environment with this name already exists for this site.'
                      message: 'Validation failed'
                      http_status: 422
                    properties:
                      data:
                        type: object
                        properties: {  }
                      errors:
                        type: object
                        properties:
                          name:
                            type: array
                            example:
                              - 'An environment with this name already exists for this site.'
                            items:
                              type: string
                      message:
                        type: string
                        example: 'Validation failed'
                      http_status:
                        type: integer
                        example: 422
                  -
                    description: 'Consecutive Hyphens'
                    type: object
                    example:
                      data: {  }
                      errors:
                        name:
                          - 'Environment name must not contain consecutive hyphens (--).'
                      message: 'Validation failed'
                      http_status: 422
                    properties:
                      data:
                        type: object
                        properties: {  }
                      errors:
                        type: object
                        properties:
                          name:
                            type: array
                            example:
                              - 'Environment name must not contain consecutive hyphens (--).'
                            items:
                              type: string
                      message:
                        type: string
                        example: 'Validation failed'
                      http_status:
                        type: integer
                        example: 422
      tags:
        - Environments
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: 'The environment name (slug format: lowercase letters, numbers, hyphens; consecutive hyphens `--` are not allowed). Max 50 chars.'
                  example: production
                custom_domain:
                  type:
                    - string
                    - 'null'
                  description: 'A custom vanity domain for this environment. Must be a valid domain name.'
                  example: newshop.com
                tags:
                  type: array
                  description: 'Array of tags for categorizing the environment. Each tag must be slug format (lowercase letters, numbers, hyphens), max 100 characters, and unique. Pass `null` to clear tags.'
                  example:
                    - live
                    - updated
                  items:
                    type: string
    delete:
      summary: 'Delete Environment'
      operationId: deleteEnvironment
      description: "Initiates deletion of an environment. This terminates all associated\ncontainers, deployments, and CDN resources. The environment status\ntransitions to `terminating` and eventually `terminated`.\n\nThis operation is irreversible. All environment data will be permanently removed."
      parameters: []
      responses:
        202:
          description: Accepted
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDG
                    vector_site_id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                    your_customer_id: customer-123
                    name: production
                    is_production: true
                    status: terminating
                    provisioning_step: complete
                    failure_reason: null
                    php_version: '8.3'
                    tags: []
                    platform_domain: wispy-dust.vectorpages.com
                    custom_domain: ourshop.com
                    subdomain: wispy-dust
                    database_host: prod-cluster.xyz789.us-east-1.rds.amazonaws.com
                    database_name: db_01jfgxk4nqrst5vwx9yz0abcde
                    created_at: '2025-05-27T09:50:21+00:00'
                    updated_at: '2025-05-27T10:30:45+00:00'
                  message: 'Environment deletion initiated'
                  http_status: 202
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDG
                      vector_site_id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      your_customer_id:
                        type: string
                        example: customer-123
                      name:
                        type: string
                        example: production
                      is_production:
                        type: boolean
                        example: true
                      status:
                        type: string
                        example: terminating
                      provisioning_step:
                        type: string
                        example: complete
                      failure_reason:
                        type: string
                        example: null
                      php_version:
                        type: string
                        example: '8.3'
                      tags:
                        type: array
                        example: []
                      platform_domain:
                        type: string
                        example: wispy-dust.vectorpages.com
                      custom_domain:
                        type: string
                        example: ourshop.com
                      subdomain:
                        type: string
                        example: wispy-dust
                      database_host:
                        type: string
                        example: prod-cluster.xyz789.us-east-1.rds.amazonaws.com
                      database_name:
                        type: string
                        example: db_01jfgxk4nqrst5vwx9yz0abcde
                      created_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                      updated_at:
                        type: string
                        example: '2025-05-27T10:30:45+00:00'
                  message:
                    type: string
                    example: 'Environment deletion initiated'
                  http_status:
                    type: integer
                    example: 202
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Environment not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Environment not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Environments
    parameters:
      -
        in: path
        name: env
        description: 'The environment ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcdg
        required: true
        schema:
          type: string
  '/api/v1/vector/environments/{env}/secrets':
    get:
      summary: 'List Secrets'
      operationId: environmentsSecretsListSecrets
      description: "Retrieves a paginated list of all secrets and environment variables for a specific environment.\nValues are only included for environment variables (`is_secret=false`)."
      parameters:
        -
          in: query
          name: per_page
          description: 'Number of items per page (max 100). Default: 15.'
          example: 10
          required: false
          schema:
            type: integer
            description: 'Number of items per page (max 100). Default: 15.'
            example: 10
        -
          in: query
          name: page
          description: 'Page number for pagination.'
          example: 1
          required: false
          schema:
            type: integer
            description: 'Page number for pagination.'
            example: 1
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    -
                      id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      key: STRIPE_SECRET_KEY
                      is_secret: true
                      created_at: '2025-05-27T09:50:21+00:00'
                      updated_at: '2025-05-27T09:50:21+00:00'
                    -
                      id: 01JFGXK4NQRST5VWX9YZ0ABCDF
                      key: APP_ENV
                      is_secret: false
                      value: production
                      created_at: '2025-05-27T09:50:21+00:00'
                      updated_at: '2025-05-27T09:50:21+00:00'
                  links: {  }
                  meta: {  }
                  message: 'Environment secrets retrieved successfully'
                  http_status: 200
                properties:
                  data:
                    type: array
                    example:
                      -
                        id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                        key: STRIPE_SECRET_KEY
                        is_secret: true
                        created_at: '2025-05-27T09:50:21+00:00'
                        updated_at: '2025-05-27T09:50:21+00:00'
                      -
                        id: 01JFGXK4NQRST5VWX9YZ0ABCDF
                        key: APP_ENV
                        is_secret: false
                        value: production
                        created_at: '2025-05-27T09:50:21+00:00'
                        updated_at: '2025-05-27T09:50:21+00:00'
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                        key:
                          type: string
                          example: STRIPE_SECRET_KEY
                        is_secret:
                          type: boolean
                          example: true
                        created_at:
                          type: string
                          example: '2025-05-27T09:50:21+00:00'
                        updated_at:
                          type: string
                          example: '2025-05-27T09:50:21+00:00'
                  links:
                    type: object
                    properties: {  }
                  meta:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Environment secrets retrieved successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Environment not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Environment not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Environments
    post:
      summary: 'Create Secret'
      operationId: environmentsSecretsCreateSecret
      description: "Creates a new secret or environment variable for a specific environment.\nIt will be available to this environment during deployment.\n\nSet `is_secret` to `false` to create a plain environment variable instead of a secret.\nEnvironment variables are stored as Lambda env vars (cheaper) and their values are\nreturned in API responses. Secrets are stored in AWS Secrets Manager and their values\nare never returned.\n\nThe following keys are reserved and cannot be used:\n<kbd>AUTH_KEY</kbd>, <kbd>SECURE_AUTH_KEY</kbd>, <kbd>LOGGED_IN_KEY</kbd>, <kbd>NONCE_KEY</kbd>, <kbd>AUTH_SALT</kbd>, <kbd>SECURE_AUTH_SALT</kbd>, <kbd>LOGGED_IN_SALT</kbd>, <kbd>NONCE_SALT</kbd>, <kbd>AUTOMATIC_UPDATER_DISABLED</kbd>, <kbd>DISABLE_WP_CRON</kbd>, <kbd>DISALLOW_FILE_EDIT</kbd>, <kbd>DISALLOW_FILE_MODS</kbd>, <kbd>DOMAIN_CURRENT_SITE</kbd>, <kbd>WP_HOME</kbd>, <kbd>WP_SITEURL</kbd>, <kbd>YMIR_ASSETS_PATH</kbd>, <kbd>YMIR_ASSETS_URL</kbd>, <kbd>YMIR_CACHE_PREFIX</kbd>, <kbd>YMIR_CACHE_TABLE</kbd>, <kbd>YMIR_CDN_IMAGE_PROCESSING_ENABLED</kbd>, <kbd>YMIR_DISTRIBUTION_ID</kbd>, <kbd>YMIR_DOMAIN_NAMES</kbd>, <kbd>YMIR_ENVIRONMENT</kbd>, <kbd>YMIR_MAX_EXECUTION_TIME</kbd>, <kbd>YMIR_PRIMARY_DOMAIN_NAME</kbd>, <kbd>YMIR_PROJECT_TYPE</kbd>, <kbd>YMIR_PUBLIC_STORE</kbd>, <kbd>YMIR_REDIS_ENDPOINT</kbd>, <kbd>YMIR_SECRETS_PATH</kbd>, <kbd>YMIR_UPLOAD_URL</kbd>, <kbd>_HANDLER</kbd>, <kbd>AWS_ACCESS_KEY_ID</kbd>, <kbd>AWS_EXECUTION_ENV</kbd>, <kbd>AWS_LAMBDA_FUNCTION_MEMORY_SIZE</kbd>, <kbd>AWS_LAMBDA_FUNCTION_NAME</kbd>, <kbd>AWS_LAMBDA_FUNCTION_VERSION</kbd>, <kbd>AWS_LAMBDA_LOG_GROUP_NAME</kbd>, <kbd>AWS_LAMBDA_LOG_STREAM_NAME</kbd>, <kbd>AWS_LAMBDA_RUNTIME_API</kbd>, <kbd>AWS_REGION</kbd>, <kbd>AWS_SECRET_ACCESS_KEY</kbd>, <kbd>AWS_SESSION_TOKEN</kbd>, <kbd>LAMBDA_RUNTIME_DIR</kbd>, <kbd>LAMBDA_TASK_ROOT</kbd>, <kbd>TZ</kbd>"
      parameters: []
      responses:
        201:
          description: Created
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                    key: STRIPE_SECRET_KEY
                    is_secret: true
                    created_at: '2025-05-27T09:50:21+00:00'
                    updated_at: '2025-05-27T09:50:21+00:00'
                  message: 'Environment secret created successfully'
                  http_status: 201
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      key:
                        type: string
                        example: STRIPE_SECRET_KEY
                      is_secret:
                        type: boolean
                        example: true
                      created_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                      updated_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                  message:
                    type: string
                    example: 'Environment secret created successfully'
                  http_status:
                    type: integer
                    example: 201
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Environment not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Environment not found'
                  http_status:
                    type: integer
                    example: 404
        422:
          description: 'Validation Error'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  errors:
                    key:
                      - 'The secret key is required.'
                  message: 'Validation failed'
                  http_status: 422
                properties:
                  data:
                    type: object
                    properties: {  }
                  errors:
                    type: object
                    properties:
                      key:
                        type: array
                        example:
                          - 'The secret key is required.'
                        items:
                          type: string
                  message:
                    type: string
                    example: 'Validation failed'
                  http_status:
                    type: integer
                    example: 422
      tags:
        - Environments
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                key:
                  type: string
                  description: 'The secret key name. Must start with a letter and contain only uppercase letters, numbers, and underscores.'
                  example: STRIPE_SECRET_KEY
                value:
                  type: string
                  description: 'The secret value.'
                  example: sk_live_xxxx
                is_secret:
                  type: boolean
                  description: 'Whether this is a secret (stored in AWS Secrets Manager) or a plain environment variable. Default: true.'
                  example: true
              required:
                - key
                - value
    parameters:
      -
        in: path
        name: env
        description: 'The environment ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcdg
        required: true
        schema:
          type: string
  '/api/v1/vector/secrets/{secret}':
    get:
      summary: 'Get Secret'
      operationId: environmentsSecretsGetSecret
      description: "Retrieves details of a specific environment secret or variable.\nThe value is only included for environment variables (`is_secret=false`)."
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                oneOf:
                  -
                    description: Secret
                    type: object
                    example:
                      data:
                        id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                        key: STRIPE_SECRET_KEY
                        is_secret: true
                        created_at: '2025-05-27T09:50:21+00:00'
                        updated_at: '2025-05-27T09:50:21+00:00'
                      message: 'Environment secret retrieved successfully'
                      http_status: 200
                    properties:
                      data:
                        type: object
                        properties:
                          id:
                            type: string
                            example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                          key:
                            type: string
                            example: STRIPE_SECRET_KEY
                          is_secret:
                            type: boolean
                            example: true
                          created_at:
                            type: string
                            example: '2025-05-27T09:50:21+00:00'
                          updated_at:
                            type: string
                            example: '2025-05-27T09:50:21+00:00'
                      message:
                        type: string
                        example: 'Environment secret retrieved successfully'
                      http_status:
                        type: integer
                        example: 200
                  -
                    description: 'Environment Variable'
                    type: object
                    example:
                      data:
                        id: 01JFGXK4NQRST5VWX9YZ0ABCDF
                        key: APP_ENV
                        is_secret: false
                        value: production
                        created_at: '2025-05-27T09:50:21+00:00'
                        updated_at: '2025-05-27T09:50:21+00:00'
                      message: 'Environment secret retrieved successfully'
                      http_status: 200
                    properties:
                      data:
                        type: object
                        properties:
                          id:
                            type: string
                            example: 01JFGXK4NQRST5VWX9YZ0ABCDF
                          key:
                            type: string
                            example: APP_ENV
                          is_secret:
                            type: boolean
                            example: false
                          value:
                            type: string
                            example: production
                          created_at:
                            type: string
                            example: '2025-05-27T09:50:21+00:00'
                          updated_at:
                            type: string
                            example: '2025-05-27T09:50:21+00:00'
                      message:
                        type: string
                        example: 'Environment secret retrieved successfully'
                      http_status:
                        type: integer
                        example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Environment secret not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Environment secret not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Environments
    put:
      summary: 'Update Secret'
      operationId: environmentsSecretsUpdateSecret
      description: "Updates an existing environment secret or variable. You can update the key, value,\nis_secret flag, or any combination.\n\nThe following keys are reserved and cannot be used:\n<kbd>AUTH_KEY</kbd>, <kbd>SECURE_AUTH_KEY</kbd>, <kbd>LOGGED_IN_KEY</kbd>, <kbd>NONCE_KEY</kbd>, <kbd>AUTH_SALT</kbd>, <kbd>SECURE_AUTH_SALT</kbd>, <kbd>LOGGED_IN_SALT</kbd>, <kbd>NONCE_SALT</kbd>, <kbd>AUTOMATIC_UPDATER_DISABLED</kbd>, <kbd>DISABLE_WP_CRON</kbd>, <kbd>DISALLOW_FILE_EDIT</kbd>, <kbd>DISALLOW_FILE_MODS</kbd>, <kbd>DOMAIN_CURRENT_SITE</kbd>, <kbd>WP_HOME</kbd>, <kbd>WP_SITEURL</kbd>, <kbd>YMIR_ASSETS_PATH</kbd>, <kbd>YMIR_ASSETS_URL</kbd>, <kbd>YMIR_CACHE_PREFIX</kbd>, <kbd>YMIR_CACHE_TABLE</kbd>, <kbd>YMIR_CDN_IMAGE_PROCESSING_ENABLED</kbd>, <kbd>YMIR_DISTRIBUTION_ID</kbd>, <kbd>YMIR_DOMAIN_NAMES</kbd>, <kbd>YMIR_ENVIRONMENT</kbd>, <kbd>YMIR_MAX_EXECUTION_TIME</kbd>, <kbd>YMIR_PRIMARY_DOMAIN_NAME</kbd>, <kbd>YMIR_PROJECT_TYPE</kbd>, <kbd>YMIR_PUBLIC_STORE</kbd>, <kbd>YMIR_REDIS_ENDPOINT</kbd>, <kbd>YMIR_SECRETS_PATH</kbd>, <kbd>YMIR_UPLOAD_URL</kbd>, <kbd>_HANDLER</kbd>, <kbd>AWS_ACCESS_KEY_ID</kbd>, <kbd>AWS_EXECUTION_ENV</kbd>, <kbd>AWS_LAMBDA_FUNCTION_MEMORY_SIZE</kbd>, <kbd>AWS_LAMBDA_FUNCTION_NAME</kbd>, <kbd>AWS_LAMBDA_FUNCTION_VERSION</kbd>, <kbd>AWS_LAMBDA_LOG_GROUP_NAME</kbd>, <kbd>AWS_LAMBDA_LOG_STREAM_NAME</kbd>, <kbd>AWS_LAMBDA_RUNTIME_API</kbd>, <kbd>AWS_REGION</kbd>, <kbd>AWS_SECRET_ACCESS_KEY</kbd>, <kbd>AWS_SESSION_TOKEN</kbd>, <kbd>LAMBDA_RUNTIME_DIR</kbd>, <kbd>LAMBDA_TASK_ROOT</kbd>, <kbd>TZ</kbd>"
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                    key: STRIPE_API_KEY
                    is_secret: true
                    created_at: '2025-05-27T09:50:21+00:00'
                    updated_at: '2025-05-27T10:30:45+00:00'
                  message: 'Environment secret updated successfully'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      key:
                        type: string
                        example: STRIPE_API_KEY
                      is_secret:
                        type: boolean
                        example: true
                      created_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                      updated_at:
                        type: string
                        example: '2025-05-27T10:30:45+00:00'
                  message:
                    type: string
                    example: 'Environment secret updated successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Environment secret not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Environment secret not found'
                  http_status:
                    type: integer
                    example: 404
        422:
          description: 'Validation Error'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  errors:
                    key:
                      - 'The secret key must start with a letter and contain only uppercase letters, numbers, and underscores.'
                  message: 'Validation failed'
                  http_status: 422
                properties:
                  data:
                    type: object
                    properties: {  }
                  errors:
                    type: object
                    properties:
                      key:
                        type: array
                        example:
                          - 'The secret key must start with a letter and contain only uppercase letters, numbers, and underscores.'
                        items:
                          type: string
                  message:
                    type: string
                    example: 'Validation failed'
                  http_status:
                    type: integer
                    example: 422
      tags:
        - Environments
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                key:
                  type: string
                  description: 'The new secret key name. Must start with a letter and contain only uppercase letters, numbers, and underscores.'
                  example: STRIPE_API_KEY
                value:
                  type: string
                  description: 'The new secret value.'
                  example: sk_live_yyyy
                is_secret:
                  type: boolean
                  description: 'Whether this is a secret or a plain environment variable.'
                  example: true
    delete:
      summary: 'Delete Secret'
      operationId: environmentsSecretsDeleteSecret
      description: 'Deletes an environment secret.'
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                    key: STRIPE_SECRET_KEY
                    is_secret: true
                    created_at: '2025-05-27T09:50:21+00:00'
                    updated_at: '2025-05-27T09:50:21+00:00'
                  message: 'Environment secret deleted successfully'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      key:
                        type: string
                        example: STRIPE_SECRET_KEY
                      is_secret:
                        type: boolean
                        example: true
                      created_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                      updated_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                  message:
                    type: string
                    example: 'Environment secret deleted successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Environment secret not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Environment secret not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Environments
    parameters:
      -
        in: path
        name: secret
        description: 'The secret ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
  '/api/v1/vector/environments/{env}/deployments':
    get:
      summary: 'List Deployments'
      operationId: environmentsDeploymentsListDeployments
      description: "Retrieves a paginated list of all deployments for a specific environment,\nordered by most recent first."
      parameters:
        -
          in: query
          name: per_page
          description: 'Number of items per page (max 100). Default: 15.'
          example: 25
          required: false
          schema:
            type: integer
            description: 'Number of items per page (max 100). Default: 15.'
            example: 25
        -
          in: query
          name: page
          description: 'Page number for pagination. Default: 1.'
          example: 1
          required: false
          schema:
            type: integer
            description: 'Page number for pagination. Default: 1.'
            example: 1
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    -
                      id: 01JFGXK4NQRST5VWX9YZ0ABCDH
                      vector_environment_id: 01JFGXK4NQRST5VWX9YZ0ABCDG
                      status: deployed
                      stdout: 'Deployment output...'
                      stderr: null
                      actor: john@example.com
                      environment:
                        id: 01JFGXK4NQRST5VWX9YZ0ABCDG
                        vector_site_id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                        your_customer_id: cust_123456
                        name: production
                        is_production: true
                        status: active
                        php_version: '8.3'
                        tags:
                          - wordpress
                        fqdn: example.com
                        custom_domain: example.com
                        subdomain: wispy-dust
                        created_at: '2025-05-20T09:00:00+00:00'
                        updated_at: '2025-05-27T09:55:30+00:00'
                      created_at: '2025-05-27T09:50:21+00:00'
                      updated_at: '2025-05-27T09:55:30+00:00'
                  links: {  }
                  meta: {  }
                  message: 'Deployments retrieved successfully'
                  http_status: 200
                properties:
                  data:
                    type: array
                    example:
                      -
                        id: 01JFGXK4NQRST5VWX9YZ0ABCDH
                        vector_environment_id: 01JFGXK4NQRST5VWX9YZ0ABCDG
                        status: deployed
                        stdout: 'Deployment output...'
                        stderr: null
                        actor: john@example.com
                        environment:
                          id: 01JFGXK4NQRST5VWX9YZ0ABCDG
                          vector_site_id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                          your_customer_id: cust_123456
                          name: production
                          is_production: true
                          status: active
                          php_version: '8.3'
                          tags:
                            - wordpress
                          fqdn: example.com
                          custom_domain: example.com
                          subdomain: wispy-dust
                          created_at: '2025-05-20T09:00:00+00:00'
                          updated_at: '2025-05-27T09:55:30+00:00'
                        created_at: '2025-05-27T09:50:21+00:00'
                        updated_at: '2025-05-27T09:55:30+00:00'
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          example: 01JFGXK4NQRST5VWX9YZ0ABCDH
                        vector_environment_id:
                          type: string
                          example: 01JFGXK4NQRST5VWX9YZ0ABCDG
                        status:
                          type: string
                          example: deployed
                        stdout:
                          type: string
                          example: 'Deployment output...'
                        stderr:
                          type: string
                          example: null
                        actor:
                          type: string
                          example: john@example.com
                        environment:
                          type: object
                          properties:
                            id:
                              type: string
                              example: 01JFGXK4NQRST5VWX9YZ0ABCDG
                            vector_site_id:
                              type: string
                              example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                            your_customer_id:
                              type: string
                              example: cust_123456
                            name:
                              type: string
                              example: production
                            is_production:
                              type: boolean
                              example: true
                            status:
                              type: string
                              example: active
                            php_version:
                              type: string
                              example: '8.3'
                            tags:
                              type: array
                              example:
                                - wordpress
                              items:
                                type: string
                            fqdn:
                              type: string
                              example: example.com
                            custom_domain:
                              type: string
                              example: example.com
                            subdomain:
                              type: string
                              example: wispy-dust
                            created_at:
                              type: string
                              example: '2025-05-20T09:00:00+00:00'
                            updated_at:
                              type: string
                              example: '2025-05-27T09:55:30+00:00'
                        created_at:
                          type: string
                          example: '2025-05-27T09:50:21+00:00'
                        updated_at:
                          type: string
                          example: '2025-05-27T09:55:30+00:00'
                  links:
                    type: object
                    properties: {  }
                  meta:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Deployments retrieved successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Environment Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Environment not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Environment not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Environments
    post:
      summary: 'Create Deployment'
      operationId: environmentsDeploymentsCreateDeployment
      description: "Triggers a new deployment for the environment. The deployment starts with\n`pending` status and progresses through `deploying` to either `deployed`\nor `failed`.\n\nThe authenticated user is recorded as the deployment actor."
      parameters: []
      responses:
        201:
          description: Created
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDH
                    vector_environment_id: 01JFGXK4NQRST5VWX9YZ0ABCDG
                    status: pending
                    stdout: null
                    stderr: null
                    actor: john@example.com
                    environment:
                      id: 01JFGXK4NQRST5VWX9YZ0ABCDG
                      vector_site_id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      your_customer_id: cust_123456
                      name: production
                      is_production: true
                      status: active
                      php_version: '8.3'
                      tags:
                        - wordpress
                      fqdn: example.com
                      custom_domain: example.com
                      subdomain: wispy-dust
                      created_at: '2025-05-20T09:00:00+00:00'
                      updated_at: '2025-05-27T09:50:21+00:00'
                    created_at: '2025-05-27T09:50:21+00:00'
                    updated_at: '2025-05-27T09:50:21+00:00'
                  message: 'Deployment initiated'
                  http_status: 201
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDH
                      vector_environment_id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDG
                      status:
                        type: string
                        example: pending
                      stdout:
                        type: string
                        example: null
                      stderr:
                        type: string
                        example: null
                      actor:
                        type: string
                        example: john@example.com
                      environment:
                        type: object
                        properties:
                          id:
                            type: string
                            example: 01JFGXK4NQRST5VWX9YZ0ABCDG
                          vector_site_id:
                            type: string
                            example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                          your_customer_id:
                            type: string
                            example: cust_123456
                          name:
                            type: string
                            example: production
                          is_production:
                            type: boolean
                            example: true
                          status:
                            type: string
                            example: active
                          php_version:
                            type: string
                            example: '8.3'
                          tags:
                            type: array
                            example:
                              - wordpress
                            items:
                              type: string
                          fqdn:
                            type: string
                            example: example.com
                          custom_domain:
                            type: string
                            example: example.com
                          subdomain:
                            type: string
                            example: wispy-dust
                          created_at:
                            type: string
                            example: '2025-05-20T09:00:00+00:00'
                          updated_at:
                            type: string
                            example: '2025-05-27T09:50:21+00:00'
                      created_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                      updated_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                  message:
                    type: string
                    example: 'Deployment initiated'
                  http_status:
                    type: integer
                    example: 201
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Environment Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Environment not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Environment not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Environments
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                include_uploads:
                  type: boolean
                  description: 'Whether to include wp-content/uploads in the deployment. Defaults to false.'
                  example: false
                include_database:
                  type: boolean
                  description: ''
                  example: true
    parameters:
      -
        in: path
        name: env
        description: 'The environment ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcdg
        required: true
        schema:
          type: string
  '/api/v1/vector/deployments/{deployment}':
    get:
      summary: 'Get Deployment'
      operationId: environmentsDeploymentsGetDeployment
      description: 'Retrieves details of a specific deployment including output logs and actor information.'
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDH
                    vector_environment_id: 01JFGXK4NQRST5VWX9YZ0ABCDG
                    status: deployed
                    stdout: "Building project...\nUploading assets...\nDeployment complete."
                    stderr: null
                    actor: john@example.com
                    environment:
                      id: 01JFGXK4NQRST5VWX9YZ0ABCDG
                      vector_site_id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      your_customer_id: cust_123456
                      name: production
                      is_production: true
                      status: active
                      php_version: '8.3'
                      tags:
                        - wordpress
                      fqdn: example.com
                      custom_domain: example.com
                      subdomain: wispy-dust
                      created_at: '2025-05-20T09:00:00+00:00'
                      updated_at: '2025-05-27T09:55:30+00:00'
                    created_at: '2025-05-27T09:50:21+00:00'
                    updated_at: '2025-05-27T09:55:30+00:00'
                  message: 'Deployment retrieved successfully'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDH
                      vector_environment_id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDG
                      status:
                        type: string
                        example: deployed
                      stdout:
                        type: string
                        example: "Building project...\nUploading assets...\nDeployment complete."
                      stderr:
                        type: string
                        example: null
                      actor:
                        type: string
                        example: john@example.com
                      environment:
                        type: object
                        properties:
                          id:
                            type: string
                            example: 01JFGXK4NQRST5VWX9YZ0ABCDG
                          vector_site_id:
                            type: string
                            example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                          your_customer_id:
                            type: string
                            example: cust_123456
                          name:
                            type: string
                            example: production
                          is_production:
                            type: boolean
                            example: true
                          status:
                            type: string
                            example: active
                          php_version:
                            type: string
                            example: '8.3'
                          tags:
                            type: array
                            example:
                              - wordpress
                            items:
                              type: string
                          fqdn:
                            type: string
                            example: example.com
                          custom_domain:
                            type: string
                            example: example.com
                          subdomain:
                            type: string
                            example: wispy-dust
                          created_at:
                            type: string
                            example: '2025-05-20T09:00:00+00:00'
                          updated_at:
                            type: string
                            example: '2025-05-27T09:55:30+00:00'
                      created_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                      updated_at:
                        type: string
                        example: '2025-05-27T09:55:30+00:00'
                  message:
                    type: string
                    example: 'Deployment retrieved successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Deployment not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Deployment not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Environments
    parameters:
      -
        in: path
        name: deployment
        description: 'The deployment ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcdh
        required: true
        schema:
          type: string
  '/api/v1/vector/environments/{env}/ssl':
    get:
      summary: 'Get Status'
      operationId: environmentsSSLGetStatus
      description: 'Get the current SSL provisioning status for an environment.'
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDG
                    vector_site_id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                    your_customer_id: customer-123
                    name: production
                    is_production: true
                    status: active
                    provisioning_step: complete
                    failure_reason: null
                    php_version: '8.3'
                    tags: []
                    platform_domain: wispy-dust.vectorpages.com
                    custom_domain: example.com
                    subdomain: wispy-dust
                    created_at: '2025-05-27T09:50:21+00:00'
                    updated_at: '2025-05-27T09:55:42+00:00'
                  message: 'SSL status retrieved'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDG
                      vector_site_id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      your_customer_id:
                        type: string
                        example: customer-123
                      name:
                        type: string
                        example: production
                      is_production:
                        type: boolean
                        example: true
                      status:
                        type: string
                        example: active
                      provisioning_step:
                        type: string
                        example: complete
                      failure_reason:
                        type: string
                        example: null
                      php_version:
                        type: string
                        example: '8.3'
                      tags:
                        type: array
                        example: []
                      platform_domain:
                        type: string
                        example: wispy-dust.vectorpages.com
                      custom_domain:
                        type: string
                        example: example.com
                      subdomain:
                        type: string
                        example: wispy-dust
                      created_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                      updated_at:
                        type: string
                        example: '2025-05-27T09:55:42+00:00'
                  message:
                    type: string
                    example: 'SSL status retrieved'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Environment not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Environment not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Environments
    parameters:
      -
        in: path
        name: env
        description: 'The environment ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcdg
        required: true
        schema:
          type: string
  '/api/v1/vector/environments/{env}/db/reset-password':
    post:
      summary: 'Reset Password'
      operationId: environmentsDatabasesResetPassword
      description: "Rotates the database password for a production environment via Ymir.\nThe old password is immediately invalidated.\n\n> [!WARNING]\n> The new password is returned ONLY in this response. Store it securelyit cannot be retrieved again.\n\n> [!NOTE]\n> After rotating the password, you must redeploy the environment for your application to pick up the new credentials."
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDG
                    vector_site_id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                    your_customer_id: customer-123
                    name: production
                    is_production: true
                    status: active
                    provisioning_step: complete
                    failure_reason: null
                    php_version: '8.3'
                    tags: []
                    platform_domain: wispy-dust.vectorpages.com
                    custom_domain: example.com
                    subdomain: wispy-dust
                    database_user: user_abc123_production
                    database_password: 'aBcD1234!@#$EfGh5678'
                    created_at: '2024-01-01T00:00:00.000000Z'
                    updated_at: '2024-01-01T00:00:00.000000Z'
                  message: 'Database password reset successfully. Store the new password securely - it will not be shown again. Remember to redeploy your environment.'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDG
                      vector_site_id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      your_customer_id:
                        type: string
                        example: customer-123
                      name:
                        type: string
                        example: production
                      is_production:
                        type: boolean
                        example: true
                      status:
                        type: string
                        example: active
                      provisioning_step:
                        type: string
                        example: complete
                      failure_reason:
                        type: string
                        example: null
                      php_version:
                        type: string
                        example: '8.3'
                      tags:
                        type: array
                        example: []
                      platform_domain:
                        type: string
                        example: wispy-dust.vectorpages.com
                      custom_domain:
                        type: string
                        example: example.com
                      subdomain:
                        type: string
                        example: wispy-dust
                      database_user:
                        type: string
                        example: user_abc123_production
                      database_password:
                        type: string
                        example: 'aBcD1234!@#$EfGh5678'
                      created_at:
                        type: string
                        example: '2024-01-01T00:00:00.000000Z'
                      updated_at:
                        type: string
                        example: '2024-01-01T00:00:00.000000Z'
                  message:
                    type: string
                    example: 'Database password reset successfully. Store the new password securely - it will not be shown again. Remember to redeploy your environment.'
                  http_status:
                    type: integer
                    example: 200
        400:
          description: 'No Database User'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Environment does not have a database user configured. Deploy the environment first.'
                  http_status: 400
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Environment does not have a database user configured. Deploy the environment first.'
                  http_status:
                    type: integer
                    example: 400
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Environment not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Environment not found'
                  http_status:
                    type: integer
                    example: 404
        500:
          description: 'Rotation Failed'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Failed to rotate database password'
                  http_status: 500
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Failed to rotate database password'
                  http_status:
                    type: integer
                    example: 500
      tags:
        - Environments
    parameters:
      -
        in: path
        name: env
        description: 'The environment ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcdg
        required: true
        schema:
          type: string
  '/api/v1/vector/environments/{env}/db/import':
    post:
      summary: 'Import Directly'
      operationId: environmentsDatabasesImportDirectly
      description: "Import SQL content directly from the request body. For files under 50MB.\nThe request body should contain raw SQL content with Content-Type: application/sql.\n\nThis is a synchronous operation that blocks until the import completes."
      parameters:
        -
          in: query
          name: drop_tables
          description: 'Drop all existing tables before import. Default: false.'
          example: true
          required: false
          schema:
            type:
              - boolean
              - 'null'
            description: 'Drop all existing tables before import. Default: false.'
            example: true
        -
          in: query
          name: disable_foreign_keys
          description: 'Disable foreign key checks during import. Default: true.'
          example: true
          required: false
          schema:
            type:
              - boolean
              - 'null'
            description: 'Disable foreign key checks during import. Default: true.'
            example: true
      responses: {  }
      tags:
        - Environments
    parameters:
      -
        in: path
        name: env
        description: ''
        example: architecto
        required: true
        schema:
          type: string
      -
        in: path
        name: environment
        description: 'The environment ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
  '/api/v1/vector/environments/{env}/db/imports':
    post:
      summary: 'Create Import Session'
      operationId: environmentsDatabasesCreateImportSession
      description: "Create a database import session for large files (>50MB). Returns a presigned\nS3 upload URL that can be used to upload the SQL file directly to storage.\n\nAfter uploading, call the \"Run Import\" endpoint to execute the import."
      parameters: []
      responses: {  }
      tags:
        - Environments
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                filename:
                  type:
                    - string
                    - 'null'
                  description: 'Must not be greater than 255 characters.'
                  example: b
                content_length:
                  type:
                    - integer
                    - 'null'
                  description: 'Must be at least 1. Must not be greater than 5368709120.'
                  example: 22
                content_md5:
                  type:
                    - string
                    - 'null'
                  description: 'Must match the regex /^[a-fA-F0-9]+$/. Must be 32 characters.'
                  example: gzmiyvdljnikhwaykcmyuwpwlvqwrsit
                options:
                  type:
                    - object
                    - 'null'
                  description: ''
                  example: null
                  properties:
                    drop_tables:
                      type:
                        - boolean
                        - 'null'
                      description: ''
                      example: false
                    disable_foreign_keys:
                      type:
                        - boolean
                        - 'null'
                      description: ''
                      example: false
    parameters:
      -
        in: path
        name: env
        description: ''
        example: architecto
        required: true
        schema:
          type: string
      -
        in: path
        name: environment
        description: 'The environment ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
  '/api/v1/vector/environments/{env}/db/imports/{import}/run':
    post:
      summary: 'Run Import'
      operationId: environmentsDatabasesRunImport
      description: "Execute a database import from S3 after the file has been uploaded via the\npresigned URL. Dispatches an async job to perform the import."
      parameters: []
      responses: {  }
      tags:
        - Environments
    parameters:
      -
        in: path
        name: env
        description: ''
        example: architecto
        required: true
        schema:
          type: string
      -
        in: path
        name: import
        description: 'The import ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcdf
        required: true
        schema:
          type: string
      -
        in: path
        name: environment
        description: 'The environment ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
  '/api/v1/vector/environments/{env}/db/promote':
    post:
      summary: 'Create Database Promote'
      operationId: environmentsDatabasesCreateDatabasePromote
      description: "Promote the dev database to this environment. Exports the dev database,\nthen imports it into the environment's database."
      parameters: []
      responses: {  }
      tags:
        - Environments
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                drop_tables:
                  type: boolean
                  description: ''
                  example: false
                disable_foreign_keys:
                  type: boolean
                  description: ''
                  example: true
    parameters:
      -
        in: path
        name: env
        description: ''
        example: architecto
        required: true
        schema:
          type: string
      -
        in: path
        name: environment
        description: 'The environment ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
  '/api/v1/vector/environments/{env}/db/imports/{import}':
    get:
      summary: 'Get Import Status'
      operationId: environmentsDatabasesGetImportStatus
      description: 'Get the current status of a database import operation.'
      parameters: []
      responses:
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data: []
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: array
                    example: []
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
      tags:
        - Environments
    parameters:
      -
        in: path
        name: env
        description: ''
        example: architecto
        required: true
        schema:
          type: string
      -
        in: path
        name: import
        description: 'The import ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcdf
        required: true
        schema:
          type: string
      -
        in: path
        name: environment
        description: 'The environment ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
  '/api/v1/vector/environments/{env}/db/promotes/{vectorDbPromote}':
    get:
      summary: 'Get Promote Status'
      operationId: environmentsDatabasesGetPromoteStatus
      description: 'Get the current status of a database promote operation.'
      parameters: []
      responses:
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data: []
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: array
                    example: []
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
      tags:
        - Environments
    parameters:
      -
        in: path
        name: env
        description: ''
        example: architecto
        required: true
        schema:
          type: string
      -
        in: path
        name: vectorDbPromote
        description: ''
        example: architecto
        required: true
        schema:
          type: string
      -
        in: path
        name: environment
        description: 'The environment ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
      -
        in: path
        name: promote
        description: 'The promote ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcdf
        required: true
        schema:
          type: string
  '/api/v1/vector/sites/{site}/environments':
    post:
      summary: 'Create Environment'
      operationId: createEnvironment
      description: "Creates a new environment for a site. The environment is created with a\n`pending` status and will transition to `active` once provisioning completes.\n\nEach environment gets a unique auto-generated subdomain and uses the site's\nconfigured domain.\n\n**Important:** Only one environment per site can be marked as production\n(`is_production: true`). The production environment receives CDN integration."
      parameters: []
      responses:
        201:
          description: Created
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDG
                    vector_site_id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                    your_customer_id: customer-123
                    name: production
                    is_production: true
                    status: pending
                    provisioning_step: pending
                    failure_reason: null
                    php_version: '8.3'
                    tags:
                      - live
                      - primary
                    platform_domain: wispy-dust--prod.vectorpages.com
                    custom_domain: ourshop.com
                    subdomain: wispy-dust
                    database_host: prod-cluster.xyz789.us-east-1.rds.amazonaws.com
                    database_name: db_01jfgxk4nqrst5vwx9yz0abcde
                    created_at: '2025-05-27T09:50:21+00:00'
                    updated_at: '2025-05-27T09:50:21+00:00'
                  message: 'Environment creation initiated'
                  http_status: 201
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDG
                      vector_site_id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      your_customer_id:
                        type: string
                        example: customer-123
                      name:
                        type: string
                        example: production
                      is_production:
                        type: boolean
                        example: true
                      status:
                        type: string
                        example: pending
                      provisioning_step:
                        type: string
                        example: pending
                      failure_reason:
                        type: string
                        example: null
                      php_version:
                        type: string
                        example: '8.3'
                      tags:
                        type: array
                        example:
                          - live
                          - primary
                        items:
                          type: string
                      platform_domain:
                        type: string
                        example: wispy-dust--prod.vectorpages.com
                      custom_domain:
                        type: string
                        example: ourshop.com
                      subdomain:
                        type: string
                        example: wispy-dust
                      database_host:
                        type: string
                        example: prod-cluster.xyz789.us-east-1.rds.amazonaws.com
                      database_name:
                        type: string
                        example: db_01jfgxk4nqrst5vwx9yz0abcde
                      created_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                      updated_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                  message:
                    type: string
                    example: 'Environment creation initiated'
                  http_status:
                    type: integer
                    example: 201
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Site Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Site not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Site not found'
                  http_status:
                    type: integer
                    example: 404
        422:
          description: ''
          content:
            application/json:
              schema:
                oneOf:
                  -
                    description: 'Validation Error'
                    type: object
                    example:
                      data: {  }
                      errors:
                        name:
                          - 'Environment name must be lowercase letters, numbers, and hyphens only.'
                      message: 'Validation failed'
                      http_status: 422
                    properties:
                      data:
                        type: object
                        properties: {  }
                      errors:
                        type: object
                        properties:
                          name:
                            type: array
                            example:
                              - 'Environment name must be lowercase letters, numbers, and hyphens only.'
                            items:
                              type: string
                      message:
                        type: string
                        example: 'Validation failed'
                      http_status:
                        type: integer
                        example: 422
                  -
                    description: 'Consecutive Hyphens'
                    type: object
                    example:
                      data: {  }
                      errors:
                        name:
                          - 'Environment name must not contain consecutive hyphens (--).'
                      message: 'Validation failed'
                      http_status: 422
                    properties:
                      data:
                        type: object
                        properties: {  }
                      errors:
                        type: object
                        properties:
                          name:
                            type: array
                            example:
                              - 'Environment name must not contain consecutive hyphens (--).'
                            items:
                              type: string
                      message:
                        type: string
                        example: 'Validation failed'
                      http_status:
                        type: integer
                        example: 422
      tags:
        - Environments
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: 'A unique name for this environment (slug format: lowercase letters, numbers, hyphens; consecutive hyphens `--` are not allowed). Max 50 chars.'
                  example: production
                custom_domain:
                  type:
                    - string
                    - 'null'
                  description: 'The custom domain for this environment. Must be a valid fully qualified domain name. Max 253 chars.'
                  example: ourshop.com
                is_production:
                  type: boolean
                  description: 'Whether this is the production environment. Only one per site. Default: false.'
                  example: true
                php_version:
                  type: string
                  description: 'The PHP version for this environment. Options: 7.2, 7.3, 7.4, 8.0, 8.1, 8.2, 8.3, 8.4, 8.5.'
                  example: '8.3'
                tags:
                  type: array
                  description: 'Optional array of tags for categorizing the environment. Each tag must be slug format (lowercase letters, numbers, hyphens), max 100 characters, and unique.'
                  example:
                    - live
                    - primary
                  items:
                    type: string
              required:
                - name
                - custom_domain
                - php_version
    parameters:
      -
        in: path
        name: site
        description: 'The site ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
  '/api/v1/vector/environments/{env}/rollback':
    post:
      summary: 'Rollback Deployment'
      operationId: environmentsDeploymentsRollbackDeployment
      description: "Triggers a rollback for the environment. By default, rolls back to the last\nsuccessful deployment. Optionally, you can specify a target_deployment_id to\nrollback to a specific previous deployment.\n\nThe rollback creates a new deployment record with `pending` status that progresses\nthrough `running` to either `completed` or `failed`."
      parameters: []
      responses:
        201:
          description: Created
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDI
                    vector_environment_id: 01JFGXK4NQRST5VWX9YZ0ABCDG
                    status: pending
                    stdout: null
                    stderr: null
                    actor: john@example.com
                    environment:
                      id: 01JFGXK4NQRST5VWX9YZ0ABCDG
                      name: production
                      is_production: true
                    created_at: '2025-05-27T09:50:21+00:00'
                    updated_at: '2025-05-27T09:50:21+00:00'
                  message: 'Rollback initiated'
                  http_status: 201
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDI
                      vector_environment_id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDG
                      status:
                        type: string
                        example: pending
                      stdout:
                        type: string
                        example: null
                      stderr:
                        type: string
                        example: null
                      actor:
                        type: string
                        example: john@example.com
                      environment:
                        type: object
                        properties:
                          id:
                            type: string
                            example: 01JFGXK4NQRST5VWX9YZ0ABCDG
                          name:
                            type: string
                            example: production
                          is_production:
                            type: boolean
                            example: true
                      created_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                      updated_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                  message:
                    type: string
                    example: 'Rollback initiated'
                  http_status:
                    type: integer
                    example: 201
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Environment Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Environment not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Environment not found'
                  http_status:
                    type: integer
                    example: 404
        422:
          description: 'Validation Error'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  errors:
                    target_deployment_id:
                      - 'The specified deployment does not exist for this environment or has no Ymir deployment ID.'
                  message: 'Validation failed'
                  http_status: 422
                properties:
                  data:
                    type: object
                    properties: {  }
                  errors:
                    type: object
                    properties:
                      target_deployment_id:
                        type: array
                        example:
                          - 'The specified deployment does not exist for this environment or has no Ymir deployment ID.'
                        items:
                          type: string
                  message:
                    type: string
                    example: 'Validation failed'
                  http_status:
                    type: integer
                    example: 422
      tags:
        - Environments
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                target_deployment_id:
                  type:
                    - string
                    - 'null'
                  description: 'Optional deployment ID to rollback to. Must be a previous successful deployment.'
                  example: 01jfgxk4nqrst5vwx9yz0abcdh
    parameters:
      -
        in: path
        name: env
        description: 'The environment ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcdg
        required: true
        schema:
          type: string
  '/api/v1/vector/environments/{env}/ssl/nudge':
    post:
      summary: Nudge
      operationId: environmentsSSLNudge
      description: "Manually nudge SSL provisioning for an environment. Use this when SSL\nprovisioning appears to be stuck or to retry after a failure."
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                oneOf:
                  -
                    description: 'Provisioning Progressed'
                    type: object
                    example:
                      data:
                        id: 01JFGXK4NQRST5VWX9YZ0ABCDG
                        vector_site_id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                        your_customer_id: customer-123
                        name: production
                        is_production: true
                        status: provisioning
                        provisioning_step: deploying
                        failure_reason: null
                        php_version: '8.3'
                        tags: []
                        platform_domain: wispy-dust.vectorpages.com
                        custom_domain: example.com
                        subdomain: wispy-dust
                        created_at: '2025-05-27T09:50:21+00:00'
                        updated_at: '2025-05-27T09:55:42+00:00'
                      message: 'SSL provisioning advanced from waiting_cert to deploying'
                      http_status: 200
                    properties:
                      data:
                        type: object
                        properties:
                          id:
                            type: string
                            example: 01JFGXK4NQRST5VWX9YZ0ABCDG
                          vector_site_id:
                            type: string
                            example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                          your_customer_id:
                            type: string
                            example: customer-123
                          name:
                            type: string
                            example: production
                          is_production:
                            type: boolean
                            example: true
                          status:
                            type: string
                            example: provisioning
                          provisioning_step:
                            type: string
                            example: deploying
                          failure_reason:
                            type: string
                            example: null
                          php_version:
                            type: string
                            example: '8.3'
                          tags:
                            type: array
                            example: []
                          platform_domain:
                            type: string
                            example: wispy-dust.vectorpages.com
                          custom_domain:
                            type: string
                            example: example.com
                          subdomain:
                            type: string
                            example: wispy-dust
                          created_at:
                            type: string
                            example: '2025-05-27T09:50:21+00:00'
                          updated_at:
                            type: string
                            example: '2025-05-27T09:55:42+00:00'
                      message:
                        type: string
                        example: 'SSL provisioning advanced from waiting_cert to deploying'
                      http_status:
                        type: integer
                        example: 200
                  -
                    description: Waiting
                    type: object
                    example:
                      data:
                        id: 01JFGXK4NQRST5VWX9YZ0ABCDG
                        vector_site_id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                        your_customer_id: customer-123
                        name: production
                        is_production: true
                        status: provisioning
                        provisioning_step: waiting_custom_dns
                        failure_reason: null
                        php_version: '8.3'
                        tags: []
                        platform_domain: wispy-dust.vectorpages.com
                        custom_domain: example.com
                        subdomain: wispy-dust
                        created_at: '2025-05-27T09:50:21+00:00'
                        updated_at: '2025-05-27T09:55:42+00:00'
                      message: 'SSL provisioning is waiting and cannot advance yet. Current step: waiting_custom_dns'
                      http_status: 200
                    properties:
                      data:
                        type: object
                        properties:
                          id:
                            type: string
                            example: 01JFGXK4NQRST5VWX9YZ0ABCDG
                          vector_site_id:
                            type: string
                            example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                          your_customer_id:
                            type: string
                            example: customer-123
                          name:
                            type: string
                            example: production
                          is_production:
                            type: boolean
                            example: true
                          status:
                            type: string
                            example: provisioning
                          provisioning_step:
                            type: string
                            example: waiting_custom_dns
                          failure_reason:
                            type: string
                            example: null
                          php_version:
                            type: string
                            example: '8.3'
                          tags:
                            type: array
                            example: []
                          platform_domain:
                            type: string
                            example: wispy-dust.vectorpages.com
                          custom_domain:
                            type: string
                            example: example.com
                          subdomain:
                            type: string
                            example: wispy-dust
                          created_at:
                            type: string
                            example: '2025-05-27T09:50:21+00:00'
                          updated_at:
                            type: string
                            example: '2025-05-27T09:55:42+00:00'
                      message:
                        type: string
                        example: 'SSL provisioning is waiting and cannot advance yet. Current step: waiting_custom_dns'
                      http_status:
                        type: integer
                        example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Environment not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Environment not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Environments
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                retry:
                  type: boolean
                  description: 'Whether to retry from a failed state. Default: false.'
                  example: true
    parameters:
      -
        in: path
        name: env
        description: 'The environment ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcdg
        required: true
        schema:
          type: string
  /api/v1/vector/account:
    get:
      summary: 'Get Account Summary'
      operationId: getAccountSummary
      description: "Retrieves a summary of the authenticated account's Vector Pro information\nincluding owner details, cluster DNS endpoints, verified domains, and\nsite/environment counts grouped by status."
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    owner:
                      name: 'John Doe'
                      email: john@example.com
                    account:
                      name: 'My Account'
                      company: 'Acme Corp'
                    cluster:
                      alb_dns_name: alb-abc123.us-west-2.elb.amazonaws.com
                      aurora_cluster_endpoint: cluster.abc123.us-west-2.rds.amazonaws.com
                      ssh_nlb_dns: nlb-abc123.us-west-2.elb.amazonaws.com
                    domains:
                      - mysite.com
                      - another.org
                    sites:
                      total: 5
                      by_status:
                        pending: 0
                        activation_requested: 0
                        active: 3
                        suspension_requested: 0
                        suspended: 1
                        unsuspension_requested: 0
                        termination_requested: 0
                        terminated: 1
                        canceled: 0
                    environments:
                      total: 8
                      by_status:
                        pending: 1
                        provisioning: 0
                        active: 5
                        suspending: 0
                        suspended: 1
                        unsuspending: 0
                        terminating: 0
                        terminated: 1
                        failed: 0
                  message: 'Account summary retrieved successfully'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      owner:
                        type: object
                        properties:
                          name:
                            type: string
                            example: 'John Doe'
                          email:
                            type: string
                            example: john@example.com
                      account:
                        type: object
                        properties:
                          name:
                            type: string
                            example: 'My Account'
                          company:
                            type: string
                            example: 'Acme Corp'
                      cluster:
                        type: object
                        properties:
                          alb_dns_name:
                            type: string
                            example: alb-abc123.us-west-2.elb.amazonaws.com
                          aurora_cluster_endpoint:
                            type: string
                            example: cluster.abc123.us-west-2.rds.amazonaws.com
                          ssh_nlb_dns:
                            type: string
                            example: nlb-abc123.us-west-2.elb.amazonaws.com
                      domains:
                        type: array
                        example:
                          - mysite.com
                          - another.org
                        items:
                          type: string
                      sites:
                        type: object
                        properties:
                          total:
                            type: integer
                            example: 5
                          by_status:
                            type: object
                            properties:
                              pending:
                                type: integer
                                example: 0
                              activation_requested:
                                type: integer
                                example: 0
                              active:
                                type: integer
                                example: 3
                              suspension_requested:
                                type: integer
                                example: 0
                              suspended:
                                type: integer
                                example: 1
                              unsuspension_requested:
                                type: integer
                                example: 0
                              termination_requested:
                                type: integer
                                example: 0
                              terminated:
                                type: integer
                                example: 1
                              canceled:
                                type: integer
                                example: 0
                      environments:
                        type: object
                        properties:
                          total:
                            type: integer
                            example: 8
                          by_status:
                            type: object
                            properties:
                              pending:
                                type: integer
                                example: 1
                              provisioning:
                                type: integer
                                example: 0
                              active:
                                type: integer
                                example: 5
                              suspending:
                                type: integer
                                example: 0
                              suspended:
                                type: integer
                                example: 1
                              unsuspending:
                                type: integer
                                example: 0
                              terminating:
                                type: integer
                                example: 0
                              terminated:
                                type: integer
                                example: 1
                              failed:
                                type: integer
                                example: 0
                  message:
                    type: string
                    example: 'Account summary retrieved successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
      tags:
        - Account
  /api/v1/vector/ssh-keys:
    get:
      summary: 'List SSH Keys'
      operationId: accountSSHKeysListSSHKeys
      description: "Retrieves a paginated list of account-level default SSH keys. These are\ntemplate keys that will be installed on new dev sites."
      parameters:
        -
          in: query
          name: per_page
          description: 'Number of items per page (max 100). Default: 15.'
          example: 25
          required: false
          schema:
            type: integer
            description: 'Number of items per page (max 100). Default: 15.'
            example: 25
        -
          in: query
          name: page
          description: 'Page number for pagination. Default: 1.'
          example: 1
          required: false
          schema:
            type: integer
            description: 'Page number for pagination. Default: 1.'
            example: 1
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    -
                      id: 01JFGXK4NQRST5VWX9YZ0ABCDI
                      account_id: 1
                      vector_site_id: null
                      name: 'deploy key'
                      fingerprint: 'SHA256:abc123def456...'
                      public_key_preview: 'ssh-rsa AAAAB3NzaC1yc2EA...user@host'
                      is_account_default: true
                      created_at: '2026-01-15T10:00:00+00:00'
                      updated_at: '2026-01-15T10:00:00+00:00'
                  links: {  }
                  meta: {  }
                  message: 'SSH keys retrieved successfully'
                  http_status: 200
                properties:
                  data:
                    type: array
                    example:
                      -
                        id: 01JFGXK4NQRST5VWX9YZ0ABCDI
                        account_id: 1
                        vector_site_id: null
                        name: 'deploy key'
                        fingerprint: 'SHA256:abc123def456...'
                        public_key_preview: 'ssh-rsa AAAAB3NzaC1yc2EA...user@host'
                        is_account_default: true
                        created_at: '2026-01-15T10:00:00+00:00'
                        updated_at: '2026-01-15T10:00:00+00:00'
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          example: 01JFGXK4NQRST5VWX9YZ0ABCDI
                        account_id:
                          type: integer
                          example: 1
                        vector_site_id:
                          type: string
                          example: null
                        name:
                          type: string
                          example: 'deploy key'
                        fingerprint:
                          type: string
                          example: 'SHA256:abc123def456...'
                        public_key_preview:
                          type: string
                          example: 'ssh-rsa AAAAB3NzaC1yc2EA...user@host'
                        is_account_default:
                          type: boolean
                          example: true
                        created_at:
                          type: string
                          example: '2026-01-15T10:00:00+00:00'
                        updated_at:
                          type: string
                          example: '2026-01-15T10:00:00+00:00'
                  links:
                    type: object
                    properties: {  }
                  meta:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'SSH keys retrieved successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
      tags:
        - Account
    post:
      summary: 'Create SSH Key'
      operationId: accountSSHKeysCreateSSHKey
      description: "Creates a new account-level default SSH key. This key will be automatically\ninstalled on any new dev sites created after this point.\n\n**Note**: This does not affect existing sites. To add a key to an existing\nsite, use the site-specific SSH key endpoint."
      parameters: []
      responses:
        201:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDI
                    account_id: 1
                    vector_site_id: null
                    name: 'deploy key'
                    fingerprint: 'SHA256:abc123def456...'
                    public_key_preview: 'ssh-rsa AAAAB3NzaC1yc2EA...user@host'
                    is_account_default: true
                    created_at: '2026-01-15T10:00:00+00:00'
                    updated_at: '2026-01-15T10:00:00+00:00'
                  message: 'SSH key created successfully'
                  http_status: 201
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDI
                      account_id:
                        type: integer
                        example: 1
                      vector_site_id:
                        type: string
                        example: null
                      name:
                        type: string
                        example: 'deploy key'
                      fingerprint:
                        type: string
                        example: 'SHA256:abc123def456...'
                      public_key_preview:
                        type: string
                        example: 'ssh-rsa AAAAB3NzaC1yc2EA...user@host'
                      is_account_default:
                        type: boolean
                        example: true
                      created_at:
                        type: string
                        example: '2026-01-15T10:00:00+00:00'
                      updated_at:
                        type: string
                        example: '2026-01-15T10:00:00+00:00'
                  message:
                    type: string
                    example: 'SSH key created successfully'
                  http_status:
                    type: integer
                    example: 201
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        422:
          description: ''
          content:
            application/json:
              schema:
                oneOf:
                  -
                    description: 'Invalid Key'
                    type: object
                    example:
                      data: {  }
                      errors:
                        public_key:
                          - 'Unable to parse SSH public key. Ensure it is in valid OpenSSH format.'
                      message: 'Validation failed'
                      http_status: 422
                    properties:
                      data:
                        type: object
                        properties: {  }
                      errors:
                        type: object
                        properties:
                          public_key:
                            type: array
                            example:
                              - 'Unable to parse SSH public key. Ensure it is in valid OpenSSH format.'
                            items:
                              type: string
                      message:
                        type: string
                        example: 'Validation failed'
                      http_status:
                        type: integer
                        example: 422
                  -
                    description: 'Duplicate Key'
                    type: object
                    example:
                      data: {  }
                      errors:
                        public_key:
                          - 'An SSH key with this fingerprint already exists for this account.'
                      message: 'Validation failed'
                      http_status: 422
                    properties:
                      data:
                        type: object
                        properties: {  }
                      errors:
                        type: object
                        properties:
                          public_key:
                            type: array
                            example:
                              - 'An SSH key with this fingerprint already exists for this account.'
                            items:
                              type: string
                      message:
                        type: string
                        example: 'Validation failed'
                      http_status:
                        type: integer
                        example: 422
      tags:
        - Account
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: 'A friendly name for the SSH key.'
                  example: 'deploy key'
                public_key:
                  type: string
                  description: 'The SSH public key in OpenSSH format.'
                  example: 'ssh-rsa AAAAB3NzaC1yc2EA... user@host'
              required:
                - name
                - public_key
  '/api/v1/vector/ssh-keys/{key}':
    get:
      summary: 'Get SSH Key'
      operationId: accountSSHKeysGetSSHKey
      description: 'Retrieves details of a specific account-level SSH key.'
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDI
                    account_id: 1
                    vector_site_id: null
                    name: 'deploy key'
                    fingerprint: 'SHA256:abc123def456...'
                    public_key_preview: 'ssh-rsa AAAAB3NzaC1yc2EA...user@host'
                    is_account_default: true
                    created_at: '2026-01-15T10:00:00+00:00'
                    updated_at: '2026-01-15T10:00:00+00:00'
                  message: 'SSH key retrieved successfully'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDI
                      account_id:
                        type: integer
                        example: 1
                      vector_site_id:
                        type: string
                        example: null
                      name:
                        type: string
                        example: 'deploy key'
                      fingerprint:
                        type: string
                        example: 'SHA256:abc123def456...'
                      public_key_preview:
                        type: string
                        example: 'ssh-rsa AAAAB3NzaC1yc2EA...user@host'
                      is_account_default:
                        type: boolean
                        example: true
                      created_at:
                        type: string
                        example: '2026-01-15T10:00:00+00:00'
                      updated_at:
                        type: string
                        example: '2026-01-15T10:00:00+00:00'
                  message:
                    type: string
                    example: 'SSH key retrieved successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'SSH key not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'SSH key not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Account
    delete:
      summary: 'Delete SSH Key'
      operationId: accountSSHKeysDeleteSSHKey
      description: "Deletes an account-level default SSH key. This does not remove the key\nfrom any existing sites where it has already been installed."
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDI
                    account_id: 1
                    vector_site_id: null
                    name: 'deploy key'
                    fingerprint: 'SHA256:abc123def456...'
                    public_key_preview: 'ssh-rsa AAAAB3NzaC1yc2EA...user@host'
                    is_account_default: true
                    created_at: '2026-01-15T10:00:00+00:00'
                    updated_at: '2026-01-15T10:00:00+00:00'
                  message: 'SSH key deleted successfully'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDI
                      account_id:
                        type: integer
                        example: 1
                      vector_site_id:
                        type: string
                        example: null
                      name:
                        type: string
                        example: 'deploy key'
                      fingerprint:
                        type: string
                        example: 'SHA256:abc123def456...'
                      public_key_preview:
                        type: string
                        example: 'ssh-rsa AAAAB3NzaC1yc2EA...user@host'
                      is_account_default:
                        type: boolean
                        example: true
                      created_at:
                        type: string
                        example: '2026-01-15T10:00:00+00:00'
                      updated_at:
                        type: string
                        example: '2026-01-15T10:00:00+00:00'
                  message:
                    type: string
                    example: 'SSH key deleted successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'SSH key not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'SSH key not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Account
    parameters:
      -
        in: path
        name: key
        description: 'The SSH key ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcdi
        required: true
        schema:
          type: string
  /api/v1/vector/api-keys:
    get:
      summary: 'List API Keys'
      operationId: accountAPIKeysListAPIKeys
      description: "Retrieves a paginated list of API keys for the authenticated user.\nToken values are never returned - only metadata like name, creation date,\nand last used timestamp."
      parameters:
        -
          in: query
          name: per_page
          description: 'Number of items per page (max 100). Default: 15.'
          example: 25
          required: false
          schema:
            type: integer
            description: 'Number of items per page (max 100). Default: 15.'
            example: 25
        -
          in: query
          name: page
          description: 'Page number for pagination. Default: 1.'
          example: 1
          required: false
          schema:
            type: integer
            description: 'Page number for pagination. Default: 1.'
            example: 1
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    -
                      name: 'Production API Key'
                      abilities:
                        - '*'
                      last_used_at: '2025-05-27T10:30:00+00:00'
                      expires_at: null
                      created_at: '2025-05-27T09:50:21+00:00'
                  links: {  }
                  meta: {  }
                  message: 'API keys retrieved successfully'
                  http_status: 200
                properties:
                  data:
                    type: array
                    example:
                      -
                        name: 'Production API Key'
                        abilities:
                          - '*'
                        last_used_at: '2025-05-27T10:30:00+00:00'
                        expires_at: null
                        created_at: '2025-05-27T09:50:21+00:00'
                    items:
                      type: object
                      properties:
                        name:
                          type: string
                          example: 'Production API Key'
                        abilities:
                          type: array
                          example:
                            - '*'
                          items:
                            type: string
                        last_used_at:
                          type: string
                          example: '2025-05-27T10:30:00+00:00'
                        expires_at:
                          type: string
                          example: null
                        created_at:
                          type: string
                          example: '2025-05-27T09:50:21+00:00'
                  links:
                    type: object
                    properties: {  }
                  meta:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'API keys retrieved successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
      tags:
        - Account
    post:
      summary: 'Create API Key'
      operationId: accountAPIKeysCreateAPIKey
      description: "Creates a new API key for the authenticated user.\n\n> [!WARNING]\n> The API key is returned ONLY in this response. Store it securelyit cannot be retrieved again.\n\nUse this token in the `Authorization` header for all API requests.\n\n##### Abilities\n\nAbilities control what operations the token can perform. Available abilities:\n\n- `*` - Full access (default)\n- `mcp` - Full MCP access (for AI assistants like Claude)\n- `account:read` - Read account information\n- `site:read` - Read sites, environments, deployments, database operations\n- `site:write` - Manage sites, environments, deployments, database import/export\n- `domain:read` - Read domains\n- `domain:write` - Manage domains\n- `log:read` - Read site logs\n- `cdn:read` - Read CDN settings\n- `cdn:write` - Manage CDN settings and cache\n- `webhook:read` - Read webhooks\n- `webhook:write` - Manage webhooks\n- `secret:read` - Read API keys and global secrets\n- `secret:write` - Manage API keys and global secrets\n- `sshkey:read` - Read SSH keys\n- `sshkey:write` - Manage SSH keys\n- `events:read` - Read event logs"
      parameters: []
      responses:
        201:
          description: Created
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    name: 'Production API Key'
                    token: 1|a1b2c3d4e5f6789012345678901234567890123456789012345678901234abcd
                    abilities:
                      - '*'
                    expires_at: null
                    created_at: '2025-05-27T09:50:21+00:00'
                  message: 'API key created successfully. Store this token securely - it will not be shown again.'
                  http_status: 201
                properties:
                  data:
                    type: object
                    properties:
                      name:
                        type: string
                        example: 'Production API Key'
                      token:
                        type: string
                        example: 1|a1b2c3d4e5f6789012345678901234567890123456789012345678901234abcd
                      abilities:
                        type: array
                        example:
                          - '*'
                        items:
                          type: string
                      expires_at:
                        type: string
                        example: null
                      created_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                  message:
                    type: string
                    example: 'API key created successfully. Store this token securely - it will not be shown again.'
                  http_status:
                    type: integer
                    example: 201
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        422:
          description: 'Validation Error'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  errors:
                    name:
                      - 'The name field is required.'
                  message: 'Validation failed'
                  http_status: 422
                properties:
                  data:
                    type: object
                    properties: {  }
                  errors:
                    type: object
                    properties:
                      name:
                        type: array
                        example:
                          - 'The name field is required.'
                        items:
                          type: string
                  message:
                    type: string
                    example: 'Validation failed'
                  http_status:
                    type: integer
                    example: 422
      tags:
        - Account
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: 'A descriptive name for this API key.'
                  example: 'Production API Key'
                abilities:
                  type: array
                  description: 'Optional array of abilities. Defaults to ["*"] for full access.'
                  example:
                    - 'site:read'
                    - 'site:write'
                  items:
                    type: string
                expires_at:
                  type:
                    - datetime
                    - 'null'
                  description: 'Optional expiration date for the token. Must be in the future.'
                  example: '2025-12-31T23:59:59Z'
              required:
                - name
  /api/v1/vector/global-secrets:
    get:
      summary: 'List Secrets'
      operationId: accountSecretsListSecrets
      description: "Retrieves a paginated list of all global secrets and environment variables for your account.\nValues are only included for environment variables (`is_secret=false`)."
      parameters:
        -
          in: query
          name: per_page
          description: 'Number of items per page (max 100). Default: 15.'
          example: 10
          required: false
          schema:
            type: integer
            description: 'Number of items per page (max 100). Default: 15.'
            example: 10
        -
          in: query
          name: page
          description: 'Page number for pagination.'
          example: 1
          required: false
          schema:
            type: integer
            description: 'Page number for pagination.'
            example: 1
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    -
                      id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      key: STRIPE_SECRET_KEY
                      is_secret: true
                      created_at: '2025-05-27T09:50:21+00:00'
                      updated_at: '2025-05-27T09:50:21+00:00'
                    -
                      id: 01JFGXK4NQRST5VWX9YZ0ABCDF
                      key: APP_ENV
                      is_secret: false
                      value: production
                      created_at: '2025-05-27T09:50:21+00:00'
                      updated_at: '2025-05-27T09:50:21+00:00'
                  links: {  }
                  meta: {  }
                  message: 'Global secrets retrieved successfully'
                  http_status: 200
                properties:
                  data:
                    type: array
                    example:
                      -
                        id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                        key: STRIPE_SECRET_KEY
                        is_secret: true
                        created_at: '2025-05-27T09:50:21+00:00'
                        updated_at: '2025-05-27T09:50:21+00:00'
                      -
                        id: 01JFGXK4NQRST5VWX9YZ0ABCDF
                        key: APP_ENV
                        is_secret: false
                        value: production
                        created_at: '2025-05-27T09:50:21+00:00'
                        updated_at: '2025-05-27T09:50:21+00:00'
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                        key:
                          type: string
                          example: STRIPE_SECRET_KEY
                        is_secret:
                          type: boolean
                          example: true
                        created_at:
                          type: string
                          example: '2025-05-27T09:50:21+00:00'
                        updated_at:
                          type: string
                          example: '2025-05-27T09:50:21+00:00'
                  links:
                    type: object
                    properties: {  }
                  meta:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Global secrets retrieved successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
      tags:
        - Account
    post:
      summary: 'Create Secret'
      operationId: accountSecretsCreateSecret
      description: "Creates a new global secret or environment variable for your account. It will be available\nto all sites within your account during deployment.\n\nSet `is_secret` to `false` to create a plain environment variable instead of a secret.\nEnvironment variables are stored as Lambda env vars (cheaper) and their values are\nreturned in API responses. Secrets are stored in AWS Secrets Manager and their values\nare never returned.\n\nThe following keys are reserved and cannot be used:\n<kbd>AUTH_KEY</kbd>, <kbd>SECURE_AUTH_KEY</kbd>, <kbd>LOGGED_IN_KEY</kbd>, <kbd>NONCE_KEY</kbd>, <kbd>AUTH_SALT</kbd>, <kbd>SECURE_AUTH_SALT</kbd>, <kbd>LOGGED_IN_SALT</kbd>, <kbd>NONCE_SALT</kbd>, <kbd>AUTOMATIC_UPDATER_DISABLED</kbd>, <kbd>DISABLE_WP_CRON</kbd>, <kbd>DISALLOW_FILE_EDIT</kbd>, <kbd>DISALLOW_FILE_MODS</kbd>, <kbd>DOMAIN_CURRENT_SITE</kbd>, <kbd>WP_HOME</kbd>, <kbd>WP_SITEURL</kbd>, <kbd>YMIR_ASSETS_PATH</kbd>, <kbd>YMIR_ASSETS_URL</kbd>, <kbd>YMIR_CACHE_PREFIX</kbd>, <kbd>YMIR_CACHE_TABLE</kbd>, <kbd>YMIR_CDN_IMAGE_PROCESSING_ENABLED</kbd>, <kbd>YMIR_DISTRIBUTION_ID</kbd>, <kbd>YMIR_DOMAIN_NAMES</kbd>, <kbd>YMIR_ENVIRONMENT</kbd>, <kbd>YMIR_MAX_EXECUTION_TIME</kbd>, <kbd>YMIR_PRIMARY_DOMAIN_NAME</kbd>, <kbd>YMIR_PROJECT_TYPE</kbd>, <kbd>YMIR_PUBLIC_STORE</kbd>, <kbd>YMIR_REDIS_ENDPOINT</kbd>, <kbd>YMIR_SECRETS_PATH</kbd>, <kbd>YMIR_UPLOAD_URL</kbd>, <kbd>_HANDLER</kbd>, <kbd>AWS_ACCESS_KEY_ID</kbd>, <kbd>AWS_EXECUTION_ENV</kbd>, <kbd>AWS_LAMBDA_FUNCTION_MEMORY_SIZE</kbd>, <kbd>AWS_LAMBDA_FUNCTION_NAME</kbd>, <kbd>AWS_LAMBDA_FUNCTION_VERSION</kbd>, <kbd>AWS_LAMBDA_LOG_GROUP_NAME</kbd>, <kbd>AWS_LAMBDA_LOG_STREAM_NAME</kbd>, <kbd>AWS_LAMBDA_RUNTIME_API</kbd>, <kbd>AWS_REGION</kbd>, <kbd>AWS_SECRET_ACCESS_KEY</kbd>, <kbd>AWS_SESSION_TOKEN</kbd>, <kbd>LAMBDA_RUNTIME_DIR</kbd>, <kbd>LAMBDA_TASK_ROOT</kbd>, <kbd>TZ</kbd>"
      parameters: []
      responses:
        201:
          description: Created
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                    key: STRIPE_SECRET_KEY
                    is_secret: true
                    created_at: '2025-05-27T09:50:21+00:00'
                    updated_at: '2025-05-27T09:50:21+00:00'
                  message: 'Global secret created successfully'
                  http_status: 201
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      key:
                        type: string
                        example: STRIPE_SECRET_KEY
                      is_secret:
                        type: boolean
                        example: true
                      created_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                      updated_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                  message:
                    type: string
                    example: 'Global secret created successfully'
                  http_status:
                    type: integer
                    example: 201
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        422:
          description: 'Validation Error'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  errors:
                    key:
                      - 'The secret key is required.'
                  message: 'Validation failed'
                  http_status: 422
                properties:
                  data:
                    type: object
                    properties: {  }
                  errors:
                    type: object
                    properties:
                      key:
                        type: array
                        example:
                          - 'The secret key is required.'
                        items:
                          type: string
                  message:
                    type: string
                    example: 'Validation failed'
                  http_status:
                    type: integer
                    example: 422
      tags:
        - Account
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                key:
                  type: string
                  description: 'The secret key name. Must start with a letter and contain only uppercase letters, numbers, and underscores.'
                  example: STRIPE_SECRET_KEY
                value:
                  type: string
                  description: 'The secret value.'
                  example: sk_live_xxxx
                is_secret:
                  type: boolean
                  description: 'Whether this is a secret (stored in AWS Secrets Manager) or a plain environment variable. Default: true.'
                  example: true
              required:
                - key
                - value
  '/api/v1/vector/global-secrets/{secret}':
    get:
      summary: 'Get Secret'
      operationId: accountSecretsGetSecret
      description: "Retrieves details of a specific global secret or environment variable.\nThe value is only included for environment variables (`is_secret=false`)."
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                oneOf:
                  -
                    description: Secret
                    type: object
                    example:
                      data:
                        id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                        key: STRIPE_SECRET_KEY
                        is_secret: true
                        created_at: '2025-05-27T09:50:21+00:00'
                        updated_at: '2025-05-27T09:50:21+00:00'
                      message: 'Global secret retrieved successfully'
                      http_status: 200
                    properties:
                      data:
                        type: object
                        properties:
                          id:
                            type: string
                            example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                          key:
                            type: string
                            example: STRIPE_SECRET_KEY
                          is_secret:
                            type: boolean
                            example: true
                          created_at:
                            type: string
                            example: '2025-05-27T09:50:21+00:00'
                          updated_at:
                            type: string
                            example: '2025-05-27T09:50:21+00:00'
                      message:
                        type: string
                        example: 'Global secret retrieved successfully'
                      http_status:
                        type: integer
                        example: 200
                  -
                    description: 'Environment Variable'
                    type: object
                    example:
                      data:
                        id: 01JFGXK4NQRST5VWX9YZ0ABCDF
                        key: APP_ENV
                        is_secret: false
                        value: production
                        created_at: '2025-05-27T09:50:21+00:00'
                        updated_at: '2025-05-27T09:50:21+00:00'
                      message: 'Global secret retrieved successfully'
                      http_status: 200
                    properties:
                      data:
                        type: object
                        properties:
                          id:
                            type: string
                            example: 01JFGXK4NQRST5VWX9YZ0ABCDF
                          key:
                            type: string
                            example: APP_ENV
                          is_secret:
                            type: boolean
                            example: false
                          value:
                            type: string
                            example: production
                          created_at:
                            type: string
                            example: '2025-05-27T09:50:21+00:00'
                          updated_at:
                            type: string
                            example: '2025-05-27T09:50:21+00:00'
                      message:
                        type: string
                        example: 'Global secret retrieved successfully'
                      http_status:
                        type: integer
                        example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Global secret not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Global secret not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Account
    put:
      summary: 'Update Secret'
      operationId: accountSecretsUpdateSecret
      description: "Updates an existing global secret or environment variable. You can update the key, value,\nis_secret flag, or any combination.\n\nThe following keys are reserved and cannot be used:\n<kbd>AUTH_KEY</kbd>, <kbd>SECURE_AUTH_KEY</kbd>, <kbd>LOGGED_IN_KEY</kbd>, <kbd>NONCE_KEY</kbd>, <kbd>AUTH_SALT</kbd>, <kbd>SECURE_AUTH_SALT</kbd>, <kbd>LOGGED_IN_SALT</kbd>, <kbd>NONCE_SALT</kbd>, <kbd>AUTOMATIC_UPDATER_DISABLED</kbd>, <kbd>DISABLE_WP_CRON</kbd>, <kbd>DISALLOW_FILE_EDIT</kbd>, <kbd>DISALLOW_FILE_MODS</kbd>, <kbd>DOMAIN_CURRENT_SITE</kbd>, <kbd>WP_HOME</kbd>, <kbd>WP_SITEURL</kbd>, <kbd>YMIR_ASSETS_PATH</kbd>, <kbd>YMIR_ASSETS_URL</kbd>, <kbd>YMIR_CACHE_PREFIX</kbd>, <kbd>YMIR_CACHE_TABLE</kbd>, <kbd>YMIR_CDN_IMAGE_PROCESSING_ENABLED</kbd>, <kbd>YMIR_DISTRIBUTION_ID</kbd>, <kbd>YMIR_DOMAIN_NAMES</kbd>, <kbd>YMIR_ENVIRONMENT</kbd>, <kbd>YMIR_MAX_EXECUTION_TIME</kbd>, <kbd>YMIR_PRIMARY_DOMAIN_NAME</kbd>, <kbd>YMIR_PROJECT_TYPE</kbd>, <kbd>YMIR_PUBLIC_STORE</kbd>, <kbd>YMIR_REDIS_ENDPOINT</kbd>, <kbd>YMIR_SECRETS_PATH</kbd>, <kbd>YMIR_UPLOAD_URL</kbd>, <kbd>_HANDLER</kbd>, <kbd>AWS_ACCESS_KEY_ID</kbd>, <kbd>AWS_EXECUTION_ENV</kbd>, <kbd>AWS_LAMBDA_FUNCTION_MEMORY_SIZE</kbd>, <kbd>AWS_LAMBDA_FUNCTION_NAME</kbd>, <kbd>AWS_LAMBDA_FUNCTION_VERSION</kbd>, <kbd>AWS_LAMBDA_LOG_GROUP_NAME</kbd>, <kbd>AWS_LAMBDA_LOG_STREAM_NAME</kbd>, <kbd>AWS_LAMBDA_RUNTIME_API</kbd>, <kbd>AWS_REGION</kbd>, <kbd>AWS_SECRET_ACCESS_KEY</kbd>, <kbd>AWS_SESSION_TOKEN</kbd>, <kbd>LAMBDA_RUNTIME_DIR</kbd>, <kbd>LAMBDA_TASK_ROOT</kbd>, <kbd>TZ</kbd>"
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                    key: STRIPE_API_KEY
                    is_secret: true
                    created_at: '2025-05-27T09:50:21+00:00'
                    updated_at: '2025-05-27T10:30:45+00:00'
                  message: 'Global secret updated successfully'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      key:
                        type: string
                        example: STRIPE_API_KEY
                      is_secret:
                        type: boolean
                        example: true
                      created_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                      updated_at:
                        type: string
                        example: '2025-05-27T10:30:45+00:00'
                  message:
                    type: string
                    example: 'Global secret updated successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Global secret not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Global secret not found'
                  http_status:
                    type: integer
                    example: 404
        422:
          description: 'Validation Error'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  errors:
                    key:
                      - 'The secret key must start with a letter and contain only uppercase letters, numbers, and underscores.'
                  message: 'Validation failed'
                  http_status: 422
                properties:
                  data:
                    type: object
                    properties: {  }
                  errors:
                    type: object
                    properties:
                      key:
                        type: array
                        example:
                          - 'The secret key must start with a letter and contain only uppercase letters, numbers, and underscores.'
                        items:
                          type: string
                  message:
                    type: string
                    example: 'Validation failed'
                  http_status:
                    type: integer
                    example: 422
      tags:
        - Account
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                key:
                  type: string
                  description: 'The new secret key name. Must start with a letter and contain only uppercase letters, numbers, and underscores.'
                  example: STRIPE_API_KEY
                value:
                  type: string
                  description: 'The new secret value.'
                  example: sk_live_yyyy
                is_secret:
                  type: boolean
                  description: 'Whether this is a secret or a plain environment variable.'
                  example: true
    delete:
      summary: 'Delete Secret'
      operationId: accountSecretsDeleteSecret
      description: 'Deletes a global secret from your account.'
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                    key: STRIPE_SECRET_KEY
                    is_secret: true
                    created_at: '2025-05-27T09:50:21+00:00'
                    updated_at: '2025-05-27T09:50:21+00:00'
                  message: 'Global secret deleted successfully'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      key:
                        type: string
                        example: STRIPE_SECRET_KEY
                      is_secret:
                        type: boolean
                        example: true
                      created_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                      updated_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                  message:
                    type: string
                    example: 'Global secret deleted successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Global secret not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Global secret not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Account
    parameters:
      -
        in: path
        name: secret
        description: ''
        example: architecto
        required: true
        schema:
          type: string
      -
        in: path
        name: accountSecret
        description: 'The secret ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcde
        required: true
        schema:
          type: string
  '/api/v1/vector/api-keys/{token}':
    delete:
      summary: 'Delete API Key'
      operationId: accountAPIKeysDeleteAPIKey
      description: "Deletes an API key. You cannot delete the token currently being used\nfor authentication. This operation is irreversible."
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    name: 'Production API Key'
                    abilities:
                      - '*'
                    last_used_at: '2025-05-27T10:30:00+00:00'
                    expires_at: null
                    created_at: '2025-05-27T09:50:21+00:00'
                  message: 'API key deleted successfully'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      name:
                        type: string
                        example: 'Production API Key'
                      abilities:
                        type: array
                        example:
                          - '*'
                        items:
                          type: string
                      last_used_at:
                        type: string
                        example: '2025-05-27T10:30:00+00:00'
                      expires_at:
                        type: string
                        example: null
                      created_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                  message:
                    type: string
                    example: 'API key deleted successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: 'Cannot Delete Current Token'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Cannot delete the token currently in use'
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Cannot delete the token currently in use'
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'API key not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'API key not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Account
    parameters:
      -
        in: path
        name: token
        description: ''
        example: architecto
        required: true
        schema:
          type: string
      -
        in: path
        name: tokenId
        description: 'The API key ID.'
        example: 1
        required: true
        schema:
          type: integer
  /api/v1/vector/events:
    get:
      summary: 'List Events'
      operationId: listEvents
      description: "Retrieves a paginated list of event logs for the authenticated account.\nLogs are returned in reverse chronological order (newest first).\n\nEvent logs are automatically pruned after 90 days."
      parameters:
        -
          in: query
          name: from
          description: 'Filter events that occurred on or after this timestamp (ISO 8601).'
          example: '2025-01-01T00:00:00Z'
          required: false
          schema:
            type:
              - string
              - 'null'
            description: 'Filter events that occurred on or after this timestamp (ISO 8601).'
            example: '2025-01-01T00:00:00Z'
        -
          in: query
          name: to
          description: 'Filter events that occurred on or before this timestamp (ISO 8601).'
          example: '2025-01-31T23:59:59Z'
          required: false
          schema:
            type:
              - string
              - 'null'
            description: 'Filter events that occurred on or before this timestamp (ISO 8601).'
            example: '2025-01-31T23:59:59Z'
        -
          in: query
          name: event
          description: 'Filter by event type(s). Accepts a single event or comma-separated list.'
          example: 'site.provisioning.completed,deployment.completed'
          required: false
          schema:
            type:
              - string
              - 'null'
            description: 'Filter by event type(s). Accepts a single event or comma-separated list.'
            example: 'site.provisioning.completed,deployment.completed'
        -
          in: query
          name: per_page
          description: 'Number of items per page (max 100). Default: 15.'
          example: 25
          required: false
          schema:
            type:
              - integer
              - 'null'
            description: 'Number of items per page (max 100). Default: 15.'
            example: 25
        -
          in: query
          name: page
          description: 'Page number for pagination. Default: 1.'
          example: 1
          required: false
          schema:
            type:
              - integer
              - 'null'
            description: 'Page number for pagination. Default: 1.'
            example: 1
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    -
                      id: 01JFGXK4NQRST5VWX9YZ0ABCDL
                      event: site.provisioning.completed
                      model_type: VectorSite
                      model_id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                      context: null
                      actor:
                        ip: 203.0.113.50
                        token_name: 'Production API Key'
                      occurred_at: '2026-02-01T09:50:21+00:00'
                      created_at: '2026-02-01T09:50:21+00:00'
                  links: {  }
                  meta: {  }
                  message: 'Event logs retrieved successfully'
                  http_status: 200
                properties:
                  data:
                    type: array
                    example:
                      -
                        id: 01JFGXK4NQRST5VWX9YZ0ABCDL
                        event: site.provisioning.completed
                        model_type: VectorSite
                        model_id: 01JFGXK4NQRST5VWX9YZ0ABCDE
                        context: null
                        actor:
                          ip: 203.0.113.50
                          token_name: 'Production API Key'
                        occurred_at: '2026-02-01T09:50:21+00:00'
                        created_at: '2026-02-01T09:50:21+00:00'
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          example: 01JFGXK4NQRST5VWX9YZ0ABCDL
                        event:
                          type: string
                          example: site.provisioning.completed
                        model_type:
                          type: string
                          example: VectorSite
                        model_id:
                          type: string
                          example: 01JFGXK4NQRST5VWX9YZ0ABCDE
                        context:
                          type: string
                          example: null
                        actor:
                          type: object
                          properties:
                            ip:
                              type: string
                              example: 203.0.113.50
                            token_name:
                              type: string
                              example: 'Production API Key'
                        occurred_at:
                          type: string
                          example: '2026-02-01T09:50:21+00:00'
                        created_at:
                          type: string
                          example: '2026-02-01T09:50:21+00:00'
                  links:
                    type: object
                    properties: {  }
                  meta:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Event logs retrieved successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
      tags:
        - Events
  /api/v1/vector/php-versions:
    get:
      summary: 'List PHP Versions'
      operationId: listPHPVersions
      description: "Retrieves a list of all available PHP versions for Vector environments.\n\nCurrently supported versions: 7.2, 7.3, 7.4, 8.0, 8.1, 8.2, 8.3, 8.4, 8.5"
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    -
                      value: '7.2'
                      label: 'PHP 7.2'
                    -
                      value: '7.3'
                      label: 'PHP 7.3'
                    -
                      value: '7.4'
                      label: 'PHP 7.4'
                    -
                      value: '8.0'
                      label: 'PHP 8.0'
                    -
                      value: '8.1'
                      label: 'PHP 8.1'
                    -
                      value: '8.2'
                      label: 'PHP 8.2'
                    -
                      value: '8.3'
                      label: 'PHP 8.3'
                    -
                      value: '8.4'
                      label: 'PHP 8.4'
                    -
                      value: '8.5'
                      label: 'PHP 8.5'
                  message: 'PHP versions retrieved successfully'
                  http_status: 200
                properties:
                  data:
                    type: array
                    example:
                      -
                        value: '7.2'
                        label: 'PHP 7.2'
                      -
                        value: '7.3'
                        label: 'PHP 7.3'
                      -
                        value: '7.4'
                        label: 'PHP 7.4'
                      -
                        value: '8.0'
                        label: 'PHP 8.0'
                      -
                        value: '8.1'
                        label: 'PHP 8.1'
                      -
                        value: '8.2'
                        label: 'PHP 8.2'
                      -
                        value: '8.3'
                        label: 'PHP 8.3'
                      -
                        value: '8.4'
                        label: 'PHP 8.4'
                      -
                        value: '8.5'
                        label: 'PHP 8.5'
                    items:
                      type: object
                      properties:
                        value:
                          type: string
                          example: '7.2'
                        label:
                          type: string
                          example: 'PHP 7.2'
                  message:
                    type: string
                    example: 'PHP versions retrieved successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
      tags:
        - 'PHP Versions'
  /api/v1/vector/webhooks:
    get:
      summary: 'List Webhooks'
      operationId: listWebhooks
      description: "Retrieves a paginated list of all webhooks for the authenticated account.\nWebhook secrets are never included in list responses."
      parameters:
        -
          in: query
          name: per_page
          description: 'Number of items per page (max 100). Default: 15.'
          example: 25
          required: false
          schema:
            type: integer
            description: 'Number of items per page (max 100). Default: 15.'
            example: 25
        -
          in: query
          name: page
          description: 'Page number for pagination. Default: 1.'
          example: 1
          required: false
          schema:
            type: integer
            description: 'Page number for pagination. Default: 1.'
            example: 1
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    -
                      id: 01JFGXK4NQRST5VWX9YZ0ABCDI
                      account_id: 1
                      type: http
                      url: 'https://example.com/webhook'
                      events:
                        - site.created
                        - deployment.completed
                      enabled: true
                      created_at: '2025-05-27T09:50:21+00:00'
                      updated_at: '2025-05-27T09:50:21+00:00'
                  links: {  }
                  meta: {  }
                  message: 'Webhooks retrieved successfully'
                  http_status: 200
                properties:
                  data:
                    type: array
                    example:
                      -
                        id: 01JFGXK4NQRST5VWX9YZ0ABCDI
                        account_id: 1
                        type: http
                        url: 'https://example.com/webhook'
                        events:
                          - site.created
                          - deployment.completed
                        enabled: true
                        created_at: '2025-05-27T09:50:21+00:00'
                        updated_at: '2025-05-27T09:50:21+00:00'
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          example: 01JFGXK4NQRST5VWX9YZ0ABCDI
                        account_id:
                          type: integer
                          example: 1
                        type:
                          type: string
                          example: http
                        url:
                          type: string
                          example: 'https://example.com/webhook'
                        events:
                          type: array
                          example:
                            - site.created
                            - deployment.completed
                          items:
                            type: string
                        enabled:
                          type: boolean
                          example: true
                        created_at:
                          type: string
                          example: '2025-05-27T09:50:21+00:00'
                        updated_at:
                          type: string
                          example: '2025-05-27T09:50:21+00:00'
                  links:
                    type: object
                    properties: {  }
                  meta:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Webhooks retrieved successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
      tags:
        - Webhooks
    post:
      summary: 'Create Webhook'
      operationId: createWebhook
      description: "Creates a new webhook for the current account.\n\n> [!WARNING]\n> For HTTP webhooks, the secret is returned ONLY in this response. Store it securelyit cannot be retrieved again (only rotated via the rotate-secret endpoint).\n\nSlack webhooks do not require secrets as they use URL-based authentication."
      parameters: []
      responses:
        201:
          description: ''
          content:
            application/json:
              schema:
                oneOf:
                  -
                    description: 'HTTP Webhook Created'
                    type: object
                    example:
                      data:
                        id: 01JFGXK4NQRST5VWX9YZ0ABCDI
                        account_id: 1
                        type: http
                        url: 'https://example.com/webhook'
                        events:
                          - site.created
                          - deployment.completed
                        secret: a1b2c3d4e5f6789012345678901234567890123456789012345678901234abcd
                        enabled: true
                        created_at: '2025-05-27T09:50:21+00:00'
                        updated_at: '2025-05-27T09:50:21+00:00'
                      message: 'Webhook created successfully. Store the secret securely - it will not be shown again.'
                      http_status: 201
                    properties:
                      data:
                        type: object
                        properties:
                          id:
                            type: string
                            example: 01JFGXK4NQRST5VWX9YZ0ABCDI
                          account_id:
                            type: integer
                            example: 1
                          type:
                            type: string
                            example: http
                          url:
                            type: string
                            example: 'https://example.com/webhook'
                          events:
                            type: array
                            example:
                              - site.created
                              - deployment.completed
                            items:
                              type: string
                          secret:
                            type: string
                            example: a1b2c3d4e5f6789012345678901234567890123456789012345678901234abcd
                          enabled:
                            type: boolean
                            example: true
                          created_at:
                            type: string
                            example: '2025-05-27T09:50:21+00:00'
                          updated_at:
                            type: string
                            example: '2025-05-27T09:50:21+00:00'
                      message:
                        type: string
                        example: 'Webhook created successfully. Store the secret securely - it will not be shown again.'
                      http_status:
                        type: integer
                        example: 201
                  -
                    description: 'Slack Webhook Created'
                    type: object
                    example:
                      data:
                        id: 01JFGXK4NQRST5VWX9YZ0ABCDI
                        account_id: 1
                        type: slack
                        url: 'https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXXXXXX'
                        events:
                          - deployment.completed
                          - deployment.failed
                        enabled: true
                        created_at: '2025-05-27T09:50:21+00:00'
                        updated_at: '2025-05-27T09:50:21+00:00'
                      message: 'Slack webhook created successfully.'
                      http_status: 201
                    properties:
                      data:
                        type: object
                        properties:
                          id:
                            type: string
                            example: 01JFGXK4NQRST5VWX9YZ0ABCDI
                          account_id:
                            type: integer
                            example: 1
                          type:
                            type: string
                            example: slack
                          url:
                            type: string
                            example: 'https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXXXXXX'
                          events:
                            type: array
                            example:
                              - deployment.completed
                              - deployment.failed
                            items:
                              type: string
                          enabled:
                            type: boolean
                            example: true
                          created_at:
                            type: string
                            example: '2025-05-27T09:50:21+00:00'
                          updated_at:
                            type: string
                            example: '2025-05-27T09:50:21+00:00'
                      message:
                        type: string
                        example: 'Slack webhook created successfully.'
                      http_status:
                        type: integer
                        example: 201
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        422:
          description: 'Validation Error'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  errors:
                    events:
                      - 'At least one event must be specified.'
                  message: 'Validation failed'
                  http_status: 422
                properties:
                  data:
                    type: object
                    properties: {  }
                  errors:
                    type: object
                    properties:
                      events:
                        type: array
                        example:
                          - 'At least one event must be specified.'
                        items:
                          type: string
                  message:
                    type: string
                    example: 'Validation failed'
                  http_status:
                    type: integer
                    example: 422
      tags:
        - Webhooks
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                type:
                  type: string
                  description: 'The webhook type. Options: `http`, `slack`. Default: http.'
                  example: http
                url:
                  type: string
                  description: 'The webhook URL. For HTTP: must use HTTPS. For Slack: must be a Slack webhook URL.'
                  example: 'https://example.com/webhook'
                events:
                  type: array
                  description: 'Array of events to subscribe to. See available events below.'
                  example:
                    - site.created
                    - deployment.completed
                  items:
                    type: string
                enabled:
                  type: boolean
                  description: 'Whether the webhook is enabled. Default: true.'
                  example: true
              required:
                - url
                - events
  '/api/v1/vector/webhooks/{webhook}':
    get:
      summary: 'Get Webhook'
      operationId: getWebhook
      description: "Retrieves details of a specific webhook. The secret is never included\nin this response - use the rotate-secret endpoint if you need a new secret."
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDI
                    account_id: 1
                    type: http
                    url: 'https://example.com/webhook'
                    events:
                      - site.created
                      - deployment.completed
                    enabled: true
                    created_at: '2025-05-27T09:50:21+00:00'
                    updated_at: '2025-05-27T09:50:21+00:00'
                  message: 'Webhook retrieved successfully'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDI
                      account_id:
                        type: integer
                        example: 1
                      type:
                        type: string
                        example: http
                      url:
                        type: string
                        example: 'https://example.com/webhook'
                      events:
                        type: array
                        example:
                          - site.created
                          - deployment.completed
                        items:
                          type: string
                      enabled:
                        type: boolean
                        example: true
                      created_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                      updated_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                  message:
                    type: string
                    example: 'Webhook retrieved successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Webhook not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Webhook not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Webhooks
    put:
      summary: 'Update Webhook'
      operationId: updateWebhook
      description: "Updates an existing webhook configuration. The secret cannot be updated\nthrough this endpoint - use the rotate-secret endpoint instead.\n\nThe webhook type cannot be changed after creation."
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDI
                    account_id: 1
                    type: http
                    url: 'https://example.com/new-webhook'
                    events:
                      - site.created
                      - site.updated
                    enabled: false
                    created_at: '2025-05-27T09:50:21+00:00'
                    updated_at: '2025-05-27T10:30:45+00:00'
                  message: 'Webhook updated successfully'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDI
                      account_id:
                        type: integer
                        example: 1
                      type:
                        type: string
                        example: http
                      url:
                        type: string
                        example: 'https://example.com/new-webhook'
                      events:
                        type: array
                        example:
                          - site.created
                          - site.updated
                        items:
                          type: string
                      enabled:
                        type: boolean
                        example: false
                      created_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                      updated_at:
                        type: string
                        example: '2025-05-27T10:30:45+00:00'
                  message:
                    type: string
                    example: 'Webhook updated successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Webhook not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Webhook not found'
                  http_status:
                    type: integer
                    example: 404
        422:
          description: 'Validation Error'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  errors:
                    events:
                      - 'At least one event must be specified.'
                  message: 'Validation failed'
                  http_status: 422
                properties:
                  data:
                    type: object
                    properties: {  }
                  errors:
                    type: object
                    properties:
                      events:
                        type: array
                        example:
                          - 'At least one event must be specified.'
                        items:
                          type: string
                  message:
                    type: string
                    example: 'Validation failed'
                  http_status:
                    type: integer
                    example: 422
      tags:
        - Webhooks
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                url:
                  type: string
                  description: 'The webhook URL. Must use HTTPS for HTTP webhooks.'
                  example: 'https://example.com/new-webhook'
                events:
                  type: array
                  description: 'Array of events to subscribe to.'
                  example:
                    - site.created
                    - site.updated
                  items:
                    type: string
                enabled:
                  type: boolean
                  description: 'Whether the webhook is enabled.'
                  example: false
    delete:
      summary: 'Delete Webhook'
      operationId: deleteWebhook
      description: "Deletes a webhook. All associated delivery logs will also be deleted.\nThis operation is irreversible."
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 01JFGXK4NQRST5VWX9YZ0ABCDI
                    account_id: 1
                    type: http
                    url: 'https://example.com/webhook'
                    events:
                      - site.created
                    enabled: true
                    created_at: '2025-05-27T09:50:21+00:00'
                    updated_at: '2025-05-27T09:50:21+00:00'
                  message: 'Webhook deleted successfully'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: 01JFGXK4NQRST5VWX9YZ0ABCDI
                      account_id:
                        type: integer
                        example: 1
                      type:
                        type: string
                        example: http
                      url:
                        type: string
                        example: 'https://example.com/webhook'
                      events:
                        type: array
                        example:
                          - site.created
                        items:
                          type: string
                      enabled:
                        type: boolean
                        example: true
                      created_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                      updated_at:
                        type: string
                        example: '2025-05-27T09:50:21+00:00'
                  message:
                    type: string
                    example: 'Webhook deleted successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Webhook not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Webhook not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Webhooks
    parameters:
      -
        in: path
        name: webhook
        description: 'The webhook ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcdi
        required: true
        schema:
          type: string
  '/api/v1/vector/webhooks/{webhook}/logs':
    get:
      summary: 'List Logs'
      operationId: listLogs
      description: "Retrieves a paginated list of delivery logs for a specific webhook.\nLogs are returned in reverse chronological order (newest first).\n\nEach log entry includes the event type, request payload, response details,\nand latency information. Logs are automatically pruned after 90 days."
      parameters:
        -
          in: query
          name: per_page
          description: 'Number of items per page (max 100). Default: 15.'
          example: 25
          required: false
          schema:
            type: integer
            description: 'Number of items per page (max 100). Default: 15.'
            example: 25
        -
          in: query
          name: page
          description: 'Page number for pagination. Default: 1.'
          example: 1
          required: false
          schema:
            type: integer
            description: 'Page number for pagination. Default: 1.'
            example: 1
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    -
                      id: 01JFGXK4NQRST5VWX9YZ0ABCDJ
                      vector_webhook_delivery_id: 01JFGXK4NQRST5VWX9YZ0ABCDK
                      vector_webhook_id: 01JFGXK4NQRST5VWX9YZ0ABCDI
                      event: vector.site.created
                      request_body:
                        event: vector.site.created
                        data: {  }
                      attempt: 1
                      response_status: 200
                      response_body: '{"success": true}'
                      response_headers:
                        content-type: application/json
                      latency_ms: 150
                      created_at: '2025-05-27T09:50:21+00:00'
                  links: {  }
                  meta: {  }
                  message: 'Webhook logs retrieved successfully'
                  http_status: 200
                properties:
                  data:
                    type: array
                    example:
                      -
                        id: 01JFGXK4NQRST5VWX9YZ0ABCDJ
                        vector_webhook_delivery_id: 01JFGXK4NQRST5VWX9YZ0ABCDK
                        vector_webhook_id: 01JFGXK4NQRST5VWX9YZ0ABCDI
                        event: vector.site.created
                        request_body:
                          event: vector.site.created
                          data: []
                        attempt: 1
                        response_status: 200
                        response_body: '{"success": true}'
                        response_headers:
                          content-type: application/json
                        latency_ms: 150
                        created_at: '2025-05-27T09:50:21+00:00'
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          example: 01JFGXK4NQRST5VWX9YZ0ABCDJ
                        vector_webhook_delivery_id:
                          type: string
                          example: 01JFGXK4NQRST5VWX9YZ0ABCDK
                        vector_webhook_id:
                          type: string
                          example: 01JFGXK4NQRST5VWX9YZ0ABCDI
                        event:
                          type: string
                          example: vector.site.created
                        request_body:
                          type: object
                          properties:
                            event:
                              type: string
                              example: vector.site.created
                            data:
                              type: object
                              properties: {  }
                        attempt:
                          type: integer
                          example: 1
                        response_status:
                          type: integer
                          example: 200
                        response_body:
                          type: string
                          example: '{"success": true}'
                        response_headers:
                          type: object
                          properties:
                            content-type:
                              type: string
                              example: application/json
                        latency_ms:
                          type: integer
                          example: 150
                        created_at:
                          type: string
                          example: '2025-05-27T09:50:21+00:00'
                  links:
                    type: object
                    properties: {  }
                  meta:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Webhook logs retrieved successfully'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Webhook Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Webhook not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Webhook not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Webhooks
    parameters:
      -
        in: path
        name: webhook
        description: 'The webhook ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcdi
        required: true
        schema:
          type: string
  '/api/v1/vector/webhooks/{webhook}/rotate-secret':
    post:
      summary: 'Rotate Secret'
      operationId: rotateSecret
      description: "Generates a new secret for the webhook. The old secret is immediately\ninvalidated and any pending deliveries will use the new secret.\n\n> [!WARNING]\n> The new secret is returned ONLY in this response. Store it securelyit cannot be retrieved again.\n\nThis endpoint is only available for HTTP webhooks. Slack webhooks do not\nuse secrets."
      parameters: []
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    secret: a1b2c3d4e5f6789012345678901234567890123456789012345678901234abcd
                  message: 'Webhook secret rotated successfully. Store the new secret securely - it will not be shown again.'
                  http_status: 200
                properties:
                  data:
                    type: object
                    properties:
                      secret:
                        type: string
                        example: a1b2c3d4e5f6789012345678901234567890123456789012345678901234abcd
                  message:
                    type: string
                    example: 'Webhook secret rotated successfully. Store the new secret securely - it will not be shown again.'
                  http_status:
                    type: integer
                    example: 200
        401:
          description: Unauthenticated
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthenticated
                  http_status: 401
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthenticated
                  http_status:
                    type: integer
                    example: 401
        403:
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: Unauthorized
                  http_status: 403
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: Unauthorized
                  http_status:
                    type: integer
                    example: 403
        404:
          description: 'Not Found'
          content:
            application/json:
              schema:
                type: object
                example:
                  data: {  }
                  message: 'Webhook not found'
                  http_status: 404
                properties:
                  data:
                    type: object
                    properties: {  }
                  message:
                    type: string
                    example: 'Webhook not found'
                  http_status:
                    type: integer
                    example: 404
      tags:
        - Webhooks
    parameters:
      -
        in: path
        name: webhook
        description: 'The webhook ID.'
        example: 01jfgxk4nqrst5vwx9yz0abcdi
        required: true
        schema:
          type: string
