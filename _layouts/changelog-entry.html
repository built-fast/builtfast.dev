---
layout: default
cta: changelog
---

{% assign sorted_entries = site.changelog | sort: "date" | reverse %}
{% assign entry_index = nil %}
{% for entry in sorted_entries %}
  {% if entry.url == page.url %}
    {% assign entry_index = forloop.index0 %}
  {% endif %}
{% endfor %}

{% if entry_index != nil %}
  {% assign prev_index = entry_index | minus: 1 %}
  {% assign next_index = entry_index | plus: 1 %}
  {% if prev_index >= 0 %}
    {% assign newer_entry = sorted_entries[prev_index] %}
  {% endif %}
  {% if next_index < sorted_entries.size %}
    {% assign older_entry = sorted_entries[next_index] %}
  {% endif %}
{% endif %}

<section class="py-12 md:py-16 border-t border-subtle">
  <div class="max-w-3xl mx-auto px-6">
    <!-- Header -->
    <header class="changelog-show-header">
      <a href="/changelog/" class="changelog-show-back">
        {% include icons/chevron-left.html size="sm" %}
        Back to changelog
      </a>
      <div class="changelog-show-meta">
        <time datetime="{{ page.date | date: '%Y-%m-%d' }}" class="changelog-show-date">
          {{ page.date | date: "%B %-d, %Y" }}
        </time>
        <div class="changelog-show-tags">
          {% for tag in page.tags %}
          {% capture tag_label %}{% include changelog/tag-category.html tag=tag %}{% endcapture %}
          {% if tag == "bug" %}
          {% include components/lang-badge.html name=tag_label size="sm" variant="red" %}
          {% else %}
          {% include components/lang-badge.html name=tag_label size="sm" %}
          {% endif %}
          {% endfor %}
        </div>
      </div>
      <h1 class="changelog-show-title">{{ page.title }}</h1>
    </header>

    <!-- Content -->
    <div class="prose changelog-show-content">
      {{ content }}
    </div>

    <!-- Footer Navigation -->
    <footer class="mt-12 pt-8 border-t border-subtle">
      <nav class="grid grid-cols-1 md:grid-cols-2 gap-4">
        {% if older_entry %}
        <a href="{{ older_entry.url }}" class="card p-4 hover:border-emphasis group">
          <span class="text-xs text-muted uppercase tracking-wide flex items-center gap-1">
            {% include icons/arrow-left.html size="xs" %}
            Older
          </span>
          <p class="text-sm text-primary group-hover:text-cyan transition-colors mt-1">{{ older_entry.title }}</p>
        </a>
        {% else %}
        <div></div>
        {% endif %}

        {% if newer_entry %}
        <a href="{{ newer_entry.url }}" class="card p-4 hover:border-emphasis group text-right">
          <span class="text-xs text-muted uppercase tracking-wide flex items-center justify-end gap-1">
            Newer
            {% include icons/arrow-right.html size="xs" %}
          </span>
          <p class="text-sm text-primary group-hover:text-cyan transition-colors mt-1">{{ newer_entry.title }}</p>
        </a>
        {% endif %}
      </nav>
    </footer>
  </div>
</section>
